<%= javascript_include_tag "application-loggedin", "data-turbolinks-track" => true %>
<div class="modal-dialog" style="width: 40%;">
  <!-- Modal content-->
  <div class="modal-content">
    <%= form_for @refund_payment, url: invoice_refund_payment_path(id: @refund_payment.id), format: :js, remote: true do |f| %>
      <%= f.hidden_field :type, value: @refund_payment.type %>
      <%= f.hidden_field :currency_symbol, value: @refund_payment.currency_symbol %>
      <%= f.hidden_field :currency_id, value: @refund_payment.currency_id %>
      <%= f.hidden_field :patient_id, value: @refund_payment.patient_id %>
      <%= f.hidden_field :user_id, value: @refund_payment.user_id %>
      <%= f.hidden_field :facility_id, value: @refund_payment.facility_id %>
      <%= f.hidden_field :organisation_id, value: @refund_payment.organisation_id %>
      <%= f.hidden_field :specialty_id, value: params[:specialty_id] %>
      <%= f.hidden_field :department_id, value: @department_id %>
      <%= f.hidden_field :department_name, value: @department_name %>
      <%= f.hidden_field :payment_time %>
      <%= f.hidden_field :payment_date %>
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Refund Receipt</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <%= render partial: 'form.html.erb', locals: { f: f } %>
        </div>
      </div>
      <div class="modal-footer">
        <%= f.submit "Save", class: "btn btn-success", :data => {'disable-with' =>  "Please Wait..." }, :onclick => 'refund_invoice()' %>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    <% end %>
  </div>
</div>

<style type="text/css">
  #refund_payment_payment_date, #dummy_payment_time, #refund_payment_cheque_date, #refund_payment_transfer_date {
    background: #fff;
    cursor: pointer;
  }

  input.error, select.error {
    border-color: #b94a48;
    background-image: none;
  }
  input.valid, select.valid {
    border-color: #468847;
    background-image: none;
  }
</style>