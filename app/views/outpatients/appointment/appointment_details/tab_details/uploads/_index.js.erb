const filterUploads = (uploadTypeFilter) => {
  let filter = $(uploadTypeFilter).val();

  let data = { patient_id: "<%= @patient.id.to_s %>" }

  if (filter) {
    data['filter'] = filter
  }

  $.ajax({
    method: "GET",
    dataType: "script",
    url:"/outpatients/filter_uploads",
    data: data,
    success: function() {
      $('.upload_type_filter').not(this).val(filter);
    }
  })
}

$('.upload_type_filter').on('change', function() {
  filterUploads(this);
});
