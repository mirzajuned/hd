const filterProcedures = () => {
  let advised_by = $('#procedure_advised_by_filter').val();
  let advised_on = $('#procedure_advised_on_filter').val();
  let performed_on = $('#procedure_performed_on_filter').val();

  let data = { patient_id: "<%= @patient.id.to_s %>" }

  if (advised_by) {
    data['advised_by'] = advised_by
  }

  if (advised_on) {
    data['advised_on'] = advised_on
  }

  if (performed_on) {
    data['performed_on'] = performed_on
  }

  $.ajax({
    method: "GET",
    dataType: "script",
    url:"/outpatients/filter_procedures",
    data: data,
    success: function() {
    }
  })
}

$('#procedure_advised_by_filter').on('change', function() {
  filterProcedures();
})

$('#procedure_advised_on_filter').on('change', function() {
  filterProcedures();
})

$('#procedure_performed_on_filter').on('change', function() {
  filterProcedures();
})
