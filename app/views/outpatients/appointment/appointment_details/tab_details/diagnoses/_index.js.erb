const filterDiagnoses = () => {
  let advised_by = $('#diagnosis_advised_by_filter').val();
  let advised_on = $('#diagnosis_advised_on_filter').val();

  let data = { patient_id: "<%= @patient.id.to_s %>" }

  if (advised_by) {
    data['advised_by'] = advised_by
  }

  if (advised_on) {
    data['advised_on'] = advised_on
  }

  $.ajax({
    method: "GET",
    dataType: "script",
    url:"/outpatients/filter_diagnoses",
    data: data,
    success: function() {
    }
  })
}

$('#diagnosis_advised_by_filter').on('change', function() {
  filterDiagnoses();
})

$('#diagnosis_advised_on_filter').on('change', function() {
  filterDiagnoses();
})
