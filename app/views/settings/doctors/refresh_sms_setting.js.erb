$("#sms-setting-modal").modal("hide")
$(".sms_settings_refresh").html("<%= escape_javascript(render 'sms_settings_partial') %>")

$('.followup_sms_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.birthday_sms_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.appointment_sms_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.campaign_sms_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.visit_sms_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.long_overdue_sms_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.missed_sms_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.discharge_sms_active_inactive').on('click', function() {
    $(this).confirmModal()
});
var togglebuttonactive = {
  on: true,
};
var togglebuttoninactive = {
  off: true,
}

//followup sms toggle
$('#followup_sms_active').toggles(togglebuttonactive);
$('#followup_sms_inactive').toggles(togglebuttoninactive);
$('.followup_sms_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var followup_sms_active_inactive = 'true'
  } else {
    var followup_sms_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/followup_sms_setting_save',
    data: {followup_sms_active_inactive: followup_sms_active_inactive, remote: "true" },
  });
});

//birthday sms toggle
$('#birthday_sms_active').toggles(togglebuttonactive);
$('#birthday_sms_inactive').toggles(togglebuttoninactive);
$('.birthday_sms_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var birthday_sms_active_inactive = 'true'
  } else {
    var birthday_sms_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/birthday_sms_setting_save',
    data: {birthday_sms_active_inactive: birthday_sms_active_inactive, remote: "true" },
  });
});
//appointment sms toggle
$('#appointment_sms_active').toggles(togglebuttonactive);
$('#appointment_sms_inactive').toggles(togglebuttoninactive);
$('.appointment_sms_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var appointment_sms_active_inactive = 'true'
  } else {
    var appointment_sms_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/appointment_sms_setting_save',
    data: {appointment_sms_active_inactive: appointment_sms_active_inactive, remote: "true" },
  });
});
//campaign sms toggle
$('#campaign_sms_active').toggles(togglebuttonactive);
$('#campaign_sms_inactive').toggles(togglebuttoninactive);
$('.campaign_sms_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var campaign_sms_active_inactive = 'true'
  } else {
    var campaign_sms_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/campaign_sms_setting_save',
    data: {campaign_sms_active_inactive: campaign_sms_active_inactive, remote: "true" },
  });
});

//visit sms toggle
$('#visit_sms_active').toggles(togglebuttonactive);
$('#visit_sms_inactive').toggles(togglebuttoninactive);
$('.visit_sms_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var visit_sms_active_inactive = 'true'
  } else {;
    var visit_sms_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/visit_sms_setting_save',
    data: {visit_sms_active_inactive: visit_sms_active_inactive, remote: "true" },
  });
});

//missed sms toggle
$('#missed_sms_active').toggles(togglebuttonactive);
$('#missed_sms_inactive').toggles(togglebuttoninactive);
$('.missed_sms_active_inactive').on('toggle', function(e, active) {
    if (active) {
        var missed_sms_active_inactive = 'true'
    } else {;
        var missed_sms_active_inactive = 'false'
    }
    jQuery.ajax({
        type: "GET",
        url: '/organisations/missed_sms_setting_save',
        data: {missed_sms_active_inactive: missed_sms_active_inactive, remote: "true" },
    });
});

//discharge sms toggle
$('#discharge_sms_active').toggles(togglebuttonactive);
$('#discharge_sms_inactive').toggles(togglebuttoninactive);
$('.discharge_sms_active_inactive').on('toggle', function(e, active) {
    if (active) {
        var discharge_sms_active_inactive = 'true'
    } else {;
        var discharge_sms_active_inactive = 'false'
    }
    jQuery.ajax({
        type: "GET",
        url: '/organisations/discharge_sms_setting_save',
        data: {discharge_sms_active_inactive: discharge_sms_active_inactive, remote: "true" },
    });
});

//longoverdue sms toggle
$('#long_overdue_sms_active').toggles(togglebuttonactive);
$('#long_overdue_sms_inactive').toggles(togglebuttoninactive);
$('.long_overdue_sms_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var long_overdue_sms_active_inactive = 'true'
  } else {;
    var long_overdue_sms_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/long_overdue_sms_setting_save',
    data: {long_overdue_sms_active_inactive: long_overdue_sms_active_inactive, remote: "true" },
  });
});
