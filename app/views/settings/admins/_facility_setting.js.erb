<%= render partial: '/inventory/stores/index.js' %>
$(document).on({
  ajaxStart: function() {$(".loading-gif").show()    },
  ajaxStop: function() { $(".loading-gif").hide() }
});

jQuery("#manage_organisation_id").on('click',function(e) {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    data: {level: "facility"},
    url: '/organisations/manage'
  });
});

jQuery("#facility_contact_list_ids").on('click',function(e) {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/facility_contacts'
  });
});

jQuery("#manage_referrals_id").on('click',function(e) {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/referral_types'
  });
});

$("#manage_wards_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true"},
    url: "/wards"
  })
})

jQuery("#ot_setup_form_settings_id").on('click',function(e) {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/ot_rooms'
  });
});

$("#manage_psrs_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true"},
    url: "/link_psrs"
  })
});

$("#display_font_size_id").on("click",function(e){
  $.ajax({
    url: "<%= display_font_size_facility_path(current_facility.id) %>",
    type: "GET",
    dataType: "script",
    data: {remote: "true"}
  })
})

$("#all_camps_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true", type: 'facility'},
    url: "/camps"
  })
})

$("#time_slots_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true", level: 'facility'},
    url: "/user_time_slots"
  })
})

jQuery("#manage_surgery_package_id").on('click',function(e) {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/surgery_packages'
  });
});

jQuery("#manage_pricing_master_id").on('click',function(e) {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/pricing_masters'
  });
});

jQuery("#manage_invoice_templates_id").on('click',function(e) {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/invoice_templates'
  });
});

// for loading facility appointment types
$("#facility_appointment_id").on('click',function(e){
  $.ajax({
    type:"GET",
    dataType: 'script',
    url: '/appointment_types/facility_appointment_type'
  })
});

// for facility level medication sets
$("#medication_set_facility_id").on('click',function(e){
  $.ajax({
    type: 'GET',
    dataType: 'script',
    data: {remote: "true"},
    url:'/medication_kits/facility_medication_kit'
  })
})

$("#medication_lists_facility_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true"},
    url: "/medication_kits/get_facility_medication_list"
  })
})

$("#medication_certificate_facility_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true"},
    url: "/user_notes_templates/get_facility_certificates"
  })
})

// advice set
$("#advice_set_facility_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true"},
    url: "/advice_sets/facility_advice_set"
  })
})

// in-patient_surgical_notes
$("#in_patient_surg_notes_facility_id").on("click",function(e){
  $.ajax({
    type: "GET",
    dataType: "script",
    data: {remote: "true"},
    url: "/procedure_notes/get_facility_procedure_notes"
  })
});

jQuery("#laboratorysets_ids").on('click',function() {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    data: { remote: "true"},
    url: '/medication_kits/facilitylaboratorysets'
  });
});

$("#manage_sms_settings_id").click(function(e){
  e.preventDefault();
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/sms_settings/manage_sms'
  });
})

$("#queue_stations_id").on('click',function(e) {
  $.ajax({
    type: "GET",
    dataType: "script",
    url: '/queue_management/stations',
    data: { facility_id: '<%= current_facility.id.to_s %>' }
  });
});

$("#queue_screens_id").on('click',function(e) {
  $.ajax({
    type: "GET",
    dataType: "script",
    url: '/queue_management/screens',
    data: { facility_id: '<%= current_facility.id.to_s %>' }
  });
});

$(function() {
  jQuery.ajax({
    type: "GET",
    dataType: "script",
    url: '/organisations/manage'
  });
});

$('.settings_update li ul li a').on('click',function(e){
  $("#organisation_appointments").empty();
  $("#organisation_appointments").html('');
  $("#facility_appointments").empty();
  $("#facility_appointments").html('');
  $("#organisation_sub_appointments").empty('');
})

$('.setting-heading').on('click', function(){
  $(this).siblings('.setting-heading').find('.collapse.in').siblings('a').click()
})
