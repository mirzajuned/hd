jQuery(document).ready(function() {
    jQuery(".sijointpathology_options").hide();
    jQuery(".ankylosingspondylitissigns_options").hide();
    jQuery(".neurologicalexamination-options").hide();

    jQuery("input[name='opdrecord[neurologicalexamination]']").on('change', function() {
        if (this.value === "Abnormal") {
            jQuery(".neurologicalexamination-options").show();
        }
        else if (this.value === "Normal") {
            jQuery(".neurologicalexamination-options").hide();
        }
    });
    jQuery("input[name='opdrecord[sijointpathology]']").on('change', function() {
        if (this.value === "Yes") {
            jQuery(".sijointpathology_options").show();
        }
        else if (this.value === "No") {
            jQuery(".sijointpathology_options").hide();
        }
    });
    jQuery("input[name='opdrecord[ankylosingspondylitissigns]']").on('change', function() {
        if (this.value === "Yes") {
            jQuery(".ankylosingspondylitissigns_options").show();
        }
        else if (this.value === "No") {
            jQuery(".ankylosingspondylitissigns_options").hide();
        }
    });
    jQuery(".skincondition_buttons").on('click', function() {
        var clickedbutton = this;
        if (jQuery(clickedbutton).attr("input-value") === "Normal") {
            if (jQuery(clickedbutton).hasClass("btn-darkblue")) {
                jQuery(clickedbutton).removeClass("btn-darkblue");
                jQuery("#opdrecord_skincondition").val("");
            } else {
                jQuery(".skincondition_buttons").removeClass("btn-darkblue");
                jQuery("#opdrecord_skincondition").val("");
            }
        } else if (jQuery(clickedbutton).attr("input-value") !== "Normal") {
            jQuery.each(jQuery(".skincondition_buttons"), function(index, button) {
                if (jQuery(button).attr("input-value") === "Normal" && jQuery(button).hasClass("btn-darkblue")) {
                    jQuery(button).removeClass("btn-darkblue");
                    jQuery("#opdrecord_skincondition").val("");
                }
            });
        }
    });
    jQuery(".deformity_buttons").on('click', function() {
        var clickedbutton = this;
        if (jQuery(clickedbutton).attr("input-value") === "None") {
            if (jQuery(clickedbutton).hasClass("btn-darkblue")) {
                jQuery(clickedbutton).removeClass("btn-darkblue");
                jQuery("#opdrecord_deformity").val("");
            } else {
                jQuery(".deformity_buttons").removeClass("btn-darkblue");
                jQuery("#opdrecord_deformity").val("");
            }
        } else if (jQuery(clickedbutton).attr("input-value") !== "None") {
            jQuery.each(jQuery(".deformity_buttons"), function(index, button) {
                if (jQuery(button).attr("input-value") === "None" && jQuery(button).hasClass("btn-darkblue")) {
                    jQuery(button).removeClass("btn-darkblue");
                    jQuery("#opdrecord_deformity").val("");
                }
            });
        }
    });
    jQuery(".positiveroottensionsigns_buttons").on('click', function() {
        var clickedbutton = this;
        if (jQuery(clickedbutton).attr("input-value") === "None") {
            if (jQuery(clickedbutton).hasClass("btn-darkblue")) {
                jQuery(clickedbutton).removeClass("btn-darkblue");
                jQuery("#opdrecord_positiveroottensionsigns").val("");
            } else {
                jQuery(".positiveroottensionsigns_buttons").removeClass("btn-darkblue");
                jQuery("#opdrecord_positiveroottensionsigns").val("");
            }
        } else if (jQuery(clickedbutton).attr("input-value") !== "None") {
            jQuery.each(jQuery(".positiveroottensionsigns_buttons"), function(index, button) {
                if (jQuery(button).attr("input-value") === "None" && jQuery(button).hasClass("btn-darkblue")) {
                    jQuery(button).removeClass("btn-darkblue");
                    jQuery("#opdrecord_positiveroottensionsigns").val("");
                }
            });
        }
    });
    jQuery(".gait_buttons").on('click', function() {
        var clickedbutton = this;
        if (jQuery(clickedbutton).attr("input-value") === "Normal") {
            if (jQuery(clickedbutton).hasClass("btn-darkblue")) {
                jQuery(clickedbutton).removeClass("btn-darkblue");
                jQuery("#opdrecord_gait").val("");
            } else {
                jQuery(".gait_buttons").removeClass("btn-darkblue");
                jQuery("#opdrecord_gait").val("");
            }
        } else if (jQuery(clickedbutton).attr("input-value") !== "Normal") {
            jQuery.each(jQuery(".gait_buttons"), function(index, button) {
                if (jQuery(button).attr("input-value") === "Normal" && jQuery(button).hasClass("btn-darkblue")) {
                    jQuery(button).removeClass("btn-darkblue");
                    jQuery("#opdrecord_gait").val("");
                }
            });
        }
    });
    jQuery("#opdrecord_anthropometryheight, #opdrecord_anthropometryweight").on('change', function() {
        if ((jQuery("#opdrecord_anthropometryheight").val().length > 0) && (jQuery("#opdrecord_anthropometryweight").val().length > 0)) {
            var height = jQuery("#opdrecord_anthropometryheight").val() / 100;
            var weight = jQuery("#opdrecord_anthropometryweight").val();
            var bmi = "";
            bmi = weight / Math.pow(height, 2);
            jQuery("#opdrecord_anthropometrybmi").val(bmi.toFixed(1));
        }
    });
});

function sijointpathology(){
  if ($("input[name='opdrecord[sijointpathology]']").val() == "Yes") {
    jQuery(".sijointpathology_options").show();
  }
  else if ($("input[name='opdrecord[sijointpathology]']").val() == "No") {
    jQuery(".sijointpathology_options").hide();
  }
}

function ankylosingspondylitissigns(){
  if ($("input[name='opdrecord[ankylosingspondylitissigns]']").val() == "Yes") {
    jQuery(".ankylosingspondylitissigns_options").show();
  }
  else if ($("input[name='opdrecord[ankylosingspondylitissigns]']").val() == "No") {
    jQuery(".ankylosingspondylitissigns_options").hide();
  }
}

function neurologicalexamination(){
  if ($("input[name='opdrecord[neurologicalexamination]']").val() == "Abnormal") {
    jQuery(".neurologicalexamination-options").show();
  }
  else if ($("input[name='opdrecord[ankylosingspondylitissigns]']").val() == "Normal") {
    jQuery(".neurologicalexamination_options").hide();
  }
}

sijointpathology();

ankylosingspondylitissigns();

neurologicalexamination();
