<% if opdrecord.send("#{@flag}_examination_flag") == "1" %>
    <!---counter-code-->
    <% rightupperlimbcounter = 0%>
    <% leftupperlimbcounter = 0%>
    <% rightlowerlimbcounter = 0%>
    <% leftlowerlimbcounter = 0%>
    <% righttrunk = 0 %>
    <% lefttrunk = 0 %>
    <% rightneck = 0 %>
    <% leftneck = 0 %>
    <% examination_counter = 0 %>
    <% unless opdrecord.generalsigns.blank? %>
        <% examination_counter = examination_counter+1 %>
    <% end %>
    <% unless opdrecord.level.blank? %>
        <% examination_counter = examination_counter+1 %>
    <% end %>
    <% unless opdrecord.skincondition.blank? %>
        <% unless opdrecord.skincondition == "Normal" %>
            <% examination_counter = examination_counter+1 %>
        <% end %>
    <% end %>
    <% unless opdrecord.deformity.blank? %>
        <% unless opdrecord.deformity == "None" %>
            <% examination_counter = examination_counter+1 %>
        <% end %>
    <% end %>
    <% unless opdrecord.movements.blank? %>
        <% examination_counter = examination_counter+1 %>
    <% end %>
    <% unless opdrecord.positiveroottensionsigns.blank? %>
        <% unless opdrecord.positiveroottensionsigns == "None" %>
            <% examination_counter = examination_counter+1 %>
        <% end %>
    <% end %>
    <% unless opdrecord.sijointpathology.blank? %>
        <% unless opdrecord.sijointpathology == "No" %>
            <% examination_counter = examination_counter+1 %>
        <% end %>
    <% end %>
    <% unless opdrecord.ankylosingspondylitissigns.blank? %>
        <% unless opdrecord.ankylosingspondylitissigns == "No" %>
            <% examination_counter = examination_counter+1 %>
        <% end %>
    <% end %>
    <% unless opdrecord.gait.blank? %>
        <% unless opdrecord.gait == "Normal" %>
            <% examination_counter = examination_counter+1 %>
        <% end %>
    <% end %>
    <%if opdrecord.read_attribute(":neurologicalexamination")=="Abnormal"%>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% counterupperlimblevel=[5,6,7,8]%>
    <% counterupperlimblevel.each do |i| %>
        <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightc#{i}") != "5/5" %>
            <% rightupperlimbcounter = rightupperlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>

        <% if opdrecord.read_attribute(:"sensorylossupperlimbrightc#{i}") != "0%"%>
            <% rightupperlimbcounter = rightupperlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
        <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftc#{i}") != "5/5"  %>
            <% leftupperlimbcounter = leftupperlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
        <% if opdrecord.read_attribute(:"sensorylossupperlimbleftc#{i}") != "0%"  %>
            <% leftupperlimbcounter = leftupperlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
    <%end%>
    <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftt1") != "5/5"  %>
        <% leftupperlimbcounter = leftupperlimbcounter + 1 %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"sensorylossupperlimbleftt1") != "0%"  %>
        <% leftupperlimbcounter = leftupperlimbcounter + 1 %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightt1") != "5/5"  %>
        <% rightupperlimbcounter = rightupperlimbcounter + 1 %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"sensorylossupperlimbleftt1") != "0%"  %>
        <% rightupperlimbcounter = rightupperlimbcounter + 1 %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <% counterlowerlimblevel=[2,3,4,5]%>
    <% counterlowerlimblevel.each do |i| %>
        <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrightl#{i}") != "5/5"  %>
            <% rightlowerlimbcounter = rightlowerlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
        <% if opdrecord.read_attribute(:"sensorylosslowerlimbrightl#{i}") != "0%"  %>
            <% rightlowerlimbcounter = rightlowerlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
        <% if opdrecord.read_attribute(:"lossofpowerlowerlimbleftl#{i}") != "5/5"  %>
            <% leftlowerlimbcounter = leftlowerlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
        <% if opdrecord.read_attribute(:"sensorylosslowerlimbleftl#{i}") != "0%"  %>
            <% leftlowerlimbcounter = leftlowerlimbcounter + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
    <%end%>
    <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrights1") != "5/5"  %>
        <% rightlowerlimbcounter = rightlowerlimbcounter + 1 %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"sensorylosslowerlimbrights1") != "0%"  %>
        <% rightlowerlimbcounter = rightlowerlimbcounter + 1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"lossofpowerlowerlimblefts1") != "5/5"  %>
        <% leftlowerlimbcounter = leftlowerlimbcounter + 1 %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"sensorylosslowerlimblefts1") != "0%"  %>
        <% leftlowerlimbcounter = leftlowerlimbcounter + 1 %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <% trunklevel=[4,10,12]%>
    <% trunklevel.each do |i| %>
        <% if opdrecord.read_attribute(:"sensorylosstrunkrightt#{i}") != "0%"  %>
            <% righttrunk = righttrunk + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
        <% if opdrecord.read_attribute(:"sensorylosstrunkleftt#{i}") != "0%"  %>
            <% lefttrunk = lefttrunk + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
    <%end%>
    <% necklevel=[2,3,4]%>
    <% necklevel.each do |i| %>
        <% if opdrecord.read_attribute(:"sensorylossneckrightc#{i}") != "0%"  %>
            <% rightneck = rightneck + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
        <% if opdrecord.read_attribute(:"sensorylossneckleftc#{i}") != "0%"  %>
            <% leftneck = leftneck + 1 %>
            <% examination_counter = examination_counter+1 %>
        <%end%>
    <%end%>

    <% unless opdrecord.otherabnormalresponses.blank? %>
        <% examination_counter = examination_counter+1 %>
    <% end %>
    <% unless opdrecord.othersigns.blank? %>
        <% examination_counter = examination_counter+1 %>
    <% end %>
    <% unless opdrecord.objectivecomments.blank? %>
        <% examination_counter = examination_counter+1 %>
    <% end %>
    <% if opdrecord.read_attribute(:"deepreflexbicepsright") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <% if opdrecord.read_attribute(:"deepreflextricepsright") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <% if opdrecord.read_attribute(:"deepreflexsupinatorright") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"deepreflexkneeright") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"deepreflexankleright") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"analsensationright") != "Normal"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"voluntaryanalcontractionright") != "Normal"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"deepreflexbicepsleft") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <% if opdrecord.read_attribute(:"deepreflextricepsleft") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <% if opdrecord.read_attribute(:"deepreflexsupinatorleft") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"deepreflexkneeleft") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"deepreflexankleleft") != "++"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"analsensationleft") != "Normal"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>
    <% if opdrecord.read_attribute(:"voluntaryanalcontractionleft") != "Normal"  %>
        <% examination_counter = examination_counter+1 %>
    <%end%>

    <!--counter code ends here-->
    <div class="examination mb5" id="examination">
      <%if examination_counter > 0 %>

          <div class="row">
            <strong style="<%= heading_font_size %>">EXAMINATION :</strong>
            <div class="summary-line-border"></div>

          </div>
      <%end%>

      <div class="row">

        <div class="col-md-12 <%= 'print_text_font_size' if  @print_setting %>" style="<%= text_font_size %>">

          <% unless opdrecord.generalsigns.blank? %>
              <b>General Signs :</b>
              <%= opdrecord.read_attribute(:"generalsigns") %>
              |
          <% end %>
          <% unless opdrecord.level.blank? %>
              <b>Level :</b>
              <%= opdrecord.read_attribute(:"level") %>
              |
          <% end %>
          <% unless opdrecord.skincondition.blank? %>
              <% unless opdrecord.skincondition == "Normal" %>
                  <b>Skin Condition :</b>
                  <%= opdrecord.read_attribute(:"skincondition") %>
                  |
              <% end %>
          <% end %>
          <% unless opdrecord.examinationsigns.blank? %>

              <%= opdrecord.read_attribute(:"examinationsigns") %>
              |
          <% end %>
          <% unless opdrecord.deformity.blank? %>
              <% unless opdrecord.deformity == "None" %>
                  <b>Deformity :</b>
                  <%= opdrecord.read_attribute(:"deformity") %>
                  |
              <% end %>
          <% end %>
          <% unless opdrecord.movements.blank? %>
              <b>Movements :</b>
              <%= opdrecord.read_attribute(:"movements") %>
              |
          <% end %>
          <% unless opdrecord.positiveroottensionsigns.blank? %>
              <% unless opdrecord.positiveroottensionsigns == "None" %>
                  <b>Positive root tension signs :</b>
                  <%= opdrecord.read_attribute(:"positiveroottensionsigns") %>
                  |
              <% end %>
          <% end %>
          <% unless opdrecord.sijointpathology.blank? %>
              <% unless opdrecord.sijointpathology == "No" %>
                  <b>SI joint pathology :Positive test</b>
                  <%= opdrecord.read_attribute(:"sijointpathologytests") %>
                  |
              <% end %>
          <% end %>
          <% unless opdrecord.ankylosingspondylitissigns.blank? %>
              <% unless opdrecord.ankylosingspondylitissigns == "No" %>
                  <b>Ankylosing Spondylitis signs :</b> Abnormal test
                  <%= opdrecord.read_attribute(:"ankylosingspondylitissignstests") %>
                  |
              <% end %>
          <% end %>
          <% unless opdrecord.gait.blank? %>
              <% unless opdrecord.gait == "Normal" %>
                  <b>Gait :</b>
                  <%= opdrecord.read_attribute(:"gait") %>
                  |
              <% end %>
          <% end %>

          <br>
          <div class="row mt5 mb5">
            <% if examination_counter >0 %>
              <%if opdrecord.read_attribute(:"neurologicalexamination") ==  "Abnormal" %>
                <div class="col-md-12">
                  <p style="margin-bottom:0px;"><b>Neurological examination: Abnormal :</b>-</p>
                </div>
                <div class="col-md-6 text-center"><div style="background-color:#ddd">Right</div></div>
                <div class="col-md-6 text-center"><div style="background-color:#ddd">Left</div></div>
                <div class="col-md-6">
                  <% if rightupperlimbcounter > 0 || rightlowerlimbcounter > 0 || righttrunk > 0 || rightneck > 0 %>
                    <table class="table table-bordered mb5">
                      <tbody>
                        <tr>
                          <th style="padding:1px;font-size:11px;text-align:center;">Region</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Level</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Power</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Sensory Loss</th>
                        </tr>
                      </tbody>
                      <tbody>
                        <% if rightupperlimbcounter > 0 %>
                          <% rightupperlimblevel=[5,6,7,8]%>
                          <% upper_limb = 0 %>
                          <% rightupperlimblevel.each do |i| %>
                            <tr>
                              <!-- Show Upper Limb Text Once -->
                              <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightc#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbrightc#{i}") != "0%"  %>
                                <% if upper_limb == 0 %>
                                  <td style="padding:1px;font-size:11px;"><b>Upper Limb:</b></td><% upper_limb = upper_limb + 1 %>
                                <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbrightc#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbrightc#{i}") != "0%"  %>
                                  <td style="padding:1px;font-size:11px;"></td>
                                <% end %>
                              <% end %>
                              <!-- Show C(i) Value only if Power and Loss Field Fullfills -->
                              <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightc#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbrightc#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">C<%=i%></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightc#{i}") != "5/5"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerupperlimbrightc#{i}") %></td>
                              <% elsif opdrecord.read_attribute(:"sensorylossupperlimbrightc#{i}") != "0%" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"sensorylossupperlimbrightc#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylossupperlimbrightc#{i}") %>
                                </td>
                              <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbrightc#{i}") != "5/5" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                            </tr>
                          <% end %>
                          <tr>
                            <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightt1") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbrightt1") != "0%"  %>
                              <% if upper_limb == 0 %>
                                <td style="padding:1px;font-size:11px;"><b>Upper Limb:</b></td><% upper_limb = upper_limb + 1 %>
                              <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbrightt1") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbrightt1") != "0%"  %>
                                <td style="padding:1px;font-size:11px;"></td>
                              <% end %>
                            <% end %>
                            <!-- Show T1 Value only if Power and Loss Field Fullfills -->
                            <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightt1") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbrightt1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">T1</td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"lossofpowerupperlimbrightt1") != "5/5"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerupperlimbrightt1") %></td>
                            <% elsif opdrecord.read_attribute(:"sensorylossupperlimbrightt1") != "0%" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"sensorylossupperlimbrightt1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">
                                <%= opdrecord.read_attribute(:"sensorylossupperlimbrightt1") %>
                              </td>
                            <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbrightt1") != "5/5" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                          </tr>
                        <% end %>
                        <% if rightlowerlimbcounter > 0 %>
                          <% rightlowerlimblevel=[2,3,4,5]%>
                          <% lower_limb = 0 %>
                          <% rightlowerlimblevel.each do |i| %>
                            <tr>
                              <!-- Show Lower Limb Text Once -->
                              <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrightl#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbrightl#{i}") != "0%"  %>
                                <% if lower_limb == 0 %>
                                  <td style="padding:1px;font-size:11px;"><b>Lower Limb:</b></td><% lower_limb = lower_limb + 1 %>
                                <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimbrightl#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbrightl#{i}") != "0%"  %>
                                  <td style="padding:1px;font-size:11px;"></td>
                                <% end %>
                              <% end %>
                              <!-- Show L(i) Value only if Power and Loss Field Fullfills -->
                              <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrightl#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbrightl#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">L<%=i%></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrightl#{i}") != "5/5"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerlowerlimbrightl#{i}") %></td>
                              <% elsif opdrecord.read_attribute(:"sensorylosslowerlimbrightl#{i}") != "0%" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"sensorylosslowerlimbrightl#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylosslowerlimbrightl#{i}") %>
                                </td>
                              <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimbrightl#{i}") != "5/5" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                            </tr>
                          <% end %>
                          <tr>
                            <!-- Show Lower Limb Text Once -->
                            <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrights1") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbrights1") != "0%"  %>
                              <% if lower_limb == 0 %>
                                <td style="padding:1px;font-size:11px;"><b>Lower Limb:</b></td><% lower_limb = lower_limb + 1 %>
                              <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimbrights1") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbrights1") != "0%"  %>
                                <td style="padding:1px;font-size:11px;"></td>
                              <% end %>
                            <% end %>
                            <!-- Show S1 Value only if Power and Loss Field Fullfills -->
                            <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrights1") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbrights1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">S1</td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"lossofpowerlowerlimbrights1") != "5/5"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerlowerlimbrights1") %></td>
                            <% elsif opdrecord.read_attribute(:"sensorylosslowerlimbrights1") != "0%" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"sensorylosslowerlimbrights1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">
                                <%= opdrecord.read_attribute(:"sensorylosslowerlimbrights1") %>
                              </td>
                            <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimbrights1") != "5/5" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                          </tr>
                        <% end %>
                        <% if righttrunk > 0 %>
                          <% righttrunklevel=[4,10,12]%>
                          <% right_trunk = 0 %>
                          <% righttrunklevel.each do |i| %>
                            <tr>
                              <!-- Show Trunk Text Once -->
                              <% if opdrecord.read_attribute(:"sensorylosstrunkrightt#{i}") != "0%"  %>
                                <% if right_trunk == 0 %>
                                  <td style="padding:1px;font-size:11px;"><b>Trunk:</b></td><% right_trunk = right_trunk + 1 %>
                                <% elsif opdrecord.read_attribute(:"sensorylosstrunkrightt#{i}") != "0%"  %>
                                  <td style="padding:1px;font-size:11px;"></td>
                                <% end %>
                                <!-- Show T(i) If Loss is Available -->
                                <td style="padding:1px;font-size:11px;text-align:center;">Upto T<%=i%></td>
                                <td></td><!-- Extra td for non-existent power field -->
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylosstrunkrightt#{i}") %>
                                </td>
                              <% end %>
                            </tr>
                          <% end %>
                        <% end %>
                        <% if rightneck > 0 %>
                          <% rightnecklevel=[2,3,4]%>
                          <% right_neck = 0 %>
                          <% rightnecklevel.each do |i| %>
                            <tr>
                              <!-- Show Neck Text Once -->
                              <% if opdrecord.read_attribute(:"sensorylossneckrightc#{i}") != "0%"  %>
                                <% if right_neck == 0 %>
                                  <td style="padding:1px;font-size:11px;"><b>Neck:</b></td><% right_neck = right_neck + 1 %>
                                <% elsif opdrecord.read_attribute(:"sensorylossneckrightc#{i}") != "0%"  %>
                                  <td style="padding:1px;font-size:11px;"></td>
                                <% end %>
                                <!-- Show T(i) If Loss is Available -->
                                <td style="padding:1px;font-size:11px;text-align:center;">C<%=i%></td>
                                <td></td><!-- Extra td for non-existent power field -->
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylossneckrightc#{i}") %>
                                </td>
                              <% end %>
                            </tr>
                          <% end %>
                        <% end %>
                      </tbody>
                    </table>
                  <% end %>
                  <% if (opdrecord.read_attribute(:"deepreflexbicepsright") != "++" || opdrecord.read_attribute(:"deepreflextricepsright") != "++" || opdrecord.read_attribute(:"deepreflexsupinatorright") != "++" || opdrecord.read_attribute(:"deepreflexkneeright") != "++" || opdrecord.read_attribute(:"deepreflexankleright") != "++" || opdrecord.read_attribute(:"analsensationright") != "Normal" || opdrecord.read_attribute(:"voluntaryanalcontractionright") != "Normal") %>
                    <table class="table table-bordered mb5">
                      <tbody>
                        <tr>
                          <th style="padding:1px;font-size:11px;text-align:center;">Region</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Activity</th>
                        </tr>
                      </tbody>
                      <tbody>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexbicepsright") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Biceps:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexbicepsright") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflextricepsright") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Triceps:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflextricepsright") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexsupinatorright") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Supinator:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexsupinatorright") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexkneeright") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Knee:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexkneeright") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexankleright") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Ankle:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexankleright") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"analsensationright") != "Normal"  %>
                            <td style="padding:1px;font-size:11px;"><b>Anal Sensation:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"analsensationright") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"voluntaryanalcontractionright") != "Normal"  %>
                            <td style="padding:1px;font-size:11px;"><b>Voluntary Anal contraction:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"voluntaryanalcontractionright") %>.</td>
                          <%end%>
                        </tr>
                      </tbody>
                    </table>
                  <% end %>
                </div>
                <div class="col-md-6">
                  <% if leftupperlimbcounter > 0 || leftlowerlimbcounter > 0 || lefttrunk > 0 || leftneck > 0 %>
                    <table class="table table-bordered mb5">
                      <tbody>
                        <tr>
                          <th style="padding:1px;font-size:11px;text-align:center;">Region</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Level</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Power</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Sensory Loss</th>
                        </tr>
                      </tbody>
                      <tbody>
                        <% if leftupperlimbcounter > 0 %>
                          <% leftupperlimblevel=[5,6,7,8]%>
                          <% upper_limb = 0 %>
                          <% leftupperlimblevel.each do |i| %>
                            <tr>
                              <!-- Show Upper Limb Text Once -->
                              <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftc#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbleftc#{i}") != "0%"  %>
                                <% if upper_limb == 0 %>
                                  <td style="padding:1px;font-size:11px;"><b>Upper Limb:</b></td><% upper_limb = upper_limb + 1 %>
                                <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbleftc#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbleftc#{i}") != "0%"  %>
                                  <td style="padding:1px;font-size:11px;"></td>
                                <% end %>
                              <% end %>
                              <!-- Show C(i) Value only if Power and Loss Field Fullfills -->
                              <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftc#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbleftc#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">C<%=i%></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftc#{i}") != "5/5"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerupperlimbleftc#{i}") %></td>
                              <% elsif opdrecord.read_attribute(:"sensorylossupperlimbleftc#{i}") != "0%" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"sensorylossupperlimbleftc#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylossupperlimbleftc#{i}") %>
                                </td>
                              <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbleftc#{i}") != "5/5" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                            </tr>
                          <% end %>
                          <tr>
                            <!-- Show Upper Limb Text Once -->
                            <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftt1") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbleftt1") != "0%"  %>
                              <% if upper_limb == 0 %>
                                <td style="padding:1px;font-size:11px;"><b>Upper Limb:</b></td><% upper_limb = upper_limb + 1 %>
                              <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbleftt1") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbleftt1") != "0%"  %>
                                <td style="padding:1px;font-size:11px;"></td>
                              <% end %>
                            <% end %>
                            <!-- Show C(i) Value only if Power and Loss Field Fullfills -->
                            <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftt1") != "5/5" || opdrecord.read_attribute(:"sensorylossupperlimbleftt1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">T1</td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"lossofpowerupperlimbleftt1") != "5/5"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerupperlimbleftt1") %></td>
                            <% elsif opdrecord.read_attribute(:"sensorylossupperlimbleftt1") != "0%" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"sensorylossupperlimbleftt1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">
                                <%= opdrecord.read_attribute(:"sensorylossupperlimbleftt1") %>
                              </td>
                            <% elsif opdrecord.read_attribute(:"lossofpowerupperlimbleftt1") != "5/5" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                          </tr>
                        <% end %>
                        <% if leftlowerlimbcounter > 0 %>
                          <% leftlowerlimblevel=[2,3,4,5]%>
                          <% lower_limb = 0 %>
                          <% leftlowerlimblevel.each do |i| %>
                            <tr>
                              <!-- Show Lower Limb Text Once -->
                              <% if opdrecord.read_attribute(:"lossofpowerlowerlimbleftl#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbleftl#{i}") != "0%"  %>
                                <% if lower_limb == 0 %>
                                  <td style="padding:1px;font-size:11px;"><b>Lower Limb:</b></td><% lower_limb = lower_limb + 1 %>
                                <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimbleftl#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbleftl#{i}") != "0%"  %>
                                  <td style="padding:1px;font-size:11px;"></td>
                                <% end %>
                              <% end %>
                              <!-- Show C(i) Value only if Power and Loss Field Fullfills -->
                              <% if opdrecord.read_attribute(:"lossofpowerlowerlimbleftl#{i}") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimbleftl#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">L<%=i%></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"lossofpowerlowerlimbleftl#{i}") != "5/5"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerlowerlimbleftl#{i}") %></td>
                              <% elsif opdrecord.read_attribute(:"sensorylosslowerlimbleftl#{i}") != "0%" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                              <!-- Show td if either Power or Loss Is Available -->
                              <% if opdrecord.read_attribute(:"sensorylosslowerlimbleftl#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylosslowerlimbleftl#{i}") %>
                                </td>
                              <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimbleftl#{i}") != "5/5" %>
                                <td style="padding:1px;font-size:11px;text-align:center;"></td>
                              <% end %>
                            </tr>
                          <% end %>
                          <tr>
                            <!-- Show Lower Limb Text Once -->
                            <% if opdrecord.read_attribute(:"lossofpowerlowerlimblefts1") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimblefts1") != "0%"  %>
                              <% if lower_limb == 0 %>
                                <td style="padding:1px;font-size:11px;"><b>Lower Limb:</b></td><% lower_limb = lower_limb + 1 %>
                              <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimblefts1") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimblefts1") != "0%"  %>
                                <td style="padding:1px;font-size:11px;"></td>
                              <% end %>
                            <% end %>
                            <!-- Show C(i) Value only if Power and Loss Field Fullfills -->
                            <% if opdrecord.read_attribute(:"lossofpowerlowerlimblefts1") != "5/5" || opdrecord.read_attribute(:"sensorylosslowerlimblefts1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">S1</td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"lossofpowerlowerlimblefts1") != "5/5"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"lossofpowerlowerlimblefts1") %></td>
                            <% elsif opdrecord.read_attribute(:"sensorylosslowerlimblefts1") != "0%" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                            <!-- Show td if either Power or Loss Is Available -->
                            <% if opdrecord.read_attribute(:"sensorylosslowerlimblefts1") != "0%"  %>
                              <td style="padding:1px;font-size:11px;text-align:center;">
                                <%= opdrecord.read_attribute(:"sensorylosslowerlimblefts1") %>
                              </td>
                            <% elsif opdrecord.read_attribute(:"lossofpowerlowerlimblefts1") != "5/5" %>
                              <td style="padding:1px;font-size:11px;text-align:center;"></td>
                            <% end %>
                          </tr>
                        <% end %>
                        <% if lefttrunk > 0 %>
                          <% lefttrunklevel=[4,10,12]%>
                          <% left_trunk = 0 %>
                          <% lefttrunklevel.each do |i| %>
                            <tr>
                              <!-- Show Trunk Text Once -->
                              <% if left_trunk == 0 %>
                                <td style="padding:1px;font-size:11px;"><b>Trunk:</b></td><% left_trunk = left_trunk + 1 %>
                              <% elsif opdrecord.read_attribute(:"sensorylosstrunkleftt#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;"></td>
                              <% end %>
                              <!-- Show T(i) If Loss is Available -->
                              <% if opdrecord.read_attribute(:"sensorylosstrunkleftt#{i}") != "0%"  %>
                                <td style="padding:1px;font-size:11px;text-align:center;">Upto T<%=i%></td>
                              <% end %>
                              <% if opdrecord.read_attribute(:"sensorylosstrunkleftt#{i}") != "0%"  %>
                                <td></td><!-- Extra td to match th(Power) -->
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylosstrunkleftt#{i}") %>
                                </td>
                              <% end %>
                            </tr>
                          <% end %>
                        <% end %>
                        <% if leftneck > 0 %>
                          <% leftnecklevel=[2,3,4]%>
                          <% left_neck = 0 %>
                          <% leftnecklevel.each do |i| %>
                            <tr>
                              <!-- Show Neck Text Once -->
                              <% if opdrecord.read_attribute(:"sensorylossneckleftc#{i}") != "0%"  %>
                                <% if left_neck == 0 %>
                                  <td style="padding:1px;font-size:11px;"><b>Neck:</b></td><% left_neck = left_neck + 1 %>
                                <% elsif opdrecord.read_attribute(:"sensorylossneckleftc#{i}") != "0%"  %>
                                  <td style="padding:1px;font-size:11px;"></td>
                                <% end %>
                                <!-- Show T(i) If Loss is Available -->
                                <td style="padding:1px;font-size:11px;text-align:center;">C<%=i%></td>
                                <td></td><!-- Extra td for non-existent power field -->
                                <td style="padding:1px;font-size:11px;text-align:center;">
                                  <%= opdrecord.read_attribute(:"sensorylossneckleftc#{i}") %>
                                </td>
                              <% end %>
                            </tr>
                          <% end %>
                        <% end %>
                      </tbody>
                    </table>
                  <% end %>
                  <% if (opdrecord.read_attribute(:"deepreflexbicepsleft") != "++" || opdrecord.read_attribute(:"deepreflextricepsleft") != "++" || opdrecord.read_attribute(:"deepreflexsupinatorleft") != "++" || opdrecord.read_attribute(:"deepreflexkneeleft") != "++" || opdrecord.read_attribute(:"deepreflexankleleft") != "++" || opdrecord.read_attribute(:"analsensationleft") != "Normal" || opdrecord.read_attribute(:"voluntaryanalcontractionleft") != "Normal") %>
                    <table class="table table-bordered mb5">
                      <tbody>
                        <tr>
                          <th style="padding:1px;font-size:11px;text-align:center;">Region</th>
                          <th style="padding:1px;font-size:11px;text-align:center;">Activity</th>
                        </tr>
                      </tbody>
                      <tbody>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexbicepsleft") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Biceps:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexbicepsleft") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflextricepsleft") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Triceps:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflextricepsleft") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexsupinatorleft") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Supinator:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexsupinatorleft") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexkneeleft") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Knee:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexkneeleft") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"deepreflexankleleft") != "++"  %>
                            <td style="padding:1px;font-size:11px;"><b>Ankle:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"deepreflexankleleft") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"analsensationleft") != "Normal"  %>
                            <td style="padding:1px;font-size:11px;"><b>Anal Sensation:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"analsensationleft") %></td>
                          <%end%>
                        </tr>
                        <tr>
                          <% if opdrecord.read_attribute(:"voluntaryanalcontractionleft") != "Normal"  %>
                            <td style="padding:1px;font-size:11px;"><b>Voluntary Anal contraction:</b></td>
                            <td style="padding:1px;font-size:11px;text-align:center;"><%= opdrecord.read_attribute(:"voluntaryanalcontractionleft") %>.</td>
                          <%end%>
                        </tr>
                      </tbody>
                    </table>
                  <% end %>
                </div>
              <%end%>
            <%end%>
          </div>

          <% unless opdrecord.lossofpower.blank? %>
              <b>Loss of Power :</b>
              <%= opdrecord.read_attribute(:"lossofpower") %>
              |
          <% end %>
          <% unless opdrecord.lpulclicked.blank? %>
              <b>U/L clicked :</b>
              <%= opdrecord.read_attribute(:"lpulclicked") %>
              |
          <% end %>
          <% unless opdrecord.lpllclicked.blank? %>
              <b>L/L clicked :</b>
              <%= opdrecord.read_attribute(:"lpllclicked") %>
              |
          <% end %>
          <% unless opdrecord.lppowergrade.blank? %>
              <b>Power grade :</b>
              <%= opdrecord.read_attribute(:"lppowergrade") %>
              |
          <% end %>
          <% unless opdrecord.lossofsensation.blank? %>
              <b>Loss of Sensation :</b>
              <%= opdrecord.read_attribute(:"lossofsensation") %>
              |
          <% end %>
          <% unless opdrecord.lsulclicked.blank? %>
              <b>U/L clicked :</b>
              <%= opdrecord.read_attribute(:"lsulclicked") %>
              |
          <% end %>
          <% unless opdrecord.lsllclicked.blank? %>
              <b>L/L clicked :</b>
              <%= opdrecord.read_attribute(:"lsllclicked") %>
              |
          <% end %>
          <% unless opdrecord.lsreducedby.blank? %>
              <b>Reduced by :</b>
              <%= opdrecord.read_attribute(:"lsreducedby") %>
              |
          <% end %>
          <% unless opdrecord.abnormalreflex.blank? %>
              <b>Abnormal reflex :</b>
              <%= opdrecord.read_attribute(:"abnormalreflex") %>
              |
          <% end %>
          <% unless opdrecord.abnormalreflexside.blank? %>
              <b>Abnormal reflex side :</b>
              <%= opdrecord.read_attribute(:"abnormalreflexside") %>
              |
          <% end %>
          <% unless opdrecord.abnormalreflexscore.blank? %>
              <b>Abnormal reflex score :</b>
              <%= opdrecord.read_attribute(:"abnormalreflexscore") %>
              |
          <% end %>
          <% unless opdrecord.otherabnormalresponses.blank? %>
              <b>Other abnormal responses :</b>
              <%= opdrecord.read_attribute(:"otherabnormalresponses") %>
              |
          <% end %>
          <% unless opdrecord.othersigns.blank? %>
              <b>Other Signs :</b>
              <%= opdrecord.read_attribute(:"othersigns") %>
              |
          <% end %>
          <% unless opdrecord.objectivecomments.blank? %>
              <li>
              <%= opdrecord.read_attribute(:"objectivecomments") %>
              </li>
              <div class="mb3"></div>
          <% end %>

          <%= render partial: "opd_records/#{@speciality_folder_name}_notes/opd_partials/summary/vitalsigns.html", locals: { specalityfoldername: @speciality_folder_name, specalityid: @specalityid, opdrecord: @opdrecord, templatetype: @templatetype, templateid: @templateid, opdspeciality: @opdspeciality } %>
          <%= render partial: "opd_records/#{@speciality_folder_name}_notes/opd_partials/summary/anthropometry.html", locals: { specalityfoldername: @speciality_folder_name, specalityid: @specalityid, opdrecord: @opdrecord, templatetype: @templatetype, templateid: @templateid, opdspeciality: @opdspeciality } %>

        </div>


      </div>

    </div>
<% end %>
