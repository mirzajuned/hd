<% country_id = current_facility.country_id %>
<% show_mimimized_view = (@record&.pluck(:templatetype)&.include?('refraction') || params[:action] == "edit") && @templatetype != "refraction" %>
<% if show_mimimized_view %>
  <div class="row mb30">

    <div class="row dry-auto-refraction-block mb10">
      <div class="col-md-6 col-xs-6">
        <div class="row r-autorefraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_autorefraction_dry_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry_axis).present? || opdrecord.read_attribute(:r_autorefraction_dry1_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry1_axis).present? || opdrecord.read_attribute(:r_autorefraction_dry2_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill Auto Refraction" id="fill-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=auto_refraction&type=dry_auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforautorefraction mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dry
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry1_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry1_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry1_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry2_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry2_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dry2_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_axis) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_autoref_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Dry
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry_axis)) %>
                        </td>
                      </tr>
                        <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry1_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry1_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry1_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry2_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry2_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dry2_axis)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_auto_ref"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-autorefraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforautorefraction" id="l-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_autorefraction_dry_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry_axis).present? || opdrecord.read_attribute(:l_autorefraction_dry1_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry1_axis).present? || opdrecord.read_attribute(:l_autorefraction_dry2_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforautorefraction col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dry
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dry_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dry_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dry_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry1_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry1_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry1_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry1_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry1_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_axis ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry1_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry2_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry2_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry2_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry2_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dry2_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_axis ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry2_axis) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_autoref_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Dry
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry1_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry1_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry1_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry2_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry2_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dry2_axis)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dry-visual-acuity-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-visualacuity-row">
          <div class="col-md-12 r-visualacuity-column questionsforvisualacuity col-xs-12" id="r-questionsforvisualacuity">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_visualacuity_unaided).present? || opdrecord.read_attribute(:r_visualacuity_pinhole).present? || opdrecord.read_attribute(:r_visualacuity_glasses).present? || opdrecord.read_attribute(:r_visualacuity_lens).present? || opdrecord.read_attribute(:r_visualacuity_near).present? || opdrecord.read_attribute(:r_visualacuity_ua_near).present? || opdrecord.read_attribute(:r_visualacuity_ua_s).present? || opdrecord.read_attribute(:r_visualacuity_ua_n).present? || opdrecord.read_attribute(:r_visualacuity_ua_i).present? || opdrecord.read_attribute(:r_visualacuity_ua_t).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rvacopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rvacopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_right_va_advised, {class: "right_va_advised", :value => opdrecord.read_attribute(:no_right_va_advised)}, "false", "true" %>
                  <label for="opdrecord_no_right_va_advised">VA not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="col-md-12 r-answersforvisualacuity mainview_top_r col-xs-12">
            <div class="row col-md-12 col-xs-12 col-xs-12 editview_toggle_r" style="display: none;">
              <div class="row col-md-12 col-xs-12">
                <span class="col-md-2 col-xs-2 col-xs-2">UCVA <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_unaided" class="clear_r_visualacuity_unaided">clear</small>
                  <%= f.input_field :r_visualacuity_unaided_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_unaided_comments]", :value => opdrecord.read_attribute(:r_visualacuity_unaided_comments) %>
                </span>
                <%= f.input :r_visualacuity_unaided, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_unaided r_va', :input_html => {:name => "opdrecord[r_visualacuity_unaided]" }, :checked => opdrecord.read_attribute(:r_visualacuity_unaided) %>
                <%= f.input :r_visualacuity_unaided_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_unaided_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_unaided_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_unaided_p)) %>
                <span class="col-md-2 col-xs-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_ua_near" class="clear_r_visualacuity_ua_near">clear</small>
                  <%= f.input_field :r_visualacuity_ua_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_ua_near_comments]", :value => opdrecord.read_attribute(:r_visualacuity_ua_near_comments) %>
                </span>
                <%= f.input :r_visualacuity_ua_near, wrapper_html: {:class => "col-md-9 col-xs-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_near r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_near]" }, :checked => opdrecord.read_attribute(:r_visualacuity_ua_near) %>
                <%= f.input :r_visualacuity_ua_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_ua_near_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_near_p)) %>
                <div class="col-md-offset-2 col-xs-offset-2 col-md-10 col-xs-10 mb10" style="padding: 0;">
                  <div class="col-md-1 col-xs-1" style="margin-top: 1%">PR:</div>
                  <div class="col-md-10 col-xs-10" style="padding: 0">
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">S</span>
                    <%= f.input :r_visualacuity_ua_s, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_s form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_s]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_s)) %>
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">I</span>
                    <%= f.input :r_visualacuity_ua_i, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_i form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_i]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_i)) %>
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">N</span>
                    <%= f.input :r_visualacuity_ua_n, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_n form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_n]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_n)) %>
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">T</span>
                    <%= f.input :r_visualacuity_ua_t, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_t form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_t]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_t)) %>
                  </div>
                </div>
                <span class="col-md-2 col-xs-2">Pinhole <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_pinhole">clear</small>
                  <%= f.input_field :r_visualacuity_pinhole_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_pinhole_comments]", :value => opdrecord.read_attribute(:r_visualacuity_pinhole_comments) %>
                </span>
                <%= f.input :r_visualacuity_pinhole, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_pinhole r_va', :input_html => {:name => "opdrecord[r_visualacuity_pinhole]" }, :checked => opdrecord.read_attribute(:r_visualacuity_pinhole) %>
                <div class="col-md-1 col-xs-1 visualacuity_pinhole">
                  <%= f.input :r_visualacuity_pinhole_p, wrapper_html: {:class=>""},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_pinhole_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_pinhole_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_pinhole_p)) %>
                  <%= f.input :r_visualacuity_pinhole_ni, wrapper_html: {:class=>"1"},collection: [ ['NI','NI'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_pinhole_ni r_va', :input_html => {:name => "opdrecord[r_visualacuity_pinhole_ni]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_pinhole_ni)) %>
                </div>
                <span class="col-md-2 col-xs-2">Glasses<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_glasses">clear</small>
                  <%= f.input_field :r_visualacuity_glasses_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_glasses_comments]", :value => opdrecord.read_attribute(:r_visualacuity_glasses_comments) %>
                </span>
                <%= f.input :r_visualacuity_glasses, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_glasses r_va', :input_html => {:name => "opdrecord[r_visualacuity_glasses]" }, :checked => opdrecord.read_attribute(:r_visualacuity_glasses) %>
                <%= f.input :r_visualacuity_glasses_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_glasses_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_glasses_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_glasses_p)) %>
                <span class="col-md-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_near">clear</small>
                  <%= f.input_field :r_visualacuity_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_near_comments]", :value => opdrecord.read_attribute(:r_visualacuity_near_comments) %>
                </span>
                <%= f.input :r_visualacuity_near, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_near r_va', :input_html => {:name => "opdrecord[r_visualacuity_near]" }, :checked => opdrecord.read_attribute(:r_visualacuity_near) %>
                <%= f.input :r_visualacuity_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_near_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_near_p)) %>
                <span class="col-md-2 col-xs-2">Contact Lens<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_lens">clear</small>
                  <%= f.input_field :r_visualacuity_lens_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_lens_comments]", :value => opdrecord.read_attribute(:r_visualacuity_lens_comments) %>
                </span>
                <%= f.input :r_visualacuity_lens, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_lens r_va', :input_html => {:name => "opdrecord[r_visualacuity_lens]" }, :checked => opdrecord.read_attribute(:r_visualacuity_lens) %>
                <%= f.input :r_visualacuity_lens_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_lens_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_lens_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_lens_p)) %>
              </div>
              <div class="row" style="padding-bottom: 20px">
                <div class="col-md-2 col-xs-2">Comments: </div>
                <div class="col-md-10 col-xs-10">
                  <%= f.text_area :r_visualacuity_comments, {:class => "form-control", :style => "width:85%;margin-left: -9px;", :required => false, :name => "opdrecord[r_visualacuity_comments]", :value => opdrecord.read_attribute(:r_visualacuity_comments)} %>
                </div>
              </div>
            </div>
            <div class="row col-md-12 col-xs-12 col-xs-12 showview_full_r">
              <div class="col-md-8 col-xs-8 showview_toggle_va_r" style="font-size: 11px;">
                <b>UCVA:</b>  <% if opdrecord.read_attribute(:r_visualacuity_unaided).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_unaided) %><% if opdrecord.read_attribute(:r_visualacuity_unaided_p).present? %><%= opdrecord.read_attribute(:r_visualacuity_unaided_p) %><% end %><% if opdrecord.read_attribute(:r_visualacuity_unaided_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:r_visualacuity_unaided_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>PR:-</b> S<% if opdrecord.read_attribute(:r_visualacuity_ua_s).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_ua_s) %>
                <% else %>
                  --
                <% end %> |
                I<% if opdrecord.read_attribute(:r_visualacuity_ua_i).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_ua_i) %>
                <% else %>
                  --
                <% end %> |
                N<% if opdrecord.read_attribute(:r_visualacuity_ua_n).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_ua_n) %>
                <% else %>
                  --
                <% end %> |
                T<% if opdrecord.read_attribute(:r_visualacuity_ua_t).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_ua_t) %>
                <% else %>
                  --
                <% end %> |
                <b>UCVA Near:</b> <% if opdrecord.read_attribute(:r_visualacuity_ua_near).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_ua_near) %><% if opdrecord.read_attribute(:r_visualacuity_ua_near_p).present? %><%= opdrecord.read_attribute(:r_visualacuity_ua_near_p) %><% end %><% if opdrecord.read_attribute(:r_visualacuity_ua_near_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:r_visualacuity_ua_near_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>PH:</b>  <% if opdrecord.read_attribute(:r_visualacuity_pinhole).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_pinhole) %><% if opdrecord.read_attribute(:r_visualacuity_pinhole_p).present? %><%= opdrecord.read_attribute(:r_visualacuity_pinhole_p) %><% end %><% if opdrecord.read_attribute(:r_visualacuity_pinhole_ni).present? %><%= opdrecord.read_attribute(:r_visualacuity_pinhole_ni) %><% end %><% if opdrecord.read_attribute(:r_visualacuity_pinhole_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:r_visualacuity_pinhole_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>Glasses:</b> <% if opdrecord.read_attribute(:r_visualacuity_glasses).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_glasses) %><% if opdrecord.read_attribute(:r_visualacuity_glasses_p).present? %><%= opdrecord.read_attribute(:r_visualacuity_glasses_p) %><% end %><% if opdrecord.read_attribute(:r_visualacuity_glasses_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:r_visualacuity_glasses_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>Glasses Near:</b> <% if opdrecord.read_attribute(:r_visualacuity_near).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_near) %><% if opdrecord.read_attribute(:r_visualacuity_near_p).present? %><%= opdrecord.read_attribute(:r_visualacuity_near_p) %><% end %><% if opdrecord.read_attribute(:r_visualacuity_near_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:r_visualacuity_near_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>Contact Lens:</b> <% if opdrecord.read_attribute(:r_visualacuity_lens).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_lens) %><% if opdrecord.read_attribute(:r_visualacuity_lens_p).present? %><%= opdrecord.read_attribute(:r_visualacuity_lens_p) %><% end %><% if opdrecord.read_attribute(:r_visualacuity_lens_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:r_visualacuity_lens_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>Comments:</b> <% if opdrecord.read_attribute(:r_visualacuity_comments).present? %>
                <%= opdrecord.read_attribute(:r_visualacuity_comments) %>
                <% else %>
                  --
                <% end %>
              </div>
              <div class="col-md-4 col-xs-4 text-right" style="margin-top: -13px">
                <button class="editViewActivate_r btn btn-link btn-xs" style="margin-top:1px;"></button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-visualacuity-row">
          <div class="col-md-12 l-visualacuity-column questionsforvisualacuity col-xs-12" id="l-questionsforvisualacuity">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_visualacuity_unaided).present? || opdrecord.read_attribute(:l_visualacuity_pinhole).present? || opdrecord.read_attribute(:l_visualacuity_glasses).present? || opdrecord.read_attribute(:l_visualacuity_ua_near).present? || opdrecord.read_attribute(:l_visualacuity_near).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lvacopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lvacopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_left_va_advised, {class: "left_va_advised", :value => opdrecord.read_attribute(:no_left_va_advised)}, "true", "false" %>
                  <label for="opdrecord_no_left_va_advised">VA not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="col-md-12 l-answersforvisualacuity mainview_top_l col-xs-12">
            <div class="row col-md-12 editview_toggle_l col-xs-12" style="display: none;">
              <div class="row col-md-12 col-xs-12">
                <span class="col-md-2 col-xs-2">UCVA <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_unaided" class="clear_l_visualacuity_unaided">clear</small>
                  <%= f.input_field :l_visualacuity_unaided_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_unaided_comments]", :value => opdrecord.read_attribute(:l_visualacuity_unaided_comments) %>
                </span>
                <%= f.input :l_visualacuity_unaided, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_va l_visualacuity_unaided', :input_html => {:name => "opdrecord[l_visualacuity_unaided]" }, :checked => opdrecord.read_attribute(:l_visualacuity_unaided) %>
                <%= f.input :l_visualacuity_unaided_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_unaided_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_unaided_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_unaided_p)) %>
                <span class="col-md-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_ua_near" class="clear_l_visualacuity_ua_near">clear</small>
                  <%= f.input_field :l_visualacuity_ua_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_ua_near_comments]", :value => opdrecord.read_attribute(:l_visualacuity_ua_near_comments) %>
                </span>
                <%= f.input :l_visualacuity_ua_near, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_near l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_near]" }, :checked => opdrecord.read_attribute(:l_visualacuity_ua_near) %>
                <%= f.input :l_visualacuity_ua_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_ua_near_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_near_p)) %>
                <div class="col-md-offset-2 col-xs-offset-2 col-md-10 col-xs-10 mb10" style="padding: 0px">
                  <div class="col-md-1 col-xs-1" style="margin-top: 1%">PR:</div>
                  <div class="col-md-10 col-xs-10" style="padding: 0">
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">S</span>
                    <%= f.input :l_visualacuity_ua_s, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_s form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_s]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_s)) %>
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">I</span>
                    <%= f.input :l_visualacuity_ua_i, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_i form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_i]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_i)) %>
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">N</span>
                    <%= f.input :l_visualacuity_ua_n, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_n form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_n]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :chncked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_n)) %>
                    <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">T</span>
                    <%= f.input :l_visualacuity_ua_t, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_t form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_t]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_t)) %>
                  </div>
                </div>
                <span class="col-md-2 col-xs-2">Pinhole <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_pinhole">clear</small>
                <%= f.input_field :l_visualacuity_pinhole_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_pinhole_comments]", :value => opdrecord.read_attribute(:l_visualacuity_pinhole_comments) %>
                </span>
                <%= f.input :l_visualacuity_pinhole, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_pinhole l_va', :input_html => {:name => "opdrecord[l_visualacuity_pinhole]" }, :checked => opdrecord.read_attribute(:l_visualacuity_pinhole) %>
                <div class="col-md-1 col-xs-1 visualacuity_pinhole">
                  <%= f.input :l_visualacuity_pinhole_p, wrapper_html: {:class=>""},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_pinhole_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_pinhole_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_pinhole_p)) %>
                  <%= f.input :l_visualacuity_pinhole_ni, wrapper_html: {:class=>""},collection: [ ['NI','NI'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_pinhole_ni l_va', :input_html => {:name => "opdrecord[l_visualacuity_pinhole_ni]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_pinhole_ni)) %>
                </div>
                <span class="col-md-2 col-xs-2">Glasses<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_glasses">clear</small>
                  <%= f.input_field :l_visualacuity_glasses_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_glasses_comments]", :value => opdrecord.read_attribute(:l_visualacuity_glasses_comments) %>
                </span>
                <%= f.input :l_visualacuity_glasses, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_glasses l_va', :input_html => {:name => "opdrecord[l_visualacuity_glasses]" }, :checked => opdrecord.read_attribute(:l_visualacuity_glasses) %>
                <%= f.input :l_visualacuity_glasses_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_glasses_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_glasses_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_glasses_p)) %>
                <span class="col-md-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_near">clear</small>
                  <%= f.input_field :l_visualacuity_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_near_comments]", :value => opdrecord.read_attribute(:l_visualacuity_near_comments) %>
                </span>
                <%= f.input :l_visualacuity_near, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_near l_va', :input_html => {:name => "opdrecord[l_visualacuity_near]" }, :checked => opdrecord.read_attribute(:l_visualacuity_near) %>
                <%= f.input :l_visualacuity_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_near_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_near_p)) %>
                <span class="col-md-2 col-xs-2">Contact Lens<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_lens">clear</small>
                  <%= f.input_field :l_visualacuity_lens_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_lens_comments]", :value => opdrecord.read_attribute(:l_visualacuity_lens_comments) %>
                </span>
                <%= f.input :l_visualacuity_lens, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_lens l_va', :input_html => {:name => "opdrecord[l_visualacuity_lens]" }, :checked => opdrecord.read_attribute(:l_visualacuity_lens) %>
                <%= f.input :l_visualacuity_lens_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_lens_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_lens_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_lens_p)) %>
              </div>
              <div class="row" style="padding-bottom: 20px">
                <div class="col-md-2 col-xs-2">Comments: </div>
                <div class="col-md-10 col-xs-10">
                  <%= f.text_area :l_visualacuity_comments, {:class => "form-control", :style => "width:85%;margin-left: -9px;", :required => false, :name => "opdrecord[l_visualacuity_comments]", :value => opdrecord.read_attribute(:l_visualacuity_comments)} %>
                </div>
              </div>
            </div>
            <div class="row col-md-12 showview_full_l col-xs-12">
              <div class="col-md-8 showview_toggle_va_l col-xs-8" style="font-size: 11px;">
                <b>UCVA:</b>  <% if opdrecord.read_attribute(:l_visualacuity_unaided).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_unaided) %><% if opdrecord.read_attribute(:l_visualacuity_unaided_p).present? %><%= opdrecord.read_attribute(:l_visualacuity_unaided_p) %><% end %><% if opdrecord.read_attribute(:l_visualacuity_unaided_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:l_visualacuity_unaided_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>PR:-</b> S<% if opdrecord.read_attribute(:l_visualacuity_ua_s).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_ua_s) %>
                <% else %>
                  --
                <% end %> |
                I<% if opdrecord.read_attribute(:l_visualacuity_ua_i).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_ua_i) %>
                <% else %>
                  --
                <% end %> |
                N<% if opdrecord.read_attribute(:l_visualacuity_ua_n).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_ua_n) %>
                <% else %>
                  --
                <% end %> |
                T<% if opdrecord.read_attribute(:l_visualacuity_ua_t).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_ua_t) %>
                <% else %>
                  --
                <% end %> |
                <b>UCVA Near:</b> <% if opdrecord.read_attribute(:l_visualacuity_ua_near).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_ua_near) %><% if opdrecord.read_attribute(:l_visualacuity_ua_near_p).present? %><%= opdrecord.read_attribute(:l_visualacuity_ua_near_p) %><% end %><% if opdrecord.read_attribute(:l_visualacuity_ua_near_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:l_visualacuity_ua_near_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>PH:</b>  <% if opdrecord.read_attribute(:l_visualacuity_pinhole).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_pinhole) %><% if opdrecord.read_attribute(:l_visualacuity_pinhole_p).present? %><%= opdrecord.read_attribute(:l_visualacuity_pinhole_p) %><% end %><% if opdrecord.read_attribute(:ni).present? %><%= opdrecord.read_attribute(:l_visualacuity_pinhole_ni) %><% end %><% if opdrecord.read_attribute(:l_visualacuity_pinhole_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:l_visualacuity_pinhole_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>Glasses:</b> <% if opdrecord.read_attribute(:l_visualacuity_glasses).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_glasses) %><% if opdrecord.read_attribute(:l_visualacuity_unaided_p).present? %><%= opdrecord.read_attribute(:l_visualacuity_unaided_p) %><% end %><% if opdrecord.read_attribute(:l_visualacuity_glasses_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:l_visualacuity_glasses_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %>
                <b>Glasses Near:</b> <% if opdrecord.read_attribute(:l_visualacuity_near).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_near) %><% if opdrecord.read_attribute(:l_visualacuity_unaided_p).present? %><%= opdrecord.read_attribute(:l_visualacuity_unaided_p) %><% end %><% if opdrecord.read_attribute(:l_visualacuity_near_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:l_visualacuity_near_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>Contact Lens:</b> <% if opdrecord.read_attribute(:l_visualacuity_lens).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_lens) %><% if opdrecord.read_attribute(:l_visualacuity_lens_p).present? %><%= opdrecord.read_attribute(:l_visualacuity_lens_p) %><% end %><% if opdrecord.read_attribute(:l_visualacuity_lens_comments).to_s.length > 0 %><%= "(" +opdrecord.read_attribute(:l_visualacuity_lens_comments)+")" %><% end%>
                <% else %>
                  --
                <% end %> |
                <b>Comments:</b> <% if opdrecord.read_attribute(:l_visualacuity_comments).present? %>
                <%= opdrecord.read_attribute(:l_visualacuity_comments) %>
                <% else %>
                  --
                <% end %>
              </div>
              <div class="col-md-4 text-right  col-xs-4 " style="margin-top: -13px">
                <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row pgp-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <%= render partial: "opd_records/ophthalmology_notes/opd_partials/r_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      </div>
      <div class="col-md-6 col-xs-6">
        <%= render partial: "opd_records/ophthalmology_notes/opd_partials/l_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      </div>
    </div>

    <div class="row near-pgp-check-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">Near PGP</b>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :add_pgp_near, true, { id: 'pgp_near_true', class: 'opd_record_pgp_near' } %>
            <label for="pgp_near_true" style="color:#fff;">Yes</label>
          </div>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :add_pgp_near, false, { id: 'pgp_near_false', class: 'opd_record_pgp_near' } %>
            <label for="pgp_near_false" style="color:#fff;">No</label>
          </div>
        </div>
      </div>
    </div>

    <div class="row near-pgp-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-pgp-near-row">
          <div class="col-md-12 col-xs-12 r-pgp-near-column questionsforpgpnear" id="r-questionsforpgpnear">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_near_pgp_distant_sph).present? || opdrecord.read_attribute(:r_near_pgp_distant_cyl).present? || opdrecord.read_attribute(:r_near_pgp_distant_axis).present? || opdrecord.read_attribute(:r_near_pgp_near_sph).present? || opdrecord.read_attribute(:r_near_pgp_near_cyl).present? || opdrecord.read_attribute(:r_near_pgp_near_axis).present? ||opdrecord.read_attribute(:r_near_pgp_add_sph).present? ||opdrecord.read_attribute(:r_near_pgp_add_cyl).present? ||opdrecord.read_attribute(:r_near_pgp_add_axis).present? || opdrecord.read_attribute(:'r_near_pgp_typeoflens').present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill PGP" id="fill-pgp-near"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=near_pgp" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer" title="Copy PGP to Glass Prescription" id="copy_near_pgp_to_gl_pres"><i class="fa fa-arrow-circle-down copyfieldsbutton show_hide_pgp_comment" style="display:block;"> copy</i></span>

            </div>
            <div class="col-md-9 col-xs-9 r-answersforpgpnear mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_distant_sph, :class => "form-control form-control-custom near-pgp r_near_pgp_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_distant_sph]", :value => opdrecord.read_attribute(:r_near_pgp_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_distant_cyl, :class => "form-control form-control-custom near-pgp r_near_pgp_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_distant_cyl]", :value => opdrecord.read_attribute(:r_near_pgp_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_distant_axis, :class => "form-control form-control-custom near-pgp r_near_pgp_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_distant_axis]", :value => opdrecord.read_attribute(:r_near_pgp_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_distant_vision, :class => "form-control form-control-custom near-pgp r_near_pgp_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_near_pgp_distant_vision]", :value => opdrecord.read_attribute(:r_near_pgp_distant_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_add_sph, :class => "form-control form-control-custom near-pgp r_near_pgp_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_add_sph]", :value => opdrecord.read_attribute(:r_near_pgp_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_add_cyl, :class => "form-control form-control-custom r_near_pgp_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_add_cyl]", :value => opdrecord.read_attribute(:r_near_pgp_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_add_axis, :class => "form-control form-control-custom r_near_pgp_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_add_axis]", :value => opdrecord.read_attribute(:r_near_pgp_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_add_vision, :class => "form-control form-control-custom near-pgp r_near_pgp_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_near_pgp_add_vision]", :value => opdrecord.read_attribute(:r_near_pgp_add_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_near_sph, :class => "form-control form-control-custom near-pgp r_near_pgp_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_near_sph]", :value => opdrecord.read_attribute(:r_near_pgp_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_near_cyl, :class => "form-control form-control-custom near-pgp r_near_pgp_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_near_cyl]", :value => opdrecord.read_attribute(:r_near_pgp_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_near_axis, :class => "form-control form-control-custom near-pgp r_near_pgp_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_near_axis]", :value => opdrecord.read_attribute(:r_near_pgp_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_near_pgp_near_vision, :class => "form-control form-control-custom near-pgp r_near_pgp_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_near_pgp_near_vision]", :value => opdrecord.read_attribute(:r_near_pgp_near_vision) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="row showview_full_r">
                <div class="col-md-10 col-xs-10 showview_toggle_pgp_r">
                  <table class="table table-bordered" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_distant_vision)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Add
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_add_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_add_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_add_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_add_vision)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_near_pgp_near_vision)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_pgp_near"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-pgp-row">
          <div class="col-md-12 l-pgp-near-column questionsforpgpnear col-xs-12" id="l-questionsforpgpnear">
            <div class="col-md-3 col-xs-3" style="padding: 0px;">
              <% if opdrecord.read_attribute(:l_near_pgp_distant_sph).present? || opdrecord.read_attribute(:l_near_pgp_distant_cyl).present? || opdrecord.read_attribute(:l_near_pgp_distant_axis).present? || opdrecord.read_attribute(:l_near_pgp_near_sph).present? || opdrecord.read_attribute(:l_near_pgp_near_cyl).present? || opdrecord.read_attribute(:l_near_pgp_near_axis).present? ||opdrecord.read_attribute(:l_near_pgp_add_sph).present? ||opdrecord.read_attribute(:l_near_pgp_add_cyl).present? ||opdrecord.read_attribute(:l_near_pgp_add_axis).present? || opdrecord.read_attribute(:l_near_pgp_typeoflens).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpgpnear col-xs-9 mainview_top_l col-xs-9">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_distant_sph, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8,  :required => false, :name => "opdrecord[l_near_pgp_distant_sph]", :value => opdrecord.read_attribute(:l_near_pgp_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_distant_cyl, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_distant_cyl]", :value => opdrecord.read_attribute(:l_near_pgp_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_distant_axis, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_distant_axis]", :value => opdrecord.read_attribute(:l_near_pgp_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_distant_vision, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_near_pgp_distant_vision]", :value => opdrecord.read_attribute(:l_near_pgp_distant_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_add_sph, :class => "form-control form-control-custom near-pgp l_near_pgp_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_add_sph]", :value => opdrecord.read_attribute(:l_near_pgp_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_add_cyl, :class => "form-control form-control-custom l_near_pgp_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_add_cyl]", :value => opdrecord.read_attribute(:l_near_pgp_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_add_axis, :class => "form-control form-control-custom l_near_pgp_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_add_axis]", :value => opdrecord.read_attribute(:l_near_pgp_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_add_vision, :class => "form-control form-control-custom near-pgp l_near_pgp_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_near_pgp_add_vision]", :value => opdrecord.read_attribute(:l_near_pgp_add_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_near_sph, :class => "form-control form-control-custom near-pgp l_near_pgp_near_sph ref_field", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_near_pgp_near_sph]", :value => opdrecord.read_attribute(:l_near_pgp_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_near_cyl, :class => "form-control form-control-custom near-pgp l_near_pgp_near_cyl ref_field", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_near_pgp_near_cyl]", :value => opdrecord.read_attribute(:l_near_pgp_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_near_axis, :class => "form-control form-control-custom near-pgp l_near_pgp_near_axis ref_field", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_near_pgp_near_axis]", :value => opdrecord.read_attribute(:l_near_pgp_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_near_pgp_near_vision, :class => "form-control form-control-custom near-pgp l_near_pgp_near_vision ref_field", :maxlength => 12, :size => 12, :required => false, :name => "opdrecord[l_near_pgp_near_vision]", :value => opdrecord.read_attribute(:l_near_pgp_near_vision) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="row showview_full_l">
                <div class="col-md-10 col-xs-10 showview_toggle_pgp_l">
                  <table class="table table-bordered" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_distant_vision)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Add
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_add_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_add_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_add_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_add_vision)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_near_pgp_near_vision)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row spectacles-condition-block">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12">
        <div class="row pgp-options-row">
          <div class="col-md-12 l-pgp-column questionsforpgp col-xs-12 mb10" id="l-questionsforspecs">
            <div class="col-md-12 l-answersforspecs mainview_top_l col-xs-12">
              <div class="editview_toggle_l" style="display: none;">
                <div class="row mb20">
                  <div class="col-md-1 col-md-3-shared col-xs-3 col-xs-3-shared" style="padding: 0px">
                    <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>SPECTACLES CONDITION</strong></div>
                  </div>
                </div>
                <div class="row mb20">
                  <div class="col-md-6 col-xs-6">
                    <span class="col-md-4 col-xs-4">Duration</span>
                    <span><%= f.input :pgp_duration, wrapper_html: {:class => "col-md-4 col-xs-4"},collection: (1..15), :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_duration form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_duration]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_duration)) %></span>
                    <span><%= f.input :pgp_duration_option, wrapper_html: {:class => "col-md-4 col-xs-4"},collection: ['Year','Month','Week','Day'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_duration_option form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_duration_option]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_duration_option)) %></span>
                  </div>
                  <div class="col-md-6 col-xs-6">
                    <span class="col-md-6 col-xs-6">Condition of Frame</span>
                    <span><%= f.input :pgp_frame_condition, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Good", "Bad", "Scratched"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_frame_condition form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_frame_condition]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_frame_condition)) %></span>
                  </div>
                </div>
                <div class="row mb20">
                  <div class="col-md-4 col-xs-4">
                    <span class="col-md-6 col-xs-6">Type of Lens</span>
                    <span><%= f.input :pgp_glasses, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Single vision  distant", "Single vision  near", "Bifocal", "Progressive", "D Bifocal", "KT Bifocal"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_glasses form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_glasses]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_glasses)) %></span>
                  </div>
                  <div class="col-md-4 col-xs-4">
                    <span class="col-md-6 col-xs-6">DBOC</span>
                    <div class="input-group">
                      <span><%= f.input_field :pgp_dboc, :class => "form-control col-md-6 col-xs-6 p5_10", :maxlength => 12, :required => false, :name => "opdrecord[pgp_dboc]", :value => opdrecord.read_attribute(:pgp_dboc) %></span>
                      <span class="input-group-addon">mm</span>
                    </div>
                  </div>
                  <div class="col-md-4 col-xs-4">
                    <span class="col-md-6 col-xs-6">Condition of Lens</span>
                    <span><%= f.input :pgp_lens_condition, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Good", "Bad", "Scratched"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_lens_condition form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_lens_condition]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_lens_condition)) %></span>
                  </div>
                </div>
                <div class="row mb20">
                  <div class="col-md-4 col-xs-4">
                    <span class="col-md-6 col-xs-6">Frame Material</span>
                    <span><%= f.input :pgp_frame_material, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Patient choice", "Shell", "Metal", "Titanium", "Shell(Paediatric Use)", "Hypo-Allergic Metal", "Plastic", "Carbon", "Acetate", "Aliminium", "Optyl", "Polyamide", "Stainless Stell", "TR-90", "Ultem"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_frame_material form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_frame_material]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_frame_material)) %></span>
                  </div>
                  <div class="col-md-4 col-xs-4">
                    <span class="col-md-6 col-xs-6">Lens Material</span>
                    <span><%= f.input :pgp_lens_material, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Mineral", "CR39r", "Patient Choice", "Polycarbonate", "Trivex", "Organic", "Evalution", "MR7", "MR10", "MR8", "Press on"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_lens_material form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_lens_material]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_lens_material)) %></span>
                  </div>
                </div>
              </div>
              <div class="row showview_full_l">
                <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-1 col-md-3-shared col-xs-3 col-xs-3-shared" style="padding: 0px">
                      <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>SPECTACLES CONDITION</strong></div>
                    </div>
                  </div>
                </div>
                <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-6 col-xs-6">
                      <span class="col-md-4 col-xs-4">Duration</span>
                      <span class="col-md-4 col-xs-4"><%= replace_blank(opdrecord.read_attribute(:pgp_duration)) %></span>
                      <span class="col-md-4 col-xs-4"><%= replace_blank(opdrecord.read_attribute(:pgp_duration_option)) %></span>
                    </div>
                    <div class="col-md-6 col-xs-6">
                      <span class="col-md-6 col-xs-6">Condition of Frame</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:pgp_frame_condition)) %></span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 col-xs-4">
                      <span class="col-md-6 col-xs-6">Type of Lens</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:pgp_glasses)) %></span>
                    </div>
                    <div class="col-md-4 col-xs-4">
                      <span class="col-md-6 col-xs-6">DBOC</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:pgp_dboc)) %> mm</span>
                    </div>
                    <div class="col-md-4 col-xs-4">
                      <span class="col-md-6 col-xs-6">Condition of Lens</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:pgp_lens_condition)) %></span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 col-xs-4">
                      <span class="col-md-6 col-xs-6">Frame Material</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:pgp_frame_material)) %></span>
                    </div>
                    <div class="col-md-4 col-xs-4">
                      <span class="col-md-6 col-xs-6">Lens Material</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:pgp_lens_material)) %></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row retinoscopy-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-retinoscopy-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforretinoscopy" id="r-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_retinoscopy_sph).present? || opdrecord.read_attribute(:r_retinoscopy_cyl).present? || opdrecord.read_attribute(:r_retinoscopy_axis).present? || opdrecord.read_attribute(:r_retinoscopy_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;display: none;" title="Fill Retinoscopy" id="fill-retinoscopy"><a href="/opd_records/ophthalmology_notes/fill_retinoscopy_data?flag=retinoscopy" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforretinoscopy mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_sph, :class => "form-control form-control-custom retinoscopy r_retinoscopy_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_sph]", :value => opdrecord.read_attribute(:r_retinoscopy_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_cyl, :class => "form-control form-control-custom retinoscopy r_retinoscopy_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_cyl]", :value => opdrecord.read_attribute(:r_retinoscopy_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_axis, :class => "form-control form-control-custom retinoscopy r_retinoscopy_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_axis]", :value => opdrecord.read_attribute(:r_retinoscopy_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input :r_retinoscopy_reflex, wrapper_html: {:class => "form-control form-control-custom r_retinoscopy_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[r_retinoscopy_reflex]", :class => "form-control retinoscopy form-control-custom",:style=>"width: 100%;padding:0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_reflex)) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                  <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                    <div class="input-group">
                      <%= f.input_field :r_retinoscopy_distance, :class => "form-control form-control-custom r_retinoscopy_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[r_retinoscopy_distance]", :value => opdrecord.read_attribute(:r_retinoscopy_distance), :style => "margin-left: -1%"%>
                      <span class="input-group-addon">Mt/cm</span>
                    </div>
                  </span>
                  <span class="col-md-3 col-xs-3">Drug Used:</span>
                  <span class="col-md-3 col-xs-3"><%= f.input :r_retinoscopy_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[r_retinoscopy_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_drug_used)) %></span>
                </div>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :r_retinoscopy_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_retinoscopy_comments]", :value => opdrecord.read_attribute(:r_retinoscopy_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_retinoscopy_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_reflex)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row" style="font-size: 11px;">
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">At Distance</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_distance)) %> Mt/cm</span>
                    </div>
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">Drug Used</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_drug_used)) %></span>
                    </div>
                    <div class="col-md-12">
                      <span class="col-md-6 col-xs-6">Comment</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_comments)) %></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_retinoscopy"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-retinoscopy-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforretinoscopy" id="l-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_retinoscopy_sph).present? || opdrecord.read_attribute(:l_retinoscopy_cyl).present? || opdrecord.read_attribute(:l_retinoscopy_axis).present? || opdrecord.read_attribute(:l_retinoscopy_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforretinoscopy col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_sph, :class => "form-control form-control-custom retinoscopy l_retinoscopy_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_sph]", :value => opdrecord.read_attribute(:l_retinoscopy_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_cyl, :class => "form-control form-control-custom retinoscopy l_retinoscopy_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_cyl]", :value => opdrecord.read_attribute(:l_retinoscopy_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_axis, :class => "form-control form-control-custom retinoscopy l_retinoscopy_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_axis]", :value => opdrecord.read_attribute(:l_retinoscopy_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input :l_retinoscopy_reflex, wrapper_html: {:class => "form-control form-control-custom l_retinoscopy_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[l_retinoscopy_reflex]", :class => "form-control retinoscopy form-control-custom",:style=>"width: 100%;padding:0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_reflex)) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                  <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                    <div class="input-group">
                      <%= f.input_field :l_retinoscopy_distance, :class => "form-control form-control-custom l_retinoscopy_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_retinoscopy_distance]", :value => opdrecord.read_attribute(:l_retinoscopy_distance), :style => "margin-left: -1%"%>
                      <span class="input-group-addon">Mt/cm</span>
                    </div>
                  </span>
                  <span class="col-md-3 col-xs-3">Drug Used:</span>
                  <span class="col-md-3 col-xs-3"><%= f.input :l_retinoscopy_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[l_retinoscopy_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_drug_used)) %></span>
                </div>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :l_retinoscopy_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_retinoscopy_comments]", :value => opdrecord.read_attribute(:l_retinoscopy_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_retinoscopy_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_reflex)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row" style="font-size: 11px;">
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">At Distance</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_distance)) %> Mt/cm</span>
                    </div>
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">Drug Used</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_drug_used)) %></span>
                    </div>
                    <div class="col-md-12">
                      <span class="col-md-6 col-xs-6">Comment</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_comments)) %></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dry-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-refraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforrefraction" id="r-questionsforrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_refraction_distant_sph).present? || opdrecord.read_attribute(:r_refraction_distant_cyl).present? || opdrecord.read_attribute(:r_refraction_distant_axis).present? || opdrecord.read_attribute(:r_refraction_distant_vision).present? || opdrecord.read_attribute(:r_refraction_near_sph).present? || opdrecord.read_attribute(:r_refraction_near_cyl).present? || opdrecord.read_attribute(:r_refraction_near_axis).present? || opdrecord.read_attribute(:r_refraction_near_vision).present? || opdrecord.read_attribute(:r_refraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill Dry Refraction" id="fill-dry-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=dry_refraction&type=refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer" title="Copy Dry Refraction to Glass Prescription" id="copy_dryref_to_gl_pres"><i class="fa fa-arrow-circle-down copyfieldsbutton show_hide_dry_ref_comment" style="display:block;"> copy</i></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforrefraction mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_distant_ucva, :class => "form-control form-control-custom dry-refraction r_refraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_ucva]", :value => opdrecord.read_attribute(:r_refraction_distant_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_distant_sph, :class => "form-control form-control-custom dry-refraction r_refraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_sph]", :value => opdrecord.read_attribute(:r_refraction_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_distant_cyl, :class => "form-control form-control-custom dry-refraction r_refraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_cyl]", :value => opdrecord.read_attribute(:r_refraction_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_distant_axis, :class => "form-control form-control-custom dry-refraction r_refraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_axis]", :value => opdrecord.read_attribute(:r_refraction_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_distant_vision, :class => "form-control form-control-custom dry-refraction r_refraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_distant_vision]", :value => opdrecord.read_attribute(:r_refraction_distant_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_distant_va_ph, :class => "form-control form-control-custom dry-refraction r_refraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_distant_va_ph]", :value => opdrecord.read_attribute(:r_refraction_distant_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_add_ucva, :class => "form-control form-control-custom dry-refraction r_refraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_ucva]", :value => opdrecord.read_attribute(:r_refraction_add_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_add_sph, :class => "form-control form-control-custom dry-refraction r_refraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_sph]", :value => opdrecord.read_attribute(:r_refraction_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_add_cyl, :class => "form-control form-control-custom r_refraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_cyl]", :value => opdrecord.read_attribute(:r_refraction_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_add_axis, :class => "form-control form-control-custom r_refraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_axis]", :value => opdrecord.read_attribute(:r_refraction_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_add_vision, :class => "form-control form-control-custom dry-refraction r_refraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_add_vision]", :value => opdrecord.read_attribute(:r_refraction_add_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_add_va_ph, :class => "form-control form-control-custom dry-refraction r_refraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_add_va_ph]", :value => opdrecord.read_attribute(:r_refraction_add_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_near_ucva, :class => "form-control form-control-custom dry-refraction r_refraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_ucva]", :value => opdrecord.read_attribute(:r_refraction_near_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_near_sph, :class => "form-control form-control-custom dry-refraction r_refraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_sph]", :value => opdrecord.read_attribute(:r_refraction_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_near_cyl, :class => "form-control form-control-custom dry-refraction r_refraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_cyl]", :value => opdrecord.read_attribute(:r_refraction_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_near_axis, :class => "form-control form-control-custom dry-refraction r_refraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_axis]", :value => opdrecord.read_attribute(:r_refraction_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_near_vision, :class => "form-control form-control-custom dry-refraction r_refraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_near_vision]", :value => opdrecord.read_attribute(:r_refraction_near_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_refraction_near_va_ph, :class => "form-control form-control-custom dry-refraction r_refraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_va_ph]", :value => opdrecord.read_attribute(:r_refraction_near_va_ph) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :r_refraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_refraction_comments]", :value => opdrecord.read_attribute(:r_refraction_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_distant_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_distant_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_distant_va_ph)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_near_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_near_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_refraction_near_va_ph)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <% if opdrecord.read_attribute(:r_refraction_comments).present? %>
                    <span style="font-size: 11px;"><b>Comment:</b> <%= opdrecord.read_attribute(:'r_refraction_comments') %></span>
                  <% end %>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_dry_ref"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-refraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforrefraction" id="l-questionsforrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_refraction_distant_sph).present? || opdrecord.read_attribute(:l_refraction_distant_cyl).present? || opdrecord.read_attribute(:l_refraction_distant_axis).present? || opdrecord.read_attribute(:l_refraction_distant_vision).present? || opdrecord.read_attribute(:l_refraction_near_sph).present? || opdrecord.read_attribute(:l_refraction_near_cyl).present? || opdrecord.read_attribute(:l_refraction_near_axis).present? || opdrecord.read_attribute(:l_refraction_near_vision).present? || opdrecord.read_attribute(:l_refraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforrefraction col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_distant_ucva, :class => "form-control form-control-custom dry-refraction l_refraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_ucva]", :value => opdrecord.read_attribute(:l_refraction_distant_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_distant_sph, :class => "form-control form-control-custom dry-refraction l_refraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_sph]", :value => opdrecord.read_attribute(:l_refraction_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_distant_cyl, :class => "form-control form-control-custom dry-refraction l_refraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_cyl]", :value => opdrecord.read_attribute(:l_refraction_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_distant_axis, :class => "form-control form-control-custom dry-refraction l_refraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_axis]", :value => opdrecord.read_attribute(:l_refraction_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_distant_vision, :class => "form-control form-control-custom dry-refraction l_refraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_distant_vision]", :value => opdrecord.read_attribute(:l_refraction_distant_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_distant_va_ph, :class => "form-control form-control-custom dry-refraction l_refraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_distant_va_ph]", :value => opdrecord.read_attribute(:l_refraction_distant_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_add_ucva, :class => "form-control form-control-custom dry-refraction l_refraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_ucva]", :value => opdrecord.read_attribute(:l_refraction_add_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_add_sph, :class => "form-control form-control-custom dry-refraction l_refraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_sph]", :value => opdrecord.read_attribute(:l_refraction_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_add_cyl, :class => "form-control form-control-custom l_refraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_cyl]", :value => opdrecord.read_attribute(:l_refraction_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_add_axis, :class => "form-control form-control-custom l_refraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_axis]", :value => opdrecord.read_attribute(:l_refraction_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_add_vision, :class => "form-control form-control-custom dry-refraction l_refraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_add_vision]", :value => opdrecord.read_attribute(:l_refraction_add_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_add_va_ph, :class => "form-control form-control-custom dry-refraction l_refraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_add_va_ph]", :value => opdrecord.read_attribute(:l_refraction_add_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_near_ucva, :class => "form-control form-control-custom dry-refraction l_refraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_ucva]", :value => opdrecord.read_attribute(:l_refraction_near_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_near_sph, :class => "form-control form-control-custom dry-refraction l_refraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_sph]", :value => opdrecord.read_attribute(:l_refraction_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_near_cyl, :class => "form-control form-control-custom dry-refraction l_refraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_cyl]", :value => opdrecord.read_attribute(:l_refraction_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_near_axis, :class => "form-control form-control-custom dry-refraction l_refraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_axis]", :value => opdrecord.read_attribute(:l_refraction_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_near_vision, :class => "form-control form-control-custom dry-refraction l_refraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_near_vision]", :value => opdrecord.read_attribute(:l_refraction_near_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_refraction_near_va_ph, :class => "form-control form-control-custom dry-refraction l_refraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_va_ph]", :value => opdrecord.read_attribute(:l_refraction_near_va_ph) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :l_refraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_refraction_comments]", :value => opdrecord.read_attribute(:l_refraction_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_distant_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_distant_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_distant_va_ph)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_near_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_near_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_refraction_near_va_ph)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <% if opdrecord.read_attribute(:l_refraction_comments).present? %>
                    <span style="font-size: 11px;"><b>Comment:</b> <%= opdrecord.read_attribute(:'l_refraction_comments') %></span>
                  <% end %>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-xs-12 mt5 text-center">
        <div class="row mb20">
          <div class="col-md-4 col-xs-4">
            <span class="col-md-6 col-xs-6">Advice</span>
            <span><%= f.input :dry_refraction_advice, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["GP", "PGP", "Contact lens", "Consult Doctor"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white dry_refraction_advice form-control-custom form-control', :input_html => {:name => "opdrecord[dry_refraction_advice]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:dry_refraction_advice)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row duchrome-jcc-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 mt5">
        <div class="row mb20">
          <div class="col-md-4 col-xs-6">
            <div class="col-md-4 col-xs-4">
              <b>Duochrome:</b>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :duochrome, true, { id: 'duochrome_true', class: 'opd_record_duochrome' } %>
                <label for="duochrome_true">Yes</label>
              </div>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :duochrome, false, {id: 'duochrome_false', class: 'opd_record_duochrome' } %>
                <label for="duochrome_false">No</label>
              </div>
            </div>
          </div>
          <div class="col-md-4 col-xs-6">
            <div class="col-md-4 col-xs-4">
              <b>JCC:</b>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :jcc, true, { id: 'jcc_true', class: 'opd_record_jcc' } %>
                <label for="jcc_true">Yes</label>
              </div>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :jcc, false, {id: 'jcc_false', class: 'opd_record_jcc' } %>
                <label for="jcc_false">No</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilation-check-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">Dilate Patient ?</b>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :dilate_patient, true, { id: 'dilate_patient_true', class: 'opd_record_dilate_patient' } %>
            <label for="dilate_patient_true" style="color:#fff;">Yes</label>
          </div>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :dilate_patient, false, {id: 'dilate_patient_false', class: 'opd_record_dilate_patient' } %>
            <label for="dilate_patient_false" style="color:#fff;">No</label>
          </div>
        </div>
        <div class="dilation-drop-box">
          <div class="col-md-2 col-xs-2">
            <b style="color:#fff;">Dilation Drop</b>
          </div>
          <div class="col-md-2 col-xs-3">
            <span><%= f.input :dilation_drop, collection: @patient.get_drugallergies_list_attribute("dilationdrops"), :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white dilation_drop form-control-custom form-control', :input_html => {:name => "opdrecord[dilation_drop]", :class => "form-control form-control-custom", style: 'width:100%;' }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:dilation_drop)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilated-auto-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-autorefraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_autorefraction_dilated1_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated1_axis).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_axis).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_axis).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED AUTO<div class="mb1"></div> REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED AUTO<div class="mb1"></div> REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill Auto Refraction" id="fill-dilated-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=dilated_auto_refraction&type=dilated_auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersfordilatedautorefraction mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dilated
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated1_sph, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated1_cyl, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated1_axis, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated2_sph, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated2_cyl, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated2_cyl ref_field", :maxlength => 8,  :required => false, :name => "opdrecord[r_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated2_axis, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated3_sph, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated3_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated3_cyl, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated3_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_dilated3_axis, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated3_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_axis) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_autoref_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Dilated
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated1_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated1_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated1_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated2_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated2_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated2_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated3_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated3_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_dilated3_axis)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_dilated_auto_ref" style="margin-top:1px;"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-autorefraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforautorefraction" id="l-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_autorefraction_dilated1_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated1_axis).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_axis).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_axis).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED AUTO<div class="mb1"></div> REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED AUTO<div class="mb1"></div> REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill Auto Refraction" id="fill-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 l-answersfordilatedautorefraction col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dilated
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated1_sph, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated1_cyl, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated1_axis, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated2_sph, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated2_cyl, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated2_cyl ref_field", :maxlength => 8,  :required => false, :name => "opdrecord[l_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated2_axis, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated3_sph, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated3_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated3_cyl, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated3_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_dilated3_axis, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated3_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_axis) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_autoref_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Dilated
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated1_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated1_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated1_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated2_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated2_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated2_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated3_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated3_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_dilated3_axis)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilated-retinoscopy-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-retinoscopy-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforretinoscopy" id="r-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_retinoscopy_dilated_sph).present? || opdrecord.read_attribute(:r_retinoscopy_dilated_cyl).present? || opdrecord.read_attribute(:r_retinoscopy_dilated_axis).present? || opdrecord.read_attribute(:r_retinoscopy_dilated_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED  NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;display: none;" title="Fill Retinoscopy" id="fill-retinoscopy"><a href="/opd_records/ophthalmology_notes/fill_retinoscopy_data?flag=dilated_retinoscopy" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersfordilatedretinoscopy mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_dilated_sph, :class => "form-control form-control-custom dilated-retinoscopy r_retinoscopy_dilated_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_dilated_sph]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_dilated_cyl, :class => "form-control form-control-custom dilated-retinoscopy r_retinoscopy_dilated_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_dilated_cyl]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_dilated_axis, :class => "form-control form-control-custom dilated-retinoscopy r_retinoscopy_dilated_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_dilated_axis]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input :r_retinoscopy_dilated_reflex, wrapper_html: {:class => "form-control form-control-custom r_retinoscopy_dilated_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_dilated_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[r_retinoscopy_dilated_reflex]", :class => "form-control dilated-retinoscopy form-control-custom",:style=>"width: 100%; padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_dilated_reflex)) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                  <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                    <div class="input-group">
                      <%= f.input_field :r_retinoscopy_dilated_distance, :class => "form-control form-control-custom r_retinoscopy_dilated_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[r_retinoscopy_dilated_distance]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_distance), :style => "margin-left: -1%"%>
                      <span class="input-group-addon">Mt/cm</span>
                    </div>
                  </span>
                  <span class="col-md-3 col-xs-3">Drug Used:</span>
                  <span class="col-md-3 col-xs-3"><%= f.input :r_retinoscopy_dilated_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_dilated_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[r_retinoscopy_dilated_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_dilated_drug_used)) %></span>
                </div>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :r_retinoscopy_dilated_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_retinoscopy_dilated_comments]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_retinoscopy_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_dilated_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_dilated_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_dilated_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_dilated_reflex)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row" style="font-size: 11px;">
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">At Distance</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_dilated_distance)) %> Mt/cm</span>
                    </div>
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">Drug Used</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_dilated_drug_used)) %></span>
                    </div>
                    <div class="col-md-12">
                      <span class="col-md-6 col-xs-6">Comment</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_dilated_comments)) %></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_retinoscopy"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-retinoscopy-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforretinoscopy" id="l-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_retinoscopy_dilated_sph).present? || opdrecord.read_attribute(:l_retinoscopy_dilated_cyl).present? || opdrecord.read_attribute(:l_retinoscopy_dilated_axis).present? || opdrecord.read_attribute(:l_retinoscopy_dilated_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersfordilatedretinoscopy col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_dilated_sph, :class => "form-control form-control-custom dilated-retinoscopy l_retinoscopy_dilated_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_dilated_sph]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_dilated_cyl, :class => "form-control form-control-custom dilated-retinoscopy l_retinoscopy_dilated_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_dilated_cyl]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_dilated_axis, :class => "form-control form-control-custom dilated-retinoscopy l_retinoscopy_dilated_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_dilated_axis]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input :l_retinoscopy_dilated_reflex, wrapper_html: {:class => "form-control form-control-custom l_retinoscopy_dilated_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_dilated_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[l_retinoscopy_dilated_reflex]", :class => "form-control dilated-retinoscopy form-control-custom",:style=>"width: 100%; padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_dilated_reflex)) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                  <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                    <div class="input-group">
                      <%= f.input_field :l_retinoscopy_dilated_distance, :class => "form-control form-control-custom l_retinoscopy_dilated_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_retinoscopy_dilated_distance]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_distance), :style => "margin-left: -1%"%>
                      <span class="input-group-addon">Mt/cm</span>
                  </div>
                  </span>
                  <span class="col-md-3 col-xs-3">Drug Used:</span>
                  <span class="col-md-3 col-xs-3"><%= f.input :l_retinoscopy_dilated_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_dilated_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[l_retinoscopy_dilated_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_dilated_drug_used)) %></span>
                </div>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :l_retinoscopy_dilated_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_retinoscopy_dilated_comments]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_retinoscopy_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_dilated_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_dilated_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_dilated_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_dilated_reflex)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row" style="font-size: 11px;">
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">At Distance</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_dilated_distance)) %> Mt/cm</span>
                    </div>
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">Drug Used</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_dilated_drug_used)) %></span>
                    </div>
                    <div class="col-md-12">
                      <span class="col-md-6 col-xs-6">Comment</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_dilated_comments)) %></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilated-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-dilatedrefraction-row">
          <div class="col-md-12 col-xs-12 r-dilatedrefraction-column questionsfordilatedrefraction" id="r-questionsfordilatedrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_dilatedrefraction_distant_sph).present? || opdrecord.read_attribute(:r_dilatedrefraction_distant_cyl).present? || opdrecord.read_attribute(:r_dilatedrefraction_distant_axis).present? || opdrecord.read_attribute(:r_dilatedrefraction_distant_vision).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_sph).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_cyl).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_axis).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_vision).present? || opdrecord.read_attribute(:r_dilatedrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill Dilated Refraction" id="fill-dilated-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=dilated_refraction&type=refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer" title="Copy Dilated Refraction to Glass Prescription" id="copy_dilatedref_to_gl_pres"><i class="fa fa-arrow-circle-down copyfieldsbutton show_hide_dilated_ref_comment"  style="display:block;"> copy</i></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersfordilatedrefraction mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_distant_ucva, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_ucva]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_distant_sph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_sph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_distant_cyl, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_cyl]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_distant_axis, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_axis]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_distant_vision, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_vision]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_distant_va_ph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_add_ucva, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_ucva]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_add_sph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_sph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_add_cyl, :class => "form-control form-control-custom r_dilatedrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_cyl]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_add_axis, :class => "form-control form-control-custom r_dilatedrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_axis]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_add_vision, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_add_vision]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_add_va_ph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_add_va_ph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_near_ucva, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_ucva]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_near_sph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_sph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_near_cyl, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_cyl]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_near_axis, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_axis]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_near_vision, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_near_vision]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_dilatedrefraction_near_va_ph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_va_ph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_va_ph) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :r_dilatedrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_dilatedrefraction_comments]", :value => opdrecord.read_attribute(:r_dilatedrefraction_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_distant_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_distant_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_distant_va_ph)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_near_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_near_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_dilatedrefraction_near_va_ph)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <% if opdrecord.read_attribute(:r_dilatedrefraction_comments).present? %>
                    <span style="font-size: 11px;"><b>Comment:</b> <%= opdrecord.read_attribute(:'r_dilatedrefraction_comments') %></span>
                  <% end %>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_dilated_ref"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-dilatedrefraction-row">
          <div class="col-md-12 col-xs-12 l-dilatedrefraction-column questionsfordilatedrefraction" id="l-questionsfordilatedrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_dilatedrefraction_distant_sph).present? || opdrecord.read_attribute(:l_dilatedrefraction_distant_cyl).present? || opdrecord.read_attribute(:l_dilatedrefraction_distant_axis).present? || opdrecord.read_attribute(:l_dilatedrefraction_distant_vision).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_sph).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_cyl).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_axis).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_vision).present? || opdrecord.read_attribute(:l_dilatedrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersfordilatedrefraction col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_distant_ucva, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_ucva]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_distant_sph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_sph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_distant_cyl, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_cyl]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_distant_axis, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_axis]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_distant_vision, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_vision]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_distant_va_ph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_add_ucva, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_ucva]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_add_sph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_sph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_add_cyl, :class => "form-control form-control-custom l_dilatedrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_cyl]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_add_axis, :class => "form-control form-control-custom l_dilatedrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_axis]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_add_vision, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_add_vision]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_add_va_ph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_add_va_ph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_near_ucva, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_ucva]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_near_sph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_sph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_near_cyl, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_cyl]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_near_axis, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_axis]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_near_vision, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_near_vision]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_dilatedrefraction_near_va_ph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_va_ph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_va_ph) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :l_dilatedrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_dilatedrefraction_comments]", :value => opdrecord.read_attribute(:l_dilatedrefraction_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_distant_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_distant_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_distant_va_ph)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_near_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_near_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_dilatedrefraction_near_va_ph)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <% if opdrecord.read_attribute(:l_dilatedrefraction_comments).present? %>
                    <span style="font-size: 11px;"><b>Comment:</b> <%= opdrecord.read_attribute(:'l_dilatedrefraction_comments') %></span>
                  <% end %>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-xs-10 mt5 text-center">
        <div class="row mb20">
          <div class="col-md-4 col-xs-4">
            <span class="col-md-6 col-xs-6">Advice</span>
            <span><%= f.input :dilated_refraction_advice, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["GP", "PGP", "Contact lens", "Consult Doctor"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white dilated_refraction_advice form-control-custom form-control', :input_html => {:name => "opdrecord[dilated_refraction_advice]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:dilated_refraction_advice)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-check-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">PMT ?</b>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :perform_pmt, true, { id: 'perform_pmt_true', class: 'opd_record_perform_pmt' } %>
            <label for="perform_pmt_true" style="color:#fff;">Yes</label>
          </div>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :perform_pmt, false, {id: 'perform_pmt_false', class: 'opd_record_perform_pmt' } %>
            <label for="perform_pmt_false" style="color:#fff;">No</label>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-auto-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-autorefraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_autorefraction_pmt_sph).present? || opdrecord.read_attribute(:r_autorefraction_pmt_cyl).present? || opdrecord.read_attribute(:r_autorefraction_pmt_axis).present? || opdrecord.read_attribute(:r_autorefraction_pmt1_sph).present? || opdrecord.read_attribute(:r_autorefraction_pmt1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_pmt1_axis).present? || opdrecord.read_attribute(:r_autorefraction_pmt2_sph).present? || opdrecord.read_attribute(:r_autorefraction_pmt2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_pmt2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill Auto Refraction" id="fill-pmt-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=pmt_auto_refraction&type=pmt_auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforpmtautorefraction mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dry
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt_sph, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt_sph]", :value => opdrecord.read_attribute(:r_autorefraction_pmt_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt_cyl, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_pmt_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt_axis, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt_axis]", :value => opdrecord.read_attribute(:r_autorefraction_pmt_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt1_sph, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_pmt1_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt1_cyl, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_pmt1_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt1_axis, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_pmt1_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt2_sph, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_pmt2_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt2_cyl, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt2_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_pmt2_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_autorefraction_pmt2_axis, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_pmt2_axis) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_autoref_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Dry
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt1_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt1_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt1_axis)) %>
                        </td>
                      </tr>
                       <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt2_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt2_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_autorefraction_pmt2_axis)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_pmt_auto_ref"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-autorefraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforautorefraction" id="l-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_autorefraction_pmt_sph).present? || opdrecord.read_attribute(:l_autorefraction_pmt_cyl).present? || opdrecord.read_attribute(:l_autorefraction_pmt_axis).present? || opdrecord.read_attribute(:l_autorefraction_pmt1_sph).present? || opdrecord.read_attribute(:l_autorefraction_pmt1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_pmt1_axis).present? || opdrecord.read_attribute(:l_autorefraction_pmt2_sph).present? || opdrecord.read_attribute(:l_autorefraction_pmt2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_pmt2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpmtautorefraction col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dry
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt_sph, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt_sph]", :value => opdrecord.read_attribute(:l_autorefraction_pmt_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt_cyl, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_pmt_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt_axis, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt_axis]", :value => opdrecord.read_attribute(:l_autorefraction_pmt_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt1_sph, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt1_sph]", :value => opdrecord.read_attribute(:l_autorefraction_pmt1_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt1_cyl, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt1_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_pmt1_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt1_axis, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt1_axis]", :value => opdrecord.read_attribute(:l_autorefraction_pmt1_axis) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt2_sph, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt2_sph]", :value => opdrecord.read_attribute(:l_autorefraction_pmt2_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt2_cyl, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt2_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt2_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_pmt2_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_autorefraction_pmt2_axis, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt2_axis]", :value => opdrecord.read_attribute(:l_autorefraction_pmt2_axis) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_autoref_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Dry
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt1_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt1_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt1_axis)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt2_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt2_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_autorefraction_pmt2_axis)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-retinoscopy-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-retinoscopy-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforretinoscopy" id="r-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_retinoscopy_pmt_sph).present? || opdrecord.read_attribute(:r_retinoscopy_pmt_cyl).present? || opdrecord.read_attribute(:r_retinoscopy_pmt_axis).present? || opdrecord.read_attribute(:r_retinoscopy_pmt_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;display: none;" title="Fill Retinoscopy" id="fill-retinoscopy"><a href="/opd_records/ophthalmology_notes/fill_retinoscopy_data?flag=pmt_retinoscopy" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforpmtretinoscopy mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_pmt_sph, :class => "form-control form-control-custom pmt-retinoscopy r_retinoscopy_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_pmt_sph]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_pmt_cyl, :class => "form-control form-control-custom pmt-retinoscopy r_retinoscopy_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_pmt_cyl]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_retinoscopy_pmt_axis, :class => "form-control form-control-custom pmt-retinoscopy r_retinoscopy_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_pmt_axis]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input :r_retinoscopy_pmt_reflex, wrapper_html: {:class => "form-control form-control-custom r_retinoscopy_pmt_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_pmt_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[r_retinoscopy_pmt_reflex]", :class => "form-control pmt-retinoscopy form-control-custom",:style=>"width: 100%; padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_pmt_reflex)) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                  <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                    <div class="input-group">
                      <%= f.input_field :r_retinoscopy_pmt_distance, :class => "form-control form-control-custom r_retinoscopy_pmt_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[r_retinoscopy_pmt_distance]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_distance), :style => "margin-left: -1%"%>
                      <span class="input-group-addon">Mt/cm</span>
                    </div>
                  </span>
                  <span class="col-md-3 col-xs-3">Drug Used:</span>
                  <span class="col-md-3 col-xs-3"><%= f.input :r_retinoscopy_pmt_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_pmt_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[r_retinoscopy_pmt_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_pmt_drug_used)) %></span>
                </div>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :r_retinoscopy_pmt_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_retinoscopy_pmt_comments]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_retinoscopy_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_pmt_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_pmt_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_pmt_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_pmt_reflex)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row" style="font-size: 11px;">
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">At Distance</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_pmt_distance)) %> Mt/cm</span>
                    </div>
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">Drug Used</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_pmt_drug_used)) %></span>
                    </div>
                    <div class="col-md-12">
                      <span class="col-md-6 col-xs-6">Comment</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:r_retinoscopy_pmt_comments)) %></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_retinoscopy"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-retinoscopy-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforretinoscopy" id="l-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_retinoscopy_pmt_sph).present? || opdrecord.read_attribute(:l_retinoscopy_pmt_cyl).present? || opdrecord.read_attribute(:l_retinoscopy_pmt_axis).present? || opdrecord.read_attribute(:l_retinoscopy_pmt_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpmtretinoscopy col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_pmt_sph, :class => "form-control form-control-custom pmt-retinoscopy l_retinoscopy_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_pmt_sph]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_pmt_cyl, :class => "form-control form-control-custom pmt-retinoscopy l_retinoscopy_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_pmt_cyl]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_retinoscopy_pmt_axis, :class => "form-control form-control-custom pmt-retinoscopy l_retinoscopy_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_pmt_axis]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input :l_retinoscopy_pmt_reflex, wrapper_html: {:class => "form-control form-control-custom l_retinoscopy_pmt_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_pmt_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[l_retinoscopy_pmt_reflex]", :class => "form-control pmt-retinoscopy form-control-custom",:style=>"width: 100%;padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_pmt_reflex)) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                  <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                    <div class="input-group">
                      <%= f.input_field :l_retinoscopy_pmt_distance, :class => "form-control form-control-custom l_retinoscopy_pmt_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_retinoscopy_pmt_distance]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_distance), :style => "margin-left: -1%"%>
                      <span class="input-group-addon">Mt/cm</span>
                    </div>
                  </span>
                  <span class="col-md-3 col-xs-3">Drug Used:</span>
                  <span class="col-md-3 col-xs-3"><%= f.input :l_retinoscopy_pmt_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_pmt_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[l_retinoscopy_pmt_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_pmt_drug_used)) %></span>
                </div>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :l_retinoscopy_pmt_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_retinoscopy_pmt_comments]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_retinoscopy_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_pmt_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_pmt_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_pmt_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_pmt_reflex)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row" style="font-size: 11px;">
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">At Distance</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_pmt_distance)) %> Mt/cm</span>
                    </div>
                    <div class="col-md-6">
                      <span class="col-md-6 col-xs-6">Drug Used</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_pmt_drug_used)) %></span>
                    </div>
                    <div class="col-md-12">
                      <span class="col-md-6 col-xs-6">Comment</span>
                      <span class="col-md-6 col-xs-6"><%= replace_blank(opdrecord.read_attribute(:l_retinoscopy_pmt_comments)) %></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-refraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforpmtrefraction" id="r-questionsforpmtrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_pmtrefraction_distant_sph).present? || opdrecord.read_attribute(:r_pmtrefraction_distant_cyl).present? || opdrecord.read_attribute(:r_pmtrefraction_distant_axis).present? || opdrecord.read_attribute(:r_pmtrefraction_distant_vision).present? || opdrecord.read_attribute(:r_pmtrefraction_near_sph).present? || opdrecord.read_attribute(:r_pmtrefraction_near_cyl).present? || opdrecord.read_attribute(:r_pmtrefraction_near_axis).present? || opdrecord.read_attribute(:r_pmtrefraction_near_vision).present? || opdrecord.read_attribute(:r_pmtrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer; display: none;" title="Fill PMT Refraction" id="fill-pmt-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=pmt_refraction&type=refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>

              <!--<span class="row col-md-12 notice_add_ref" style="margin-top: 10px">Add<sup class="suphash">#</sup> section will not be shown in printout</span>-->
            </div>
            <div class="col-md-9 col-xs-9 r-answersforpmtrefraction mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_distant_ucva, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_ucva]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_distant_sph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_sph]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_distant_cyl, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_cyl]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_distant_axis, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_axis]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_distant_vision, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_distant_vision]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_distant_va_ph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_add_ucva, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_ucva]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_add_sph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_sph]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_add_cyl, :class => "form-control form-control-custom r_pmtrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_cyl]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_add_axis, :class => "form-control form-control-custom r_pmtrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_axis]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_add_vision, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_add_vision]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_add_va_ph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_add_va_ph]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_near_ucva, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_ucva]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_near_sph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_sph]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_near_cyl, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_cyl]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_near_axis, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_axis]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_near_vision, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_near_vision]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_pmtrefraction_near_va_ph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_va_ph]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_va_ph) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :r_pmtrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_pmtrefraction_comments]", :value => opdrecord.read_attribute(:r_pmtrefraction_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_distant_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_distant_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_distant_va_ph)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_near_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_near_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_pmtrefraction_near_va_ph)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <% if opdrecord.read_attribute(:r_pmtrefraction_comments).present? %>
                    <span style="font-size: 11px;"><b>Comment:</b> <%= opdrecord.read_attribute(:'r_pmtrefraction_comments') %></span>
                  <% end %>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_pmt_ref"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-refraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforpmtrefraction" id="l-questionsforpmtrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_pmtrefraction_distant_sph).present? || opdrecord.read_attribute(:l_pmtrefraction_distant_cyl).present? || opdrecord.read_attribute(:l_pmtrefraction_distant_axis).present? || opdrecord.read_attribute(:l_pmtrefraction_distant_vision).present? || opdrecord.read_attribute(:l_pmtrefraction_near_sph).present? || opdrecord.read_attribute(:l_pmtrefraction_near_cyl).present? || opdrecord.read_attribute(:l_pmtrefraction_near_axis).present? || opdrecord.read_attribute(:l_pmtrefraction_near_vision).present? || opdrecord.read_attribute(:l_pmtrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpmtrefraction col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_distant_ucva, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_ucva]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_distant_sph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_sph]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_distant_cyl, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_cyl]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_distant_axis, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_axis]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_distant_vision, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_distant_vision]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_distant_va_ph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_add_ucva, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_ucva]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_add_sph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_sph]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_add_cyl, :class => "form-control form-control-custom l_pmtrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_cyl]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_add_axis, :class => "form-control form-control-custom l_pmtrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_axis]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_add_vision, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_add_vision]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_add_va_ph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_add_va_ph]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_va_ph) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_near_ucva, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_ucva]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_ucva) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_near_sph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_sph]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_near_cyl, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_cyl]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_near_axis, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_axis]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_near_vision, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_near_vision]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_vision) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_pmtrefraction_near_va_ph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_va_ph]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_va_ph) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="row mb5" style="width: 145%;margin-left: -39%;">
                  <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                  <div class="col-md-9 col-xs-9">
                    <%= f.text_area :l_pmtrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_pmtrefraction_comments]", :value => opdrecord.read_attribute(:l_pmtrefraction_comments)} %>
                  </div>
                </div>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                        <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_distant_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_distant_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_distant_va_ph)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_near_ucva)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_near_vision)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_pmtrefraction_near_va_ph)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <% if opdrecord.read_attribute(:l_pmtrefraction_comments).present? %>
                    <span style="font-size: 11px;"><b>Comment:</b> <%= opdrecord.read_attribute(:'l_pmtrefraction_comments') %></span>
                  <% end %>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs" style="margin-top:1px;"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-xs-12 mt5 text-center">
        <div class="row mb20">
          <div class="col-md-4 col-xs-4">
            <span class="col-md-6 col-xs-6">Advice</span>
            <span><%= f.input :pmt_refraction_advice, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["GP", "PGP", "Contact lens", "Consult Doctor"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pmt_refraction_advice form-control-custom form-control', :input_html => {:name => "opdrecord[pmt_refraction_advice]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pmt_refraction_advice)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row glasses-prescription-label-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;padding-bottom: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">Glasses Prescription</b>
        </div>
      </div>
    </div>

    <div class="row glasses-prescription-block mb10">
      <div class="hr-line-border mb5"></div>
      <% if @optical_stores_array.length > 1 %>
        <div class="row r-inventory-store">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="row mb5">
              <div class="col-md-4 col-sm-4 col-xs-4" style="text-align: center;"><strong>Store:</strong></div>
              <div class="col-md-5 col-sm-5 col-xs-5">
                <%= optical_store_dropdown(@opdrecord, @optical_stores_array)%>
              </div>
            <div class="col-md-3 col-sm-3 col-xs-3"></div>
            </div>
          </div>
        </div>
      <% elsif @optical_stores_array.length == 1 %>
        <div class="row r-inventory-store">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="row mb5">
              <div class="col-xs-4"><strong>Store:</strong></div>
              <div class="col-xs-5">
                <%= @opdrecord.optical_store_name ? @opdrecord.optical_store_name : @optical_stores_array[0][0] %>
              </div>
              <div class="col-md-3 col-sm-3 col-xs-3"></div>
            </div>
          </div>
        </div>
      <% end %>
      <div class="col-md-6 col-xs-6">
        <div class="row r-refraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column r-questionsforacceptance" id="r-r-questionsforacceptance">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_glassesprescriptions_distant_sph).present? || opdrecord.read_attribute(:r_glassesprescriptions_distant_cyl).present? || opdrecord.read_attribute(:r_glassesprescriptions_distant_axis).present? || opdrecord.read_attribute(:r_glassesprescriptions_distant_vision).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_sph).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_cyl).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_axis).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_vision).present? || opdrecord.read_attribute(:'r_acceptance_typeoflens').present? || opdrecord.read_attribute(:r_acceptance_ipd).present? || opdrecord.read_attribute(:'r_acceptance_lensmaterial').present? || opdrecord.read_attribute(:'r_acceptance_lenstint').present? || opdrecord.read_attribute(:'r_acceptance_framematerial').present? || opdrecord.read_attribute(:'r_acceptance_comments').present?%>
                <div class="col-md-12 col-xs-12 mb5 badge badge-eye-template-labels data-filled"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION &nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 mb5 badge badge-eye-template-labels data-empty"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION &nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-sm-12 mb5" style="margin-top: 5px; cursor: pointer;display: none;" title="Fill Glasses Prescription" id="fill-glasses-prescription"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=glasses_prescription" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <%= f.input :advise_glasses, wrapper_html: { class: "col-md-10 col-sm-10 text-center" }, collection: [['Advise','advise']], as: :hg_checkbox, label: false, required: false, class: 'btn btn-xs btn-white advise_glasses', input_html: { name: "opdrecord[advise_glasses]" }, checked: opdrecord.checkboxes_checked(opdrecord.read_attribute(:advise_glasses) || "advise") %>
              <% show_add = opdrecord.try(:glassesprescriptions_show_add) || false %>
              <div class="col-md-12 col-sm-12 mb5">
                <div class="ckbox ckbox-primary show_add_ckbox">
                  <%= f.check_box :glassesprescriptions_show_add, { class: "glassesprescriptions_show_add", id: "glassesprescriptions_show_add",value: show_add }, "true", "false" %>
                  <label for="glassesprescriptions_show_add">Print Add</label>
                </div>
              </div>
            </div>
            <div class="col-md-9 r-answersforglassesprescriptions col-xs-9 mainview_top_r">
              <div class="editview_toggle_r" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_distant_sph, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_sph]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_distant_cyl, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_cyl]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_distant_axis, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_axis]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_distant_vision, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_vision]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_add_sph, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_add_sph]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_add_cyl, :class => "form-control form-control-custom r_glassesprescriptions_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_add_cyl]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_add_axis, :class => "form-control form-control-custom r_glassesprescriptions_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_add_axis]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_add_vision, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_glassesprescriptions_add_vision]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_near_sph, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_near_sph]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_near_cyl, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_near_cyl]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_near_axis, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_near_axis]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :r_glassesprescriptions_near_vision, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_glassesprescriptions_near_vision]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_vision) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_r row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_r" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_distant_vision)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:r_glassesprescriptions_near_vision)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_r btn btn-link btn-xs show_glasses_prescription_on_copy editshow_hide_glasses_prescription"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-refraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column l-questionsforacceptance" id="l-l-questionsforacceptance">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_glassesprescriptions_distant_sph).present? || opdrecord.read_attribute(:l_glassesprescriptions_distant_cyl).present? || opdrecord.read_attribute(:l_glassesprescriptions_distant_axis).present? || opdrecord.read_attribute(:l_glassesprescriptions_distant_vision).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_sph).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_cyl).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_axis).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_vision).present? || opdrecord.read_attribute(:'l_acceptance_typeoflens').present? || opdrecord.read_attribute(:l_acceptance_ipd).present? || opdrecord.read_attribute(:'l_acceptance_lensmaterial').present? || opdrecord.read_attribute(:'l_acceptance_lenstint').present? || opdrecord.read_attribute(:'l_acceptance_framematerial').present? || opdrecord.read_attribute(:'l_acceptance_comments').present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforglassesprescriptions col-xs-9 mainview_top_l">
              <div class="editview_toggle_l" style="display: none;">
                <table class="table table-bordered">
                  <thead>
                    <tr class="success">
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Distant
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_distant_sph, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_sph]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_distant_cyl, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_cyl]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_distant_axis, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_axis]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_distant_vision, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_vision]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Add<sup class="suphash">#</sup>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_add_sph, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_add_sph]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_add_cyl, :class => "form-control form-control-custom l_glassesprescriptions_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_add_cyl]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_add_axis, :class => "form-control form-control-custom l_glassesprescriptions_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_add_axis]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_add_vision, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_glassesprescriptions_add_vision]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_vision) %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Near
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_near_sph, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_near_sph]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_sph) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_near_cyl, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_near_cyl]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_cyl) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_near_axis, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_near_axis]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_axis) %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <%= f.input_field :l_glassesprescriptions_near_vision, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_glassesprescriptions_near_vision]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_vision) %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="showview_full_l row">
                <div class="col-md-10 col-xs-10">
                  <table class="table table-bordered showview_toggle_ref_l" style="margin-bottom: 5px;font-size: 11px;">
                    <thead>
                      <tr class="success">
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                        <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Distant
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_distant_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_distant_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_distant_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_distant_vision)) %>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          Near
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_near_sph)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_near_cyl)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_near_axis)) %>
                        </td>
                        <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                          <%= replace_blank(opdrecord.read_attribute(:l_glassesprescriptions_near_vision)) %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-2 col-xs-2 text-right" style="margin-left:-20px;">
                  <button class="editViewActivate_l btn btn-link btn-xs show_glasses_prescription_on_copy editshow_hide_glasses_prescription"><i class="fa fa-edit"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row glasses-details-block mb10">
      <div class="col-md-6 col-xs-6">
        <div class="row">
          <div class="col-md-12 r-answersforacceptance col-sm-12 mainview_top_r">
            <div class="editview_toggle_r" style="display:none;">
              <div class="row" style="margin: auto;margin-bottom: 15px;margin-right: 10px;">
                <span class="col-md-3 col-sm-3">Type of Lens</span>
                <span><%= f.input :r_acceptance_typeoflens, wrapper_html: {:class => "col-md-3 col-sm-3"},collection: ['Single Vision - Distant','Single Vision - Near','Bifocal','Progressive','Bifocal or Progressive','D Bifocal','KT Bifocal'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_typeoflens form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_typeoflens]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_typeoflens)) %></span>
                <span class="col-md-2 col-sm-2 col-md-offset-1 col-sm-offset-1">MPD</span>
                <div class="input-group col-md-3 col-sm-3"><%= f.input_field :r_acceptance_ipd, :class => "form-control form-control-custom r_acceptance_ipd", :required => false, :name => "opdrecord[r_acceptance_ipd]", :value => opdrecord.read_attribute(:r_acceptance_ipd), :style=>"width: 100%;" %><span class="input-group-addon">mm</span></div>
              </div>
              <div class="row" style="margin: auto;margin-bottom: 10px;">

              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Material</span>
                <span><%= f.input :r_acceptance_lensmaterial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Mineral','CR 39r','Patient Choice','Polycarbonate','Trivex','Organic','Evalution','MR7','MR10','MR8','Press on'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_lensmaterial form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_lensmaterial]", :class => "form-control-custom form-control",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_lensmaterial)) %></span>
              </span>

              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Tint</span>
                <span><%= f.input :r_acceptance_lenstint, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['White','Amber','B1','B2','B3','Brown','G-15','Gradient Tint','Patient Choice','Photogrey','Photobrown','SP1','SP11','SP2','Yellow','Grey','Clear','Grey/Brown','Gray C/Brown C','Grey A','Gray / Brown / Green','PGX / PBX','Non Tintable','Pink','Photo Fusion Grey','Phot Fusion Brown','Polarised Brown','Polarised Grey','Transition','A1','A2','Colabar C','Colabar D','Non Clear','Polarised','Anti-reflection Coating'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_lenstint form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_lenstint]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_lenstint)) %></span>
              </span>

              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Frame Material</span>
                <span><%= f.input :r_acceptance_framematerial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Patient Choice','Shell','Metal','Titanium','Shell(Paediatric Use)','Hypo-Allergenic Metal','Plastic','Carbon','Acetate','Aluminium','Optyl','Polyamide','Stainless Steel','TR-90','Ultem'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_framematerial form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_framematerial]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_framematerial)) %></span>
              </span>
              </div>
              <div class="row mb5">
                <div class="col-md-3 col-sm-3 text-center">Advice: </div>
                <div class="col-md-9 col-sm-9">
                  <%= f.text_area :r_acceptance_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_acceptance_comments]", :value => opdrecord.read_attribute(:r_acceptance_comments)} %>
                </div>
              </div>
            </div>
            <div class="showview_full_r row">
              <div class="col-md-8 col-sm-8">
                <div class="showview_toggle_gpl_r">
                    <span style="font-size:11px;">
                      <b>Type of Lens :</b>
                      <% if opdrecord.read_attribute(:'r_acceptance_typeoflens').present? %>
                        <%= opdrecord.read_attribute(:'r_acceptance_typeoflens') %>
                      <% else %> -- <% end %> |
                      <b>MPD :</b>
                      <% if opdrecord.read_attribute(:r_acceptance_ipd).present? %>
                        <%= opdrecord.read_attribute(:r_acceptance_ipd) %>
                      <% else %> -- <% end %> |
                      <b>Lens Material :</b>
                      <% if opdrecord.read_attribute(:'r_acceptance_lensmaterial').present? %>
                        <%= opdrecord.read_attribute(:'r_acceptance_lensmaterial') %>
                      <% else %> -- <% end %> |
                      <b>Lens Tint :</b>
                      <% if opdrecord.read_attribute(:'r_acceptance_lenstint').present? %>
                        <%= opdrecord.read_attribute(:'r_acceptance_lenstint') %>
                      <% else %> -- <% end %> |
                      <b>Frame Material :</b>
                      <% if opdrecord.read_attribute(:'r_acceptance_framematerial').present? %>
                        <%= opdrecord.read_attribute(:'r_acceptance_framematerial') %>
                      <% else %> -- <% end %>
                    </span>
                    <% if opdrecord.read_attribute(:r_acceptance_comments).present? %>
                    <span style="font-size:11px;"><b>Advice:</b> <%= opdrecord.read_attribute(:'r_acceptance_comments') %></span>
                    <%end%>
                </div>
              </div>
              <div class="col-md-4 col-sm-4 text-right" style="margin-left:-20px;">
                <button class="editViewActivate_r btn btn-link btn-xs show_glasses_prescription_on_copy"></button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row">
          <div class="col-md-12 l-answersforacceptance col-sm-12 mainview_top_l">
            <div class="editview_toggle_l" style="display:none;">
              <div class="row" style="margin: auto;margin-bottom: 15px;margin-right: 10px;">
                <span class="col-md-3 col-sm-3">Type of Lens</span>
                <span><%= f.input :l_acceptance_typeoflens, wrapper_html: {:class => "col-md-3 col-sm-3"},collection: ['Single Vision - Distant','Single Vision - Near','Bifocal','Progressive','Bifocal or Progressive','D Bifocal','KT Bifocal'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_typeoflens form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_typeoflens]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_typeoflens)) %></span>
                <span class="col-md-2 col-sm-2 col-md-offset-1 col-sm-offset-1">MPD</span>
                <div class="input-group col-md-3 col-sm-3"><%= f.input_field :l_acceptance_ipd, :class => "form-control form-control-custom l_acceptance_ipd", :required => false, :name => "opdrecord[l_acceptance_ipd]", :value => opdrecord.read_attribute(:l_acceptance_ipd), :style=>"width: 100%;" %><span class="input-group-addon">mm</span></div>
              </div>
              <div class="row" style="margin: auto;margin-bottom: 10px;">

              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Material</span>
                <span><%= f.input :l_acceptance_lensmaterial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Mineral','CR 39r','Patient Choice','Polycarbonate','Trivex','Organic','Evalution','MR7','MR10','MR8','Press on'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_lensmaterial form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_lensmaterial]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_lensmaterial)) %></span>
              </span>

              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Tint</span>
                <span><%= f.input :l_acceptance_lenstint, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['White','Amber','B1','B2','B3','Brown','G-15','Gradient Tint','Patient Choice','Photogrey','Photobrown','SP1','SP11','SP2','Yellow','Grey','Clear','Grey/Brown','Gray C/Brown C','Grey A','Gray / Brown / Green','PGX / PBX','Non Tintable','Pink','Photo Fusion Grey','Phot Fusion Brown','Polarised Brown','Polarised Grey','Transition','A1','A2','Colabar C','Colabar D','Non Clear','Polarised','Anti-reflection Coating'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_lenstint form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_lenstint]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_lenstint)) %></span>
              </span>

              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Frame Material</span>
                <span><%= f.input :l_acceptance_framematerial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Patient Choice','Shell','Metal','Titanium','Shell(Paediatric Use)','Hypo-Allergenic Metal','Plastic','Carbon','Acetate','Aluminium','Optyl','Polyamide','Stainless Steel','TR-90','Ultem'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_framematerial form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_framematerial]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_framematerial)) %></span>
              </span>
              </div>
              <div class="row mb5">
                <div class="col-md-3 col-sm-3 text-center">Advice: </div>
                <div class="col-md-9 col-sm-9">
                  <%= f.text_area :l_acceptance_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_acceptance_comments]", :value => opdrecord.read_attribute(:l_acceptance_comments)} %>
                </div>
              </div>
            </div>
            <div class="showview_full_l row">
              <div class="col-md-8 col-sm-8">
                <div class="showview_toggle_gpl_l">
                  <span style="font-size:11px;">
                    <b>Type of Lens :</b>
                    <% if opdrecord.read_attribute(:'l_acceptance_typeoflens').present? %>
                      <%= opdrecord.read_attribute(:'l_acceptance_typeoflens') %>
                    <% else %> -- <% end %> |
                    <b>MPD :</b>
                    <% if opdrecord.read_attribute(:l_acceptance_ipd).present? %>
                      <%= opdrecord.read_attribute(:l_acceptance_ipd) %>
                    <% else %> -- <% end %> |
                    <b>Lens Material :</b>
                    <% if opdrecord.read_attribute(:'l_acceptance_lensmaterial').present? %>
                      <%= opdrecord.read_attribute(:'l_acceptance_lensmaterial') %>
                    <% else %> -- <% end %> |
                    <b>Lens Tint :</b>
                    <% if opdrecord.read_attribute(:'l_acceptance_lenstint').present? %>
                      <%= opdrecord.read_attribute(:'l_acceptance_lenstint') %>
                    <% else %> -- <% end %> |
                    <b>Frame Material :</b>
                    <% if opdrecord.read_attribute(:'l_acceptance_framematerial').present? %>
                      <%= opdrecord.read_attribute(:'l_acceptance_framematerial') %>
                    <% else %> -- <% end %>
                    <% if opdrecord.read_attribute(:l_acceptance_comments).present? %>
                    <span style="font-size:11px;"><b>Advice</b> <%= opdrecord.read_attribute(:'l_acceptance_comments') %></span>
                    <%end%>
                  </span>

                </div>
              </div>

              <div class="col-md-4 col-sm-4 text-right" style="margin-left:-20px;">
                <button class="editViewActivate_l btn btn-link btn-xs show_glasses_prescription_on_copy"><i class="fa fa-edit"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% else %>
  <div class="row mb30">
    <div class="row dry-auto-refraction-block mb10">
      <div class="col-md-6 col-xs-6">
        <div class="row r-autorefraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_autorefraction_dry_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry_axis).present? || opdrecord.read_attribute(:r_autorefraction_dry1_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry1_axis).present? || opdrecord.read_attribute(:r_autorefraction_dry2_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Auto Refraction" id="fill-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=auto_refraction&type=dry_auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforautorefraction mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dry
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry1_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry1_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry1_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry2_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry2_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry2_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-autorefraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforautorefraction" id="l-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_autorefraction_dry_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry_axis).present? || opdrecord.read_attribute(:l_autorefraction_dry1_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry1_axis).present? ||  opdrecord.read_attribute(:l_autorefraction_dry2_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforautorefraction col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dry
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dry_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dry_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dry_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_axis ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_axis ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry2_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dry-visual-acuity-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-visualacuity-row">
          <div class="col-md-12 r-visualacuity-column questionsforvisualacuity col-xs-12" id="r-questionsforvisualacuity">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_visualacuity_unaided).present? || opdrecord.read_attribute(:r_visualacuity_pinhole).present? || opdrecord.read_attribute(:r_visualacuity_glasses).present? || opdrecord.read_attribute(:r_visualacuity_lens).present? || opdrecord.read_attribute(:r_visualacuity_near).present? || opdrecord.read_attribute(:r_visualacuity_ua_near).present? || opdrecord.read_attribute(:r_visualacuity_ua_s).present? || opdrecord.read_attribute(:r_visualacuity_ua_n).present? || opdrecord.read_attribute(:r_visualacuity_ua_i).present? || opdrecord.read_attribute(:r_visualacuity_ua_t).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rvacopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rvacopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_right_va_advised, {class: "right_va_advised", :value => opdrecord.read_attribute(:no_right_va_advised)}, "false", "true" %>
                  <label for="opdrecord_no_right_va_advised">VA not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="col-md-12 r-answersforvisualacuity mainview_top_r col-xs-12">
            <div class="row col-md-12 col-xs-12">
              <span class="col-md-2 col-xs-2 col-xs-2">UCVA <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_unaided" class="clear_r_visualacuity_unaided">clear</small>
                <%= f.input_field :r_visualacuity_unaided_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_unaided_comments]", :value => opdrecord.read_attribute(:r_visualacuity_unaided_comments) %>
              </span>
              <%= f.input :r_visualacuity_unaided, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_unaided r_va', :input_html => {:name => "opdrecord[r_visualacuity_unaided]" }, :checked => opdrecord.read_attribute(:r_visualacuity_unaided) %>
              <%= f.input :r_visualacuity_unaided_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_unaided_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_unaided_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_unaided_p)) %>
              <span class="col-md-2 col-xs-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_ua_near" class="clear_r_visualacuity_ua_near">clear</small>
                <%= f.input_field :r_visualacuity_ua_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_ua_near_comments]", :value => opdrecord.read_attribute(:r_visualacuity_ua_near_comments) %>
              </span>
              <%= f.input :r_visualacuity_ua_near, wrapper_html: {:class => "col-md-9 col-xs-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_near r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_near]" }, :checked => opdrecord.read_attribute(:r_visualacuity_ua_near) %>
              <%= f.input :r_visualacuity_ua_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_ua_near_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_near_p)) %>
              <div class="col-md-offset-2 col-xs-offset-2 col-md-10 col-xs-10 mb10" style="padding: 0;">
                <div class="col-md-1 col-xs-1" style="margin-top: 1%">PR:</div>
                <div class="col-md-10 col-xs-10" style="padding: 0">
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">S</span>
                  <%= f.input :r_visualacuity_ua_s, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_s form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_s]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_s)) %>
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">I</span>
                  <%= f.input :r_visualacuity_ua_i, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_i form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_i]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_i)) %>
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">N</span>
                  <%= f.input :r_visualacuity_ua_n, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_n form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_n]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_n)) %>
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">T</span>
                  <%= f.input :r_visualacuity_ua_t, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'], :include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_ua_t form-control r_va', :input_html => {:name => "opdrecord[r_visualacuity_ua_t]", :class => "form-control r_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_ua_t)) %>
                </div>
              </div>
              <span class="col-md-2 col-xs-2">Pinhole <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_pinhole">clear</small>
                <%= f.input_field :r_visualacuity_pinhole_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_pinhole_comments]", :value => opdrecord.read_attribute(:r_visualacuity_pinhole_comments) %>
              </span>
              <%= f.input :r_visualacuity_pinhole, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_pinhole r_va', :input_html => {:name => "opdrecord[r_visualacuity_pinhole]" }, :checked => opdrecord.read_attribute(:r_visualacuity_pinhole) %>
              <div class="col-md-1 col-xs-1 visualacuity_pinhole">
                <%= f.input :r_visualacuity_pinhole_p, wrapper_html: {:class=>""},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_pinhole_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_pinhole_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_pinhole_p)) %>
                <%= f.input :r_visualacuity_pinhole_ni, wrapper_html: {:class=>"1"},collection: [ ['NI','NI'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_pinhole_ni r_va', :input_html => {:name => "opdrecord[r_visualacuity_pinhole_ni]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_pinhole_ni)) %>
              </div>
              <span class="col-md-2 col-xs-2">Glasses<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_glasses">clear</small>
                <%= f.input_field :r_visualacuity_glasses_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_glasses_comments]", :value => opdrecord.read_attribute(:r_visualacuity_glasses_comments) %>
              </span>
              <%= f.input :r_visualacuity_glasses, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_glasses r_va', :input_html => {:name => "opdrecord[r_visualacuity_glasses]" }, :checked => opdrecord.read_attribute(:r_visualacuity_glasses) %>
              <%= f.input :r_visualacuity_glasses_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_glasses_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_glasses_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_glasses_p)) %>
              <span class="col-md-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_near">clear</small>
                <%= f.input_field :r_visualacuity_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_near_comments]", :value => opdrecord.read_attribute(:r_visualacuity_near_comments) %>
              </span>
              <%= f.input :r_visualacuity_near, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_near r_va', :input_html => {:name => "opdrecord[r_visualacuity_near]" }, :checked => opdrecord.read_attribute(:r_visualacuity_near) %>
              <%= f.input :r_visualacuity_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_near_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_near_p)) %>
              <span class="col-md-2 col-xs-2">Contact Lens<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_r_visualacuity_lens">clear</small>
                <%= f.input_field :r_visualacuity_lens_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_visualacuity_lens_comments]", :value => opdrecord.read_attribute(:r_visualacuity_lens_comments) %>
              </span>
              <%= f.input :r_visualacuity_lens, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white r_visualacuity_lens r_va', :input_html => {:name => "opdrecord[r_visualacuity_lens]" }, :checked => opdrecord.read_attribute(:r_visualacuity_lens) %>
              <%= f.input :r_visualacuity_lens_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white r_visualacuity_lens_p r_va', :input_html => {:name => "opdrecord[r_visualacuity_lens_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_visualacuity_lens_p)) %>
            </div>
            <div class="row" style="padding-bottom: 20px">
              <div class="col-md-2 col-xs-2">Comments: </div>
              <div class="col-md-10 col-xs-10">
                <%= f.text_area :r_visualacuity_comments, {:class => "form-control", :style => "width:85%;margin-left: -9px;", :required => false, :name => "opdrecord[r_visualacuity_comments]", :value => opdrecord.read_attribute(:r_visualacuity_comments)} %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-visualacuity-row">
          <div class="col-md-12 l-visualacuity-column questionsforvisualacuity col-xs-12" id="l-questionsforvisualacuity">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_visualacuity_unaided).present? || opdrecord.read_attribute(:l_visualacuity_pinhole).present? || opdrecord.read_attribute(:l_visualacuity_glasses).present? || opdrecord.read_attribute(:l_visualacuity_ua_near).present? || opdrecord.read_attribute(:l_visualacuity_near).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lvacopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>VISUAL ACUITY (Va)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lvacopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_left_va_advised, {class: "left_va_advised", :value => opdrecord.read_attribute(:no_left_va_advised)}, "true", "false" %>
                  <label for="opdrecord_no_left_va_advised">VA not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="col-md-12 l-answersforvisualacuity mainview_top_l col-xs-12">
            <div class="row col-md-12 col-xs-12">
              <span class="col-md-2 col-xs-2">UCVA <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_unaided" class="clear_l_visualacuity_unaided">clear</small>
                <%= f.input_field :l_visualacuity_unaided_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_unaided_comments]", :value => opdrecord.read_attribute(:l_visualacuity_unaided_comments) %>
              </span>
              <%= f.input :l_visualacuity_unaided, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_unaided l_va', :input_html => {:name => "opdrecord[l_visualacuity_unaided]" }, :checked => opdrecord.read_attribute(:l_visualacuity_unaided) %>
              <%= f.input :l_visualacuity_unaided_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_unaided_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_unaided_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_unaided_p)) %>
              <span class="col-md-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_ua_near" class="clear_l_visualacuity_ua_near">clear</small>
                <%= f.input_field :l_visualacuity_ua_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_ua_near_comments]", :value => opdrecord.read_attribute(:l_visualacuity_ua_near_comments) %>
              </span>
              <%= f.input :l_visualacuity_ua_near, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_near l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_near]" }, :checked => opdrecord.read_attribute(:l_visualacuity_ua_near) %>
              <%= f.input :l_visualacuity_ua_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_ua_near_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_near_p)) %>
              <div class="col-md-offset-2 col-xs-offset-2 col-md-10 col-xs-10 mb10" style="padding: 0px">
                <div class="col-md-1 col-xs-1" style="margin-top: 1%">PR:</div>
                <div class="col-md-10 col-xs-10" style="padding: 0">
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">S</span>
                  <%= f.input :l_visualacuity_ua_s, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_s form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_s]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_s)) %>
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">I</span>
                  <%= f.input :l_visualacuity_ua_i, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_i form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_i]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_i)) %>
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">N</span>
                  <%= f.input :l_visualacuity_ua_n, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_n form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_n]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :chncked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_n)) %>
                  <span class="col-md-1 col-xs-1 text-right" style="margin-top: 1%">T</span>
                  <%= f.input :l_visualacuity_ua_t, wrapper_html: {:class => "col-md-2 col-xs-2"},collection: ['+','-'],:include_blank => 'Sel', :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_ua_t form-control l_va', :input_html => {:name => "opdrecord[l_visualacuity_ua_t]", :class => "form-control l_va", :style => "padding: 4px 0px" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_ua_t)) %>
                </div>
              </div>
              <span class="col-md-2 col-xs-2">Pinhole <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_pinhole">clear</small>
              <%= f.input_field :l_visualacuity_pinhole_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_pinhole_comments]", :value => opdrecord.read_attribute(:l_visualacuity_pinhole_comments) %>
              </span>
              <%= f.input :l_visualacuity_pinhole, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_pinhole l_va', :input_html => {:name => "opdrecord[l_visualacuity_pinhole]" }, :checked => opdrecord.read_attribute(:l_visualacuity_pinhole) %>
              <div class="col-md-1 col-xs-1 visualacuity_pinhole">
                <%= f.input :l_visualacuity_pinhole_p, wrapper_html: {:class=>""},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_pinhole_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_pinhole_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_pinhole_p)) %>
                <%= f.input :l_visualacuity_pinhole_ni, wrapper_html: {:class=>""},collection: [ ['NI','NI'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_pinhole_ni l_va', :input_html => {:name => "opdrecord[l_visualacuity_pinhole_ni]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_pinhole_ni)) %>
              </div>
              <span class="col-md-2 col-xs-2">Glasses<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_glasses">clear</small>
                <%= f.input_field :l_visualacuity_glasses_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_glasses_comments]", :value => opdrecord.read_attribute(:l_visualacuity_glasses_comments) %>
              </span>
              <%= f.input :l_visualacuity_glasses, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_glasses l_va', :input_html => {:name => "opdrecord[l_visualacuity_glasses]" }, :checked => opdrecord.read_attribute(:l_visualacuity_glasses) %>
              <%= f.input :l_visualacuity_glasses_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_glasses_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_glasses_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_glasses_p)) %>
              <span class="col-md-2 col-xs-2"><small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_near">clear</small>
                <%= f.input_field :l_visualacuity_near_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_near_comments]", :value => opdrecord.read_attribute(:l_visualacuity_near_comments) %>
              </span>
              <%= f.input :l_visualacuity_near, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_near_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_near l_va', :input_html => {:name => "opdrecord[l_visualacuity_near]" }, :checked => opdrecord.read_attribute(:l_visualacuity_near) %>
              <%= f.input :l_visualacuity_near_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_near_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_near_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_near_p)) %>
              <span class="col-md-2 col-xs-2">Contact Lens<small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" id="clear_l_visualacuity_lens">clear</small>
                <%= f.input_field :l_visualacuity_lens_comments, :class => "form-control form-control-comment ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_visualacuity_lens_comments]", :value => opdrecord.read_attribute(:l_visualacuity_lens_comments) %>
              </span>
              <%= f.input :l_visualacuity_lens, wrapper_html: {:class => "col-md-9 col-xs-9",:style => "padding: 0px"},collection: opdrecord.visual_acuity_values(country_id), :as => :hg_radio_button, :label => false, :required => false, :class => 'btn btn-xs btn-white l_visualacuity_lens l_va', :input_html => {:name => "opdrecord[l_visualacuity_lens]" }, :checked => opdrecord.read_attribute(:l_visualacuity_lens) %>
              <%= f.input :l_visualacuity_lens_p, wrapper_html: {:class=>"col-md-1 col-xs-1"},collection: [ ['P','P'] ], :as => :hg_checkbox,:label => false, :required => false,:class => 'btn btn-xs btn-white l_visualacuity_lens_p l_va', :input_html => {:name => "opdrecord[l_visualacuity_lens_p]" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_visualacuity_lens_p)) %>
            </div>
            <div class="row" style="padding-bottom: 20px">
              <div class="col-md-2 col-xs-2">Comments: </div>
              <div class="col-md-10 col-xs-10">
                <%= f.text_area :l_visualacuity_comments, {:class => "form-control", :style => "width:85%;margin-left: -9px;", :required => false, :name => "opdrecord[l_visualacuity_comments]", :value => opdrecord.read_attribute(:l_visualacuity_comments)} %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row pgp-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <%= render partial: "opd_records/ophthalmology_notes/opd_partials/r_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      </div>
      <div class="col-md-6 col-xs-6">
        <%= render partial: "opd_records/ophthalmology_notes/opd_partials/l_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      </div>
    </div>

    <div class="row near-pgp-check-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">Near PGP</b>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :add_pgp_near, true, { id: 'pgp_near_true', class: 'opd_record_pgp_near' } %>
            <label for="pgp_near_true" style="color:#fff;">Yes</label>
          </div>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :add_pgp_near, false, { id: 'pgp_near_false', class: 'opd_record_pgp_near' } %>
            <label for="pgp_near_false" style="color:#fff;">No</label>
          </div>
        </div>
      </div>
    </div>

    <div class="row near-pgp-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-pgp-near-row">
          <div class="col-md-12 col-xs-12 r-pgp-near-column questionsforpgpnear" id="r-questionsforpgpnear">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_near_pgp_distant_sph).present? || opdrecord.read_attribute(:r_near_pgp_distant_cyl).present? || opdrecord.read_attribute(:r_near_pgp_distant_axis).present? || opdrecord.read_attribute(:r_near_pgp_near_sph).present? || opdrecord.read_attribute(:r_near_pgp_near_cyl).present? || opdrecord.read_attribute(:r_near_pgp_near_axis).present? ||opdrecord.read_attribute(:r_near_pgp_add_sph).present? ||opdrecord.read_attribute(:r_near_pgp_add_cyl).present? ||opdrecord.read_attribute(:r_near_pgp_add_axis).present? || opdrecord.read_attribute(:'r_near_pgp_typeoflens').present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill PGP" id="fill-pgp-near"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=near_pgp" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer" title="Copy PGP to Glass Prescription" id="copy_near_pgp_to_gl_pres"><i class="fa fa-arrow-circle-down copyfieldsbutton"> copy</i></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforpgpnear mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_distant_sph, :class => "form-control form-control-custom near-pgp r_pgp_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_distant_sph]", :value => opdrecord.read_attribute(:r_near_pgp_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_distant_cyl, :class => "form-control form-control-custom near-pgp r_pgp_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_distant_cyl]", :value => opdrecord.read_attribute(:r_near_pgp_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_distant_axis, :class => "form-control form-control-custom near-pgp r_pgp_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_distant_axis]", :value => opdrecord.read_attribute(:r_near_pgp_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_distant_vision, :class => "form-control form-control-custom near-pgp r_pgp_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_near_pgp_distant_vision]", :value => opdrecord.read_attribute(:r_near_pgp_distant_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_add_sph, :class => "form-control form-control-custom near-pgp r_pgp_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_add_sph]", :value => opdrecord.read_attribute(:r_near_pgp_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_add_cyl, :class => "form-control form-control-custom r_pgp_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_add_cyl]", :value => opdrecord.read_attribute(:r_near_pgp_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_add_axis, :class => "form-control form-control-custom r_pgp_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_add_axis]", :value => opdrecord.read_attribute(:r_near_pgp_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_add_vision, :class => "form-control form-control-custom near-pgp r_pgp_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_near_pgp_add_vision]", :value => opdrecord.read_attribute(:r_near_pgp_add_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_near_sph, :class => "form-control form-control-custom near-pgp r_pgp_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_near_sph]", :value => opdrecord.read_attribute(:r_near_pgp_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_near_cyl, :class => "form-control form-control-custom near-pgp r_pgp_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_near_cyl]", :value => opdrecord.read_attribute(:r_near_pgp_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_near_axis, :class => "form-control form-control-custom near-pgp r_pgp_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_near_pgp_near_axis]", :value => opdrecord.read_attribute(:r_near_pgp_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_near_pgp_near_vision, :class => "form-control form-control-custom near-pgp r_pgp_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_near_pgp_near_vision]", :value => opdrecord.read_attribute(:r_near_pgp_near_vision) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-pgp-row">
          <div class="col-md-12 l-pgp-near-column questionsforpgpnear col-xs-12" id="l-questionsforpgpnear">
            <div class="col-md-3 col-xs-3" style="padding: 0px;">
              <% if opdrecord.read_attribute(:l_near_pgp_distant_sph).present? || opdrecord.read_attribute(:l_near_pgp_distant_cyl).present? || opdrecord.read_attribute(:l_near_pgp_distant_axis).present? || opdrecord.read_attribute(:l_near_pgp_near_sph).present? || opdrecord.read_attribute(:l_near_pgp_near_cyl).present? || opdrecord.read_attribute(:l_near_pgp_near_axis).present? ||opdrecord.read_attribute(:l_near_pgp_add_sph).present? ||opdrecord.read_attribute(:l_near_pgp_add_cyl).present? ||opdrecord.read_attribute(:l_near_pgp_add_axis).present? || opdrecord.read_attribute(:'l_near_pgp_typeoflens').present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>Near PGP&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpgpnear col-xs-9 mainview_top_l col-xs-9">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_distant_sph, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8,  :required => false, :name => "opdrecord[l_near_pgp_distant_sph]", :value => opdrecord.read_attribute(:l_near_pgp_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_distant_cyl, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_distant_cyl]", :value => opdrecord.read_attribute(:l_near_pgp_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_distant_axis, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_distant_axis]", :value => opdrecord.read_attribute(:l_near_pgp_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_distant_vision, :class => "form-control form-control-custom near-pgp l_near_pgp_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_near_pgp_distant_vision]", :value => opdrecord.read_attribute(:l_near_pgp_distant_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_add_sph, :class => "form-control form-control-custom near-pgp l_near_pgp_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_add_sph]", :value => opdrecord.read_attribute(:l_near_pgp_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_add_cyl, :class => "form-control form-control-custom l_near_pgp_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_add_cyl]", :value => opdrecord.read_attribute(:l_near_pgp_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_add_axis, :class => "form-control form-control-custom l_near_pgp_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_near_pgp_add_axis]", :value => opdrecord.read_attribute(:l_near_pgp_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_add_vision, :class => "form-control form-control-custom near-pgp l_near_pgp_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_near_pgp_add_vision]", :value => opdrecord.read_attribute(:l_near_pgp_add_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_near_sph, :class => "form-control form-control-custom near-pgp l_near_pgp_near_sph ref_field", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_near_pgp_near_sph]", :value => opdrecord.read_attribute(:l_near_pgp_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_near_cyl, :class => "form-control form-control-custom near-pgp l_near_pgp_near_cyl ref_field", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_near_pgp_near_cyl]", :value => opdrecord.read_attribute(:l_near_pgp_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_near_axis, :class => "form-control form-control-custom near-pgp l_near_pgp_near_axis ref_field", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_near_pgp_near_axis]", :value => opdrecord.read_attribute(:l_near_pgp_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_near_pgp_near_vision, :class => "form-control form-control-custom near-pgp l_near_pgp_near_vision ref_field", :maxlength => 12, :size => 12, :required => false, :name => "opdrecord[l_near_pgp_near_vision]", :value => opdrecord.read_attribute(:l_near_pgp_near_vision) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row spectacles-condition-block">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12">
        <div class="row pgp-options-row">
          <div class="col-md-12 l-pgp-column questionsforpgp col-xs-12 mb10" id="l-questionsforspecs">
            <div class="col-md-12 l-answersforspecs mainview_top_l col-xs-12">
              <div class="row mb20">
                <div class="col-md-1 col-md-3-shared col-xs-3 col-xs-3-shared" style="padding: 0px">
                  <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>SPECTACLES CONDITION</strong></div>
                </div>
              </div>
              <div class="row mb20">
                <div class="col-md-6 col-xs-6">
                  <span class="col-md-4 col-xs-4">Duration</span>
                  <span><%= f.input :pgp_duration, wrapper_html: {:class => "col-md-4 col-xs-4"},collection: (1..15), :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_duration form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_duration]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_duration)) %></span>
                  <span><%= f.input :pgp_duration_option, wrapper_html: {:class => "col-md-4 col-xs-4"},collection: ['Year','Month','Week','Day'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_duration_option form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_duration_option]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_duration_option)) %></span>
                </div>
                <div class="col-md-6 col-xs-6">
                  <span class="col-md-6 col-xs-6">Condition of Frame</span>
                  <span><%= f.input :pgp_frame_condition, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Good", "Bad", "Scratched"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_frame_condition form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_frame_condition]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_frame_condition)) %></span>
                </div>
              </div>
              <div class="row mb20">
                <div class="col-md-4 col-xs-4">
                  <span class="col-md-6 col-xs-6">Type of Lens</span>
                  <span><%= f.input :pgp_glasses, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Single vision  distant", "Single vision  near", "Bifocal", "Progressive", "D Bifocal", "KT Bifocal"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_glasses form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_glasses]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_glasses)) %></span>
                </div>
                <div class="col-md-4 col-xs-4">
                  <span class="col-md-6 col-xs-6">DBOC</span>
                  <div class="input-group">
                    <span><%= f.input_field :pgp_dboc, :class => "form-control col-md-6 col-xs-6 p5_10", :maxlength => 12, :required => false, :name => "opdrecord[pgp_dboc]", :value => opdrecord.read_attribute(:pgp_dboc) %></span>
                    <span class="input-group-addon">mm</span>
                  </div>
                </div>
                <div class="col-md-4 col-xs-4">
                  <span class="col-md-6 col-xs-6">Condition of Lens</span>
                  <span><%= f.input :pgp_lens_condition, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Good", "Bad", "Scratched"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_lens_condition form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_lens_condition]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_lens_condition)) %></span>
                </div>
              </div>
              <div class="row mb20">
                <div class="col-md-4 col-xs-4">
                  <span class="col-md-6 col-xs-6">Frame Material</span>
                  <span><%= f.input :pgp_frame_material, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Patient choice", "Shell", "Metal", "Titanium", "Shell(Paediatric Use)", "Hypo-Allergic Metal", "Plastic", "Carbon", "Acetate", "Aliminium", "Optyl", "Polyamide", "Stainless Stell", "TR-90", "Ultem"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_frame_material form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_frame_material]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_frame_material)) %></span>
                </div>
                <div class="col-md-4 col-xs-4">
                  <span class="col-md-6 col-xs-6">Lens Material</span>
                  <span><%= f.input :pgp_lens_material, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["Mineral", "CR39r", "Patient Choice", "Polycarbonate", "Trivex", "Organic", "Evalution", "MR7", "MR10", "MR8", "Press on"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pgp_lens_material form-control-custom form-control', :input_html => {:name => "opdrecord[pgp_lens_material]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pgp_lens_material)) %></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row retinoscopy-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-retinoscopy-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforretinoscopy" id="r-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_retinoscopy_sph).present? || opdrecord.read_attribute(:r_retinoscopy_cyl).present? || opdrecord.read_attribute(:r_retinoscopy_axis).present? || opdrecord.read_attribute(:r_retinoscopy_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY NET <div class="mb1"></div>RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Retinoscopy" id="fill-retinoscopy"><a href="/opd_records/ophthalmology_notes/fill_retinoscopy_data?flag=retinoscopy" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforretinoscopy mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_sph, :class => "form-control form-control-custom retinoscopy r_retinoscopy_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_sph]", :value => opdrecord.read_attribute(:r_retinoscopy_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_cyl, :class => "form-control form-control-custom retinoscopy r_retinoscopy_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_cyl]", :value => opdrecord.read_attribute(:r_retinoscopy_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_axis, :class => "form-control form-control-custom retinoscopy r_retinoscopy_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_axis]", :value => opdrecord.read_attribute(:r_retinoscopy_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input :r_retinoscopy_reflex, wrapper_html: {:class => "form-control form-control-custom r_retinoscopy_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[r_retinoscopy_reflex]", :class => "form-control retinoscopy form-control-custom",:style=>"width: 100%;padding:0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_reflex)) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                  <div class="input-group">
                    <%= f.input_field :r_retinoscopy_distance, :class => "form-control form-control-custom r_retinoscopy_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[r_retinoscopy_distance]", :value => opdrecord.read_attribute(:r_retinoscopy_distance), :style => "margin-left: -1%"%>
                    <span class="input-group-addon">Mt/cm</span>
                  </div>
                </span>
                <span class="col-md-3 col-xs-3">Drug Used:</span>
                <span class="col-md-3 col-xs-3"><%= f.input :r_retinoscopy_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[r_retinoscopy_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_drug_used)) %></span>
              </div>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :r_retinoscopy_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_retinoscopy_comments]", :value => opdrecord.read_attribute(:r_retinoscopy_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-retinoscopy-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforretinoscopy" id="l-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_retinoscopy_sph).present? || opdrecord.read_attribute(:l_retinoscopy_cyl).present? || opdrecord.read_attribute(:l_retinoscopy_axis).present? || opdrecord.read_attribute(:l_retinoscopy_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY NET <div class="mb1"></div>RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforretinoscopy col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_sph, :class => "form-control form-control-custom retinoscopy l_retinoscopy_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_sph]", :value => opdrecord.read_attribute(:l_retinoscopy_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_cyl, :class => "form-control form-control-custom retinoscopy l_retinoscopy_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_cyl]", :value => opdrecord.read_attribute(:l_retinoscopy_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_axis, :class => "form-control form-control-custom retinoscopy l_retinoscopy_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_axis]", :value => opdrecord.read_attribute(:l_retinoscopy_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input :l_retinoscopy_reflex, wrapper_html: {:class => "form-control form-control-custom l_retinoscopy_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[l_retinoscopy_reflex]", :class => "form-control retinoscopy form-control-custom",:style=>"width: 100%;padding:0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_reflex)) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                  <div class="input-group">
                    <%= f.input_field :l_retinoscopy_distance, :class => "form-control form-control-custom l_retinoscopy_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_retinoscopy_distance]", :value => opdrecord.read_attribute(:l_retinoscopy_distance), :style => "margin-left: -1%"%>
                    <span class="input-group-addon">Mt/cm</span>
                  </div>
                </span>
                <span class="col-md-3 col-xs-3">Drug Used:</span>
                <span class="col-md-3 col-xs-3"><%= f.input :l_retinoscopy_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[l_retinoscopy_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_drug_used)) %></span>
              </div>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :l_retinoscopy_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_retinoscopy_comments]", :value => opdrecord.read_attribute(:l_retinoscopy_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dry-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-refraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforrefraction" id="r-questionsforrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_refraction_distant_sph).present? || opdrecord.read_attribute(:r_refraction_distant_cyl).present? || opdrecord.read_attribute(:r_refraction_distant_axis).present? || opdrecord.read_attribute(:r_refraction_distant_vision).present? || opdrecord.read_attribute(:r_refraction_near_sph).present? || opdrecord.read_attribute(:r_refraction_near_cyl).present? || opdrecord.read_attribute(:r_refraction_near_axis).present? || opdrecord.read_attribute(:r_refraction_near_vision).present? || opdrecord.read_attribute(:r_refraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Dry Refraction" id="fill-dry-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=dry_refraction&type=refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer" title="Copy Dry Refraction to Glass Prescription" id="copy_dryref_to_gl_pres"><i class="fa fa-arrow-circle-down copyfieldsbutton"> copy</i></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforrefraction mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_distant_ucva, :class => "form-control form-control-custom dry-refraction r_refraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_ucva]", :value => opdrecord.read_attribute(:r_refraction_distant_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_distant_sph, :class => "form-control form-control-custom dry-refraction r_refraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_sph]", :value => opdrecord.read_attribute(:r_refraction_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_distant_cyl, :class => "form-control form-control-custom dry-refraction r_refraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_cyl]", :value => opdrecord.read_attribute(:r_refraction_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_distant_axis, :class => "form-control form-control-custom dry-refraction r_refraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_distant_axis]", :value => opdrecord.read_attribute(:r_refraction_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_distant_vision, :class => "form-control form-control-custom dry-refraction r_refraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_distant_vision]", :value => opdrecord.read_attribute(:r_refraction_distant_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_distant_va_ph, :class => "form-control form-control-custom dry-refraction r_refraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_distant_va_ph]", :value => opdrecord.read_attribute(:r_refraction_distant_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_add_ucva, :class => "form-control form-control-custom dry-refraction r_refraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_ucva]", :value => opdrecord.read_attribute(:r_refraction_add_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_add_sph, :class => "form-control form-control-custom dry-refraction r_refraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_sph]", :value => opdrecord.read_attribute(:r_refraction_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_add_cyl, :class => "form-control form-control-custom r_refraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_cyl]", :value => opdrecord.read_attribute(:r_refraction_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_add_axis, :class => "form-control form-control-custom r_refraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_add_axis]", :value => opdrecord.read_attribute(:r_refraction_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_add_vision, :class => "form-control form-control-custom dry-refraction r_refraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_add_vision]", :value => opdrecord.read_attribute(:r_refraction_add_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_add_va_ph, :class => "form-control form-control-custom dry-refraction r_refraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_add_va_ph]", :value => opdrecord.read_attribute(:r_refraction_add_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_near_ucva, :class => "form-control form-control-custom dry-refraction r_refraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_ucva]", :value => opdrecord.read_attribute(:r_refraction_near_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_near_sph, :class => "form-control form-control-custom dry-refraction r_refraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_sph]", :value => opdrecord.read_attribute(:r_refraction_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_near_cyl, :class => "form-control form-control-custom dry-refraction r_refraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_cyl]", :value => opdrecord.read_attribute(:r_refraction_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_near_axis, :class => "form-control form-control-custom dry-refraction r_refraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_axis]", :value => opdrecord.read_attribute(:r_refraction_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_near_vision, :class => "form-control form-control-custom dry-refraction r_refraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_refraction_near_vision]", :value => opdrecord.read_attribute(:r_refraction_near_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_refraction_near_va_ph, :class => "form-control form-control-custom dry-refraction r_refraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_refraction_near_va_ph]", :value => opdrecord.read_attribute(:r_refraction_near_va_ph) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :r_refraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_refraction_comments]", :value => opdrecord.read_attribute(:r_refraction_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-refraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforrefraction" id="l-questionsforrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_refraction_distant_sph).present? || opdrecord.read_attribute(:l_refraction_distant_cyl).present? || opdrecord.read_attribute(:l_refraction_distant_axis).present? || opdrecord.read_attribute(:l_refraction_distant_vision).present? || opdrecord.read_attribute(:l_refraction_near_sph).present? || opdrecord.read_attribute(:l_refraction_near_cyl).present? || opdrecord.read_attribute(:l_refraction_near_axis).present? || opdrecord.read_attribute(:l_refraction_near_vision).present? || opdrecord.read_attribute(:l_refraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DRY REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforrefraction col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_distant_ucva, :class => "form-control form-control-custom dry-refraction l_refraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_ucva]", :value => opdrecord.read_attribute(:l_refraction_distant_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_distant_sph, :class => "form-control form-control-custom dry-refraction l_refraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_sph]", :value => opdrecord.read_attribute(:l_refraction_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_distant_cyl, :class => "form-control form-control-custom dry-refraction l_refraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_cyl]", :value => opdrecord.read_attribute(:l_refraction_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_distant_axis, :class => "form-control form-control-custom dry-refraction l_refraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_distant_axis]", :value => opdrecord.read_attribute(:l_refraction_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_distant_vision, :class => "form-control form-control-custom dry-refraction l_refraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_distant_vision]", :value => opdrecord.read_attribute(:l_refraction_distant_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_distant_va_ph, :class => "form-control form-control-custom dry-refraction l_refraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_distant_va_ph]", :value => opdrecord.read_attribute(:l_refraction_distant_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_add_ucva, :class => "form-control form-control-custom dry-refraction l_refraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_ucva]", :value => opdrecord.read_attribute(:l_refraction_add_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_add_sph, :class => "form-control form-control-custom dry-refraction l_refraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_sph]", :value => opdrecord.read_attribute(:l_refraction_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_add_cyl, :class => "form-control form-control-custom l_refraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_cyl]", :value => opdrecord.read_attribute(:l_refraction_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_add_axis, :class => "form-control form-control-custom l_refraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_add_axis]", :value => opdrecord.read_attribute(:l_refraction_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_add_vision, :class => "form-control form-control-custom dry-refraction l_refraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_add_vision]", :value => opdrecord.read_attribute(:l_refraction_add_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_add_va_ph, :class => "form-control form-control-custom dry-refraction l_refraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_add_va_ph]", :value => opdrecord.read_attribute(:l_refraction_add_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_near_ucva, :class => "form-control form-control-custom dry-refraction l_refraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_ucva]", :value => opdrecord.read_attribute(:l_refraction_near_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_near_sph, :class => "form-control form-control-custom dry-refraction l_refraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_sph]", :value => opdrecord.read_attribute(:l_refraction_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_near_cyl, :class => "form-control form-control-custom dry-refraction l_refraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_cyl]", :value => opdrecord.read_attribute(:l_refraction_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_near_axis, :class => "form-control form-control-custom dry-refraction l_refraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_axis]", :value => opdrecord.read_attribute(:l_refraction_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_near_vision, :class => "form-control form-control-custom dry-refraction l_refraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_refraction_near_vision]", :value => opdrecord.read_attribute(:l_refraction_near_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_refraction_near_va_ph, :class => "form-control form-control-custom dry-refraction l_refraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_refraction_near_va_ph]", :value => opdrecord.read_attribute(:l_refraction_near_va_ph) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :l_refraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_refraction_comments]", :value => opdrecord.read_attribute(:l_refraction_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-xs-12 mt5 text-center">
        <div class="row mb20">
          <div class="col-md-4 col-xs-4">
            <span class="col-md-6 col-xs-6">Advice</span>
            <span><%= f.input :dry_refraction_advice, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["GP", "PGP", "Contact lens", "Consult Doctor"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white dry_refraction_advice form-control-custom form-control', :input_html => {:name => "opdrecord[dry_refraction_advice]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:dry_refraction_advice)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row duchrome-jcc-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 mt5">
        <div class="row mb20">
          <div class="col-md-4 col-xs-6">
            <div class="col-md-4 col-xs-4">
              <b>Duochrome:</b>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :duochrome, true, { id: 'duochrome_true', class: 'opd_record_duochrome' } %>
                <label for="duochrome_true">Yes</label>
              </div>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :duochrome, false, {id: 'duochrome_false', class: 'opd_record_duochrome' } %>
                <label for="duochrome_false">No</label>
              </div>
            </div>
          </div>
          <div class="col-md-4 col-xs-6">
            <div class="col-md-4 col-xs-4">
              <b>JCC:</b>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :jcc, true, { id: 'jcc_true', class: 'opd_record_jcc' } %>
                <label for="jcc_true">Yes</label>
              </div>
            </div>
            <div class="col-md-4 col-xs-4">
              <div class="rdio rdio-success">
                <%= f.radio_button :jcc, false, {id: 'jcc_false', class: 'opd_record_jcc' } %>
                <label for="jcc_false">No</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilation-check-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">Dilate Patient ?</b>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :dilate_patient, true, { id: 'dilate_patient_true', class: 'opd_record_dilate_patient' } %>
            <label for="dilate_patient_true" style="color:#fff;">Yes</label>
          </div>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :dilate_patient, false, {id: 'dilate_patient_false', class: 'opd_record_dilate_patient' } %>
            <label for="dilate_patient_false" style="color:#fff;">No</label>
          </div>
        </div>
        <div class="dilation-drop-box">
          <div class="col-md-2 col-xs-2">
            <b style="color:#fff;">Dilation Drop</b>
          </div>
          <div class="col-md-2 col-xs-3">
            <span><%= f.input :dilation_drop, collection: @patient.get_drugallergies_list_attribute("dilationdrops"), :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white dilation_drop form-control-custom form-control', :input_html => {:name => "opdrecord[dilation_drop]", :class => "form-control form-control-custom", style: 'width:100%;' }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:dilation_drop)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilated-auto-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-autorefraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_autorefraction_dilated1_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated1_axis).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_axis).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_axis).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED AUTO<div class="mb1"></div> REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED AUTO <div class="mb1"></div>REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Auto Refraction" id="fill-dilated-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=dilated_auto_refraction&type=dilated_auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersfordilatedautorefraction mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dilated
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated1_sph, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated1_cyl, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated1_axis, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated2_sph, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated2_cyl, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated2_cyl ref_field", :maxlength => 8,  :required => false, :name => "opdrecord[r_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated2_axis, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated3_sph, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated3_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated3_cyl, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated3_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated3_axis, :class => "form-control form-control-custom dilated-auto-refraction r_autorefraction_dilated3_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-autorefraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforautorefraction" id="l-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_autorefraction_dilated1_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated1_axis).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_axis).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_axis).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED AUTO <div class="mb1"></div>REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED AUTO <div class="mb1"></div>REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;display: none;" title="Fill Auto Refraction" id="fill-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 l-answersfordilatedautorefraction col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dilated
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated1_sph, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated1_cyl, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated1_axis, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_sph, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_cyl, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated2_cyl ref_field", :maxlength => 8,  :required => false, :name => "opdrecord[l_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_axis, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_sph, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated3_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_cyl, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated3_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_axis, :class => "form-control form-control-custom dilated-auto-refraction l_autorefraction_dilated3_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilated-retinoscopy-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-retinoscopy-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforretinoscopy" id="r-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_retinoscopy_dilated_sph).present? || opdrecord.read_attribute(:r_retinoscopy_dilated_cyl).present? || opdrecord.read_attribute(:r_retinoscopy_dilated_axis).present? || opdrecord.read_attribute(:r_retinoscopy_dilated_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Retinoscopy" id="fill-retinoscopy"><a href="/opd_records/ophthalmology_notes/fill_retinoscopy_data?flag=dilated_retinoscopy" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersfordilatedretinoscopy mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_dilated_sph, :class => "form-control form-control-custom dilated-retinoscopy r_retinoscopy_dilated_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_dilated_sph]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_dilated_cyl, :class => "form-control form-control-custom dilated-retinoscopy r_retinoscopy_dilated_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_dilated_cyl]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_dilated_axis, :class => "form-control form-control-custom dilated-retinoscopy r_retinoscopy_dilated_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_dilated_axis]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input :r_retinoscopy_dilated_reflex, wrapper_html: {:class => "form-control form-control-custom r_retinoscopy_dilated_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_dilated_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[r_retinoscopy_dilated_reflex]", :class => "form-control dilated-retinoscopy form-control-custom",:style=>"width: 100%; padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_dilated_reflex)) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                  <div class="input-group">
                    <%= f.input_field :r_retinoscopy_dilated_distance, :class => "form-control form-control-custom r_retinoscopy_dilated_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[r_retinoscopy_dilated_distance]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_distance), :style => "margin-left: -1%"%>
                    <span class="input-group-addon">Mt/cm</span>
                  </div>
                </span>
                <span class="col-md-3 col-xs-3">Drug Used:</span>
                <span class="col-md-3 col-xs-3"><%= f.input :r_retinoscopy_dilated_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_dilated_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[r_retinoscopy_dilated_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_dilated_drug_used)) %></span>
              </div>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :r_retinoscopy_dilated_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_retinoscopy_dilated_comments]", :value => opdrecord.read_attribute(:r_retinoscopy_dilated_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-retinoscopy-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforretinoscopy" id="l-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_retinoscopy_dilated_sph).present? || opdrecord.read_attribute(:l_retinoscopy_dilated_cyl).present? || opdrecord.read_attribute(:l_retinoscopy_dilated_axis).present? || opdrecord.read_attribute(:l_retinoscopy_dilated_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersfordilatedretinoscopy col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_dilated_sph, :class => "form-control form-control-custom dilated-retinoscopy l_retinoscopy_dilated_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_dilated_sph]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_dilated_cyl, :class => "form-control form-control-custom dilated-retinoscopy l_retinoscopy_dilated_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_dilated_cyl]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_dilated_axis, :class => "form-control form-control-custom dilated-retinoscopy l_retinoscopy_dilated_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_dilated_axis]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input :l_retinoscopy_dilated_reflex, wrapper_html: {:class => "form-control form-control-custom l_retinoscopy_dilated_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_dilated_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[l_retinoscopy_dilated_reflex]", :class => "form-control dilated-retinoscopy form-control-custom",:style=>"width: 100%; padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_dilated_reflex)) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                  <div class="input-group">
                    <%= f.input_field :l_retinoscopy_dilated_distance, :class => "form-control form-control-custom l_retinoscopy_dilated_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_retinoscopy_dilated_distance]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_distance), :style => "margin-left: -1%"%>
                    <span class="input-group-addon">Mt/cm</span>
                  </div>
                </span>
                <span class="col-md-3 col-xs-3">Drug Used:</span>
                <span class="col-md-3 col-xs-3"><%= f.input :l_retinoscopy_dilated_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_dilated_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[l_retinoscopy_dilated_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_dilated_drug_used)) %></span>
              </div>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :l_retinoscopy_dilated_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_retinoscopy_dilated_comments]", :value => opdrecord.read_attribute(:l_retinoscopy_dilated_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row dilated-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-dilatedrefraction-row">
          <div class="col-md-12 col-xs-12 r-dilatedrefraction-column questionsfordilatedrefraction" id="r-questionsfordilatedrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_dilatedrefraction_distant_sph).present? || opdrecord.read_attribute(:r_dilatedrefraction_distant_cyl).present? || opdrecord.read_attribute(:r_dilatedrefraction_distant_axis).present? || opdrecord.read_attribute(:r_dilatedrefraction_distant_vision).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_sph).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_cyl).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_axis).present? || opdrecord.read_attribute(:r_dilatedrefraction_near_vision).present? || opdrecord.read_attribute(:r_dilatedrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Dilated Refraction" id="fill-dilated-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=dilated_refraction&type=refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer" title="Copy Dilated Refraction to Glass Prescription" id="copy_dilatedref_to_gl_pres"><i class="fa fa-arrow-circle-down copyfieldsbutton"> copy</i></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersfordilatedrefraction mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_distant_ucva, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_ucva]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_distant_sph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_sph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_distant_cyl, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_cyl]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_distant_axis, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_axis]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_distant_vision, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_vision]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_distant_va_ph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_distant_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_add_ucva, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_ucva]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_add_sph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_sph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_add_cyl, :class => "form-control form-control-custom r_dilatedrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_cyl]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_add_axis, :class => "form-control form-control-custom r_dilatedrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_add_axis]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_add_vision, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_add_vision]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_add_va_ph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_add_va_ph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_add_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_near_ucva, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_ucva]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_near_sph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_sph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_near_cyl, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_cyl]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_near_axis, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_axis]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_near_vision, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_dilatedrefraction_near_vision]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_dilatedrefraction_near_va_ph, :class => "form-control form-control-custom dilated-refraction r_dilatedrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_dilatedrefraction_near_va_ph]", :value => opdrecord.read_attribute(:r_dilatedrefraction_near_va_ph) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :r_dilatedrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_dilatedrefraction_comments]", :value => opdrecord.read_attribute(:r_dilatedrefraction_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-dilatedrefraction-row">
          <div class="col-md-12 col-xs-12 l-dilatedrefraction-column questionsfordilatedrefraction" id="l-questionsfordilatedrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_dilatedrefraction_distant_sph).present? || opdrecord.read_attribute(:l_dilatedrefraction_distant_cyl).present? || opdrecord.read_attribute(:l_dilatedrefraction_distant_axis).present? || opdrecord.read_attribute(:l_dilatedrefraction_distant_vision).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_sph).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_cyl).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_axis).present? || opdrecord.read_attribute(:l_dilatedrefraction_near_vision).present? || opdrecord.read_attribute(:l_dilatedrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>DILATED REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersfordilatedrefraction col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_distant_ucva, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_ucva]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_distant_sph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_sph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_distant_cyl, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_cyl]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_distant_axis, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_axis]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_distant_vision, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_vision]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_distant_va_ph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_distant_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_add_ucva, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_ucva]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_add_sph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_sph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_add_cyl, :class => "form-control form-control-custom l_dilatedrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_cyl]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_add_axis, :class => "form-control form-control-custom l_dilatedrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_add_axis]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_add_vision, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_add_vision]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_add_va_ph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_add_va_ph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_add_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_near_ucva, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_ucva]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_near_sph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_sph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_near_cyl, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_cyl]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_near_axis, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_axis]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_near_vision, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_dilatedrefraction_near_vision]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_dilatedrefraction_near_va_ph, :class => "form-control form-control-custom dilated-refraction l_dilatedrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_dilatedrefraction_near_va_ph]", :value => opdrecord.read_attribute(:l_dilatedrefraction_near_va_ph) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :l_dilatedrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_dilatedrefraction_comments]", :value => opdrecord.read_attribute(:l_dilatedrefraction_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-xs-12 mt5 text-center">
        <div class="row mb20">
          <div class="col-md-4 col-xs-4">
            <span class="col-md-6 col-xs-6">Advice</span>
            <span><%= f.input :dilated_refraction_advice, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["GP", "PGP", "Contact lens", "Consult Doctor"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white dilated_refraction_advice form-control-custom form-control', :input_html => {:name => "opdrecord[dilated_refraction_advice]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:dilated_refraction_advice)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-check-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">PMT ?</b>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :perform_pmt, true, { id: 'perform_pmt_true', class: 'opd_record_perform_pmt' } %>
            <label for="perform_pmt_true" style="color:#fff;">Yes</label>
          </div>
        </div>
        <div class="col-md-2 col-xs-2">
          <div class="rdio rdio-success">
            <%= f.radio_button :perform_pmt, false, {id: 'perform_pmt_false', class: 'opd_record_perform_pmt' } %>
            <label for="perform_pmt_false" style="color:#fff;">No</label>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-auto-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-autorefraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_autorefraction_pmt_sph).present? || opdrecord.read_attribute(:r_autorefraction_pmt_cyl).present? || opdrecord.read_attribute(:r_autorefraction_pmt_axis).present? || opdrecord.read_attribute(:r_autorefraction_pmt1_sph).present? || opdrecord.read_attribute(:r_autorefraction_pmt1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_pmt1_axis).present? || opdrecord.read_attribute(:r_autorefraction_pmt2_sph).present? || opdrecord.read_attribute(:r_autorefraction_pmt2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_pmt2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Auto Refraction" id="fill-pmt-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=pmt_auto_refraction&type=pmt_auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforpmtautorefraction mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dry
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt_sph, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt_sph]", :value => opdrecord.read_attribute(:r_autorefraction_pmt_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt_cyl, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_pmt_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt_axis, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt_axis]", :value => opdrecord.read_attribute(:r_autorefraction_pmt_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt1_sph, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_pmt1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt1_cyl, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_pmt1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt1_axis, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_pmt1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt2_sph, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_pmt2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt2_cyl, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt2_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_pmt2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_pmt2_axis, :class => "form-control form-control-custom pmt-auto-refraction r_autorefraction_pmt2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_autorefraction_pmt2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_pmt2_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-autorefraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforautorefraction" id="l-questionsforautorefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_autorefraction_pmt_sph).present? || opdrecord.read_attribute(:l_autorefraction_pmt_cyl).present? || opdrecord.read_attribute(:l_autorefraction_pmt_axis).present? || opdrecord.read_attribute(:l_autorefraction_pmt1_sph).present? || opdrecord.read_attribute(:l_autorefraction_pmt1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_pmt1_axis).present? || opdrecord.read_attribute(:l_autorefraction_pmt2_sph).present? || opdrecord.read_attribute(:l_autorefraction_pmt2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_pmt2_axis).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT AUTO REFRACTION<div class="mb1"></div> (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpmtautorefraction col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dry
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt_sph, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt_sph]", :value => opdrecord.read_attribute(:l_autorefraction_pmt_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt_cyl, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_pmt_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt_axis, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt_axis]", :value => opdrecord.read_attribute(:l_autorefraction_pmt_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt1_sph, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt1_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt1_sph]", :value => opdrecord.read_attribute(:l_autorefraction_pmt1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt1_cyl, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt1_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt1_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_pmt1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt1_axis, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt1_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt1_axis]", :value => opdrecord.read_attribute(:l_autorefraction_pmt1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt2_sph, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt2_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt2_sph]", :value => opdrecord.read_attribute(:l_autorefraction_pmt2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt2_cyl, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt2_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt2_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_pmt2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_pmt2_axis, :class => "form-control form-control-custom pmt-auto-refraction l_autorefraction_pmt2_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_autorefraction_pmt2_axis]", :value => opdrecord.read_attribute(:l_autorefraction_pmt2_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-retinoscopy-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-retinoscopy-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforretinoscopy" id="r-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_retinoscopy_pmt_sph).present? || opdrecord.read_attribute(:r_retinoscopy_pmt_cyl).present? || opdrecord.read_attribute(:r_retinoscopy_pmt_axis).present? || opdrecord.read_attribute(:r_retinoscopy_pmt_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill Retinoscopy" id="fill-retinoscopy"><a href="/opd_records/ophthalmology_notes/fill_retinoscopy_data?flag=pmt_retinoscopy" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforpmtretinoscopy mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_pmt_sph, :class => "form-control form-control-custom pmt-retinoscopy r_retinoscopy_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_pmt_sph]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_pmt_cyl, :class => "form-control form-control-custom pmt-retinoscopy r_retinoscopy_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_pmt_cyl]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_retinoscopy_pmt_axis, :class => "form-control form-control-custom pmt-retinoscopy r_retinoscopy_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_retinoscopy_pmt_axis]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input :r_retinoscopy_pmt_reflex, wrapper_html: {:class => "form-control form-control-custom r_retinoscopy_pmt_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_pmt_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[r_retinoscopy_pmt_reflex]", :class => "form-control pmt-retinoscopy form-control-custom",:style=>"width: 100%; padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_pmt_reflex)) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                  <div class="input-group">
                    <%= f.input_field :r_retinoscopy_pmt_distance, :class => "form-control form-control-custom r_retinoscopy_pmt_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[r_retinoscopy_pmt_distance]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_distance), :style => "margin-left: -1%"%>
                    <span class="input-group-addon">Mt/cm</span>
                  </div>
                </span>
                <span class="col-md-3 col-xs-3">Drug Used:</span>
                <span class="col-md-3 col-xs-3"><%= f.input :r_retinoscopy_pmt_drug_used ,collection: [["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"]], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_retinoscopy_pmt_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[r_retinoscopy_pmt_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_retinoscopy_pmt_drug_used)) %></span>
              </div>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :r_retinoscopy_pmt_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_retinoscopy_pmt_comments]", :value => opdrecord.read_attribute(:r_retinoscopy_pmt_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-retinoscopy-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforretinoscopy" id="l-questionsforretinoscopy">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_retinoscopy_pmt_sph).present? || opdrecord.read_attribute(:l_retinoscopy_pmt_cyl).present? || opdrecord.read_attribute(:l_retinoscopy_pmt_axis).present? || opdrecord.read_attribute(:l_retinoscopy_pmt_reflex).present? %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT NET<div class="mb1"></div> RETINOSCOPY&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpmtretinoscopy col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="18%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="28%" style="padding-top:0px;padding-bottom:0px;">Reflex Type</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_pmt_sph, :class => "form-control form-control-custom pmt-retinoscopy l_retinoscopy_pmt_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_pmt_sph]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_pmt_cyl, :class => "form-control form-control-custom pmt-retinoscopy l_retinoscopy_pmt_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_pmt_cyl]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_retinoscopy_pmt_axis, :class => "form-control form-control-custom pmt-retinoscopy l_retinoscopy_pmt_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_retinoscopy_pmt_axis]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input :l_retinoscopy_pmt_reflex, wrapper_html: {:class => "form-control form-control-custom l_retinoscopy_pmt_reflex ref_field"},collection: ['Clear Reflex','Dull Reflex','Peripheral Reflex','White Reflex','Central Reflex'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_pmt_reflex form-control-custom form-control', :input_html => {:name => "opdrecord[l_retinoscopy_pmt_reflex]", :class => "form-control pmt-retinoscopy form-control-custom",:style=>"width: 100%;padding: 0px;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_pmt_reflex)) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="col-md-12 col-xs-12" style="margin-top: 2%;margin-bottom: 2%;width: 144%; margin-left: -37%;">
                <span class="col-md-6 col-xs-6">At Distance: &nbsp;&nbsp;&nbsp;
                  <div class="input-group">
                    <%= f.input_field :l_retinoscopy_pmt_distance, :class => "form-control form-control-custom l_retinoscopy_pmt_distance", :maxlength => 8, :size => 6, :required => false, :name => "opdrecord[l_retinoscopy_pmt_distance]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_distance), :style => "margin-left: -1%"%>
                    <span class="input-group-addon">Mt/cm</span>
                  </div>
                </span>
                <span class="col-md-3 col-xs-3">Drug Used:</span>
                <span class="col-md-3 col-xs-3"><%= f.input :l_retinoscopy_pmt_drug_used ,collection: ["Tropicamide_P", "Tropicamide", "Timolol", "Homide", "Latanoprost", "Brimonidine", "Travoprost", "Tobramycin", "Moxifloxacin", "Homatropine", "Pilocarpine", "Cyclopentolate", "Atropine", "Phenylephrine", "Tropicacyl", "Paracain", "Ciplox", "Tropicamide_P + Distilled Water", "Tropicamide_P + Lubrex"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_retinoscopy_pmt_drug_used form-control form-control-custom', :input_html => {:name => "opdrecord[l_retinoscopy_pmt_drug_used]", :class => "form-control form-control-custom",:style=>"width: 137%;margin-left: -37%" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_retinoscopy_pmt_drug_used)) %></span>
              </div>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :l_retinoscopy_pmt_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_retinoscopy_pmt_comments]", :value => opdrecord.read_attribute(:l_retinoscopy_pmt_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row pmt-refraction-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-6 col-xs-6">
        <div class="row r-refraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforpmtrefraction" id="r-questionsforpmtrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_pmtrefraction_distant_sph).present? || opdrecord.read_attribute(:r_pmtrefraction_distant_cyl).present? || opdrecord.read_attribute(:r_pmtrefraction_distant_axis).present? || opdrecord.read_attribute(:r_pmtrefraction_distant_vision).present? || opdrecord.read_attribute(:r_pmtrefraction_near_sph).present? || opdrecord.read_attribute(:r_pmtrefraction_near_cyl).present? || opdrecord.read_attribute(:r_pmtrefraction_near_axis).present? || opdrecord.read_attribute(:r_pmtrefraction_near_vision).present? || opdrecord.read_attribute(:r_pmtrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-xs-12" style="margin-top: 5px; cursor: pointer;" title="Fill PMT Refraction" id="fill-pmt-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=pmt_refraction&type=refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
            </div>
            <div class="col-md-9 col-xs-9 r-answersforpmtrefraction mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_distant_ucva, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_ucva]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_distant_sph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_sph]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_distant_cyl, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_cyl]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_distant_axis, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_distant_axis]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_distant_vision, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_distant_vision]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_distant_va_ph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:r_pmtrefraction_distant_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_add_ucva, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_ucva]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_add_sph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_sph]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_add_cyl, :class => "form-control form-control-custom r_pmtrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_cyl]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_add_axis, :class => "form-control form-control-custom r_pmtrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_add_axis]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_add_vision, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_add_vision]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_add_va_ph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_add_va_ph]", :value => opdrecord.read_attribute(:r_pmtrefraction_add_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_near_ucva, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_ucva]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_near_sph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_sph]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_near_cyl, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_cyl]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_near_axis, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_axis]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_near_vision, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_pmtrefraction_near_vision]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_pmtrefraction_near_va_ph, :class => "form-control form-control-custom pmt-refraction r_pmtrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_pmtrefraction_near_va_ph]", :value => opdrecord.read_attribute(:r_pmtrefraction_near_va_ph) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :r_pmtrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_pmtrefraction_comments]", :value => opdrecord.read_attribute(:r_pmtrefraction_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-refraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforpmtrefraction" id="l-questionsforpmtrefraction">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_pmtrefraction_distant_sph).present? || opdrecord.read_attribute(:l_pmtrefraction_distant_cyl).present? || opdrecord.read_attribute(:l_pmtrefraction_distant_axis).present? || opdrecord.read_attribute(:l_pmtrefraction_distant_vision).present? || opdrecord.read_attribute(:l_pmtrefraction_near_sph).present? || opdrecord.read_attribute(:l_pmtrefraction_near_cyl).present? || opdrecord.read_attribute(:l_pmtrefraction_near_axis).present? || opdrecord.read_attribute(:l_pmtrefraction_near_vision).present? || opdrecord.read_attribute(:l_pmtrefraction_comments).present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>PMT REFRACTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 l-answersforpmtrefraction col-xs-9 mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">UCVA</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                    <th width="14%" style="padding-top:0px;padding-bottom:0px;">VA(PH)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_distant_ucva, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_ucva]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_distant_sph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_sph]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_distant_cyl, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_cyl]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_distant_axis, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_distant_axis]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_distant_vision, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_vision  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_distant_vision]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_distant_va_ph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_distant_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_distant_va_ph]", :value => opdrecord.read_attribute(:l_pmtrefraction_distant_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_add_ucva, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_ucva]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_add_sph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_sph]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_add_cyl, :class => "form-control form-control-custom l_pmtrefraction_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_cyl]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_add_axis, :class => "form-control form-control-custom l_pmtrefraction_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_add_axis]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_add_vision, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_add_vision]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_add_va_ph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_add_va_ph  ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_add_va_ph]", :value => opdrecord.read_attribute(:l_pmtrefraction_add_va_ph) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_near_ucva, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_ucva ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_ucva]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_ucva) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_near_sph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_sph]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_near_cyl, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_cyl]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_near_axis, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_axis]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_near_vision, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_pmtrefraction_near_vision]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_vision) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_pmtrefraction_near_va_ph, :class => "form-control form-control-custom pmt-refraction l_pmtrefraction_near_va_ph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_pmtrefraction_near_va_ph]", :value => opdrecord.read_attribute(:l_pmtrefraction_near_va_ph) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="row mb5" style="width: 145%;margin-left: -39%;">
                <div class="col-md-3 col-xs-3 text-center">Comments: </div>
                <div class="col-md-9 col-xs-9">
                  <%= f.text_area :l_pmtrefraction_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_pmtrefraction_comments]", :value => opdrecord.read_attribute(:l_pmtrefraction_comments)} %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-xs-12 mt5 text-center">
        <div class="row mb20">
          <div class="col-md-4 col-xs-4">
            <span class="col-md-6 col-xs-6">Advice</span>
            <span><%= f.input :pmt_refraction_advice, wrapper_html: {:class => "col-md-6 col-xs-6"},collection: ["GP", "PGP", "Contact lens", "Consult Doctor"], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white pmt_refraction_advice form-control-custom form-control', :input_html => {:name => "opdrecord[pmt_refraction_advice]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:pmt_refraction_advice)) %></span>
          </div>
        </div>
      </div>
    </div>

    <div class="row glasses-prescription-label-block mb10">
      <div class="hr-line-border mb5"></div>
      <div class="col-md-12 col-xs-12" style="background: #1baf9a;padding-top: 10px;padding-bottom: 10px;">
        <div class="col-md-2 col-xs-2">
          <b style="color:#fff;">Glasses Prescription</b>
        </div>
      </div>
    </div>

    <div class="row glasses-prescription-block mb10">
      <% if @optical_stores_array.length > 1 %>
        <div class="row r-inventory-store">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="row mb5">
              <div class="col-md-4 col-sm-4 col-xs-4" style="text-align: center;"><strong>Store:</strong></div>
              <div class="col-md-5 col-sm-5 col-xs-5">
                <%= optical_store_dropdown(@opdrecord, @optical_stores_array)%>
              </div>
            <div class="col-md-3 col-sm-3 col-xs-3"></div>
            </div>
          </div>
        </div>
      <% end %>
      <div class="col-md-6 col-xs-6">
        <div class="row r-refraction-row">
          <div class="col-md-12 col-xs-12 r-refraction-column questionsforacceptance" id="r-questionsforacceptance">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:r_glassesprescriptions_distant_sph).present? || opdrecord.read_attribute(:r_glassesprescriptions_distant_cyl).present? || opdrecord.read_attribute(:r_glassesprescriptions_distant_axis).present? || opdrecord.read_attribute(:r_glassesprescriptions_distant_vision).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_sph).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_cyl).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_axis).present? || opdrecord.read_attribute(:r_glassesprescriptions_near_vision).present? || opdrecord.read_attribute(:'r_acceptance_typeoflens').present? || opdrecord.read_attribute(:r_acceptance_ipd).present? || opdrecord.read_attribute(:'r_acceptance_lensmaterial').present? || opdrecord.read_attribute(:'r_acceptance_lenstint').present? || opdrecord.read_attribute(:'r_acceptance_framematerial').present? || opdrecord.read_attribute(:'r_acceptance_comments').present?%>
                <div class="col-md-12 col-xs-12 mb5 badge badge-eye-template-labels data-filled"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 mb5 badge badge-eye-template-labels data-empty"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
              <% end %>
              <span class="row col-md-12 col-sm-12 mb5" style="margin-top: 5px; cursor: pointer;" title="Fill Glasses Prescription" id="fill-glasses-prescription"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=glasses_prescription" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton"> Fill</i></a></span>
              <%= f.input :advise_glasses, wrapper_html: { class: "col-md-10 col-sm-10 text-center" }, collection: [['Advise','advise']], as: :hg_checkbox, label: false, required: false, class: 'btn btn-xs btn-white advise_glasses', input_html: { name: "opdrecord[advise_glasses]" }, checked: opdrecord.checkboxes_checked(opdrecord.read_attribute(:advise_glasses) || "advise") %>
              <% show_add = opdrecord.try(:glassesprescriptions_show_add) || false %>
              <div class="col-md-12 col-sm-12 mb5">
                <div class="ckbox ckbox-primary show_add_ckbox">
                  <%= f.check_box :glassesprescriptions_show_add, { class: "glassesprescriptions_show_add", id: "glassesprescriptions_show_add",value: show_add }, "true", "false" %>
                  <label for="glassesprescriptions_show_add">Print Add</label>
                </div>
              </div>
            </div>
            <div class="col-md-9 col-xs-9 questionsforacceptance mainview_top_r">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_distant_sph, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_sph]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_distant_cyl, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_cyl]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_distant_axis, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_axis]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_distant_vision, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_glassesprescriptions_distant_vision]", :value => opdrecord.read_attribute(:r_glassesprescriptions_distant_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_add_sph, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_add_sph]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_add_cyl, :class => "form-control form-control-custom r_glassesprescriptions_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_add_cyl]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_add_axis, :class => "form-control form-control-custom r_glassesprescriptions_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_add_axis]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_add_vision, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_glassesprescriptions_add_vision]", :value => opdrecord.read_attribute(:r_glassesprescriptions_add_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_near_sph, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_near_sph]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_near_cyl, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_near_cyl]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_near_axis, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[r_glassesprescriptions_near_axis]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_glassesprescriptions_near_vision, :class => "form-control form-control-custom glasses-prescription r_glassesprescriptions_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[r_glassesprescriptions_near_vision]", :value => opdrecord.read_attribute(:r_glassesprescriptions_near_vision) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row l-refraction-row">
          <div class="col-md-12 col-xs-12 l-refraction-column questionsforacceptance" id="l-questionsforacceptance">
            <div class="col-md-3 col-xs-3" style="padding: 0px">
              <% if opdrecord.read_attribute(:l_glassesprescriptions_distant_sph).present? || opdrecord.read_attribute(:l_glassesprescriptions_distant_cyl).present? || opdrecord.read_attribute(:l_glassesprescriptions_distant_axis).present? || opdrecord.read_attribute(:l_glassesprescriptions_distant_vision).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_sph).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_cyl).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_axis).present? || opdrecord.read_attribute(:l_glassesprescriptions_near_vision).present? || opdrecord.read_attribute(:'l_acceptance_typeoflens').present? || opdrecord.read_attribute(:l_acceptance_ipd).present? || opdrecord.read_attribute(:'l_acceptance_lensmaterial').present? || opdrecord.read_attribute(:'l_acceptance_lenstint').present? || opdrecord.read_attribute(:'l_acceptance_framematerial').present? || opdrecord.read_attribute(:'l_acceptance_comments').present?%>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-filled"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% else %>
                <div class="col-md-12 col-xs-12 badge badge-eye-template-labels data-empty"><strong>GLASSES <div class="mb1"></div>PRESCRIPTION&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
              <% end %>
            </div>
            <div class="col-md-9 col-xs-9 questionsforacceptance mainview_top_l">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Vision</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Distant
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_distant_sph, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_sph calculate_sph_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_sph]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_distant_cyl, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_cyl calculate_cyl_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_cyl]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_distant_axis, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_axis calculate_axis_near_from_distant ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_axis]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_distant_vision, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_distant_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_glassesprescriptions_distant_vision]", :value => opdrecord.read_attribute(:l_glassesprescriptions_distant_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Add<sup class="suphash">#</sup>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_add_sph, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_add_sph calculate_near_from_add ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_add_sph]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_add_cyl, :class => "form-control form-control-custom l_glassesprescriptions_add_cyl ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_add_cyl]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_add_axis, :class => "form-control form-control-custom l_glassesprescriptions_add_axis ref_field",:readonly=> true, :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_add_axis]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_add_vision, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_add_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_glassesprescriptions_add_vision]", :value => opdrecord.read_attribute(:l_glassesprescriptions_add_vision) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Near
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_near_sph, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_sph ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_near_sph]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_near_cyl, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_cyl ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_near_cyl]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_near_axis, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_axis ref_field", :maxlength => 8, :required => false, :name => "opdrecord[l_glassesprescriptions_near_axis]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_axis) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_glassesprescriptions_near_vision, :class => "form-control form-control-custom glasses-prescription l_glassesprescriptions_near_vision ref_field", :maxlength => 12, :required => false, :name => "opdrecord[l_glassesprescriptions_near_vision]", :value => opdrecord.read_attribute(:l_glassesprescriptions_near_vision) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row glasses-details-block mb10">
      <div class="col-md-6 col-xs-6">
        <div class="row">
          <div class="col-md-12 r-answersforacceptance col-sm-12 mainview_top_r">
            <div class="row" style="margin: auto;margin-bottom: 15px;margin-right: 10px;">
              <span class="col-md-3 col-sm-3">Type of Lens</span>
              <span><%= f.input :r_acceptance_typeoflens, wrapper_html: {:class => "col-md-3 col-sm-3"},collection: ['Single Vision - Distant','Single Vision - Near','Bifocal','Progressive','Bifocal or Progressive','D Bifocal','KT Bifocal'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_typeoflens form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_typeoflens]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_typeoflens)) %></span>
              <span class="col-md-2 col-sm-2 col-md-offset-1 col-sm-offset-1">MPD</span>
              <div class="input-group col-md-3 col-sm-3"><%= f.input_field :r_acceptance_ipd, :class => "form-control form-control-custom r_acceptance_ipd", :required => false, :name => "opdrecord[r_acceptance_ipd]", :value => opdrecord.read_attribute(:r_acceptance_ipd), :style=>"width: 100%;" %><span class="input-group-addon">mm</span></div>
            </div>
            <div class="row" style="margin: auto;margin-bottom: 10px;">
              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Material</span>
                <span><%= f.input :r_acceptance_lensmaterial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Mineral','CR 39r','Patient Choice','Polycarbonate','Trivex','Organic','Evalution','MR7','MR10','MR8','Press on'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_lensmaterial form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_lensmaterial]", :class => "form-control-custom form-control",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_lensmaterial)) %></span>
              </span>
              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Tint</span>
                <span><%= f.input :r_acceptance_lenstint, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['White','Amber','B1','B2','B3','Brown','G-15','Gradient Tint','Patient Choice','Photogrey','Photobrown','SP1','SP11','SP2','Yellow','Grey','Clear','Grey/Brown','Gray C/Brown C','Grey A','Gray / Brown / Green','PGX / PBX','Non Tintable','Pink','Photo Fusion Grey','Phot Fusion Brown','Polarised Brown','Polarised Grey','Transition','A1','A2','Colabar C','Colabar D','Non Clear','Polarised','Anti-reflection Coating'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_lenstint form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_lenstint]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_lenstint)) %></span>
              </span>
              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Frame Material</span>
                <span><%= f.input :r_acceptance_framematerial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Patient Choice','Shell','Metal','Titanium','Shell(Paediatric Use)','Hypo-Allergenic Metal','Plastic','Carbon','Acetate','Aluminium','Optyl','Polyamide','Stainless Steel','TR-90','Ultem'], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_acceptance_framematerial form-control form-control-custom', :input_html => {:name => "opdrecord[r_acceptance_framematerial]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_acceptance_framematerial)) %></span>
              </span>
            </div>
            <div class="row mb5">
              <div class="col-md-3 col-sm-3 text-center">Advice: </div>
              <div class="col-md-9 col-sm-9">
                <%= f.text_area :r_acceptance_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[r_acceptance_comments]", :value => opdrecord.read_attribute(:r_acceptance_comments)} %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xs-6">
        <div class="row">
          <div class="col-md-12 l-answersforacceptance col-sm-12 mainview_top_l">
            <div class="row" style="margin: auto;margin-bottom: 15px;margin-right: 10px;">
              <span class="col-md-3 col-sm-3">Type of Lens</span>
              <span><%= f.input :l_acceptance_typeoflens, wrapper_html: {:class => "col-md-3 col-sm-3"},collection: ['Single Vision - Distant','Single Vision - Near','Bifocal','Progressive','Bifocal or Progressive','D Bifocal','KT Bifocal'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_typeoflens form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_typeoflens]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_typeoflens)) %></span>
              <span class="col-md-2 col-sm-2 col-md-offset-1 col-sm-offset-1">MPD</span>
              <div class="input-group col-md-3 col-sm-3"><%= f.input_field :l_acceptance_ipd, :class => "form-control form-control-custom l_acceptance_ipd", :required => false, :name => "opdrecord[l_acceptance_ipd]", :value => opdrecord.read_attribute(:l_acceptance_ipd), :style=>"width: 100%;" %><span class="input-group-addon">mm</span></div>
            </div>
            <div class="row" style="margin: auto;margin-bottom: 10px;">
              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Material</span>
                <span><%= f.input :l_acceptance_lensmaterial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Mineral','CR 39r','Patient Choice','Polycarbonate','Trivex','Organic','Evalution','MR7','MR10','MR8','Press on'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_lensmaterial form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_lensmaterial]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_lensmaterial)) %></span>
              </span>
              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Lens Tint</span>
                <span><%= f.input :l_acceptance_lenstint, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['White','Amber','B1','B2','B3','Brown','G-15','Gradient Tint','Patient Choice','Photogrey','Photobrown','SP1','SP11','SP2','Yellow','Grey','Clear','Grey/Brown','Gray C/Brown C','Grey A','Gray / Brown / Green','PGX / PBX','Non Tintable','Pink','Photo Fusion Grey','Phot Fusion Brown','Polarised Brown','Polarised Grey','Transition','A1','A2','Colabar C','Colabar D','Non Clear','Polarised','Anti-reflection Coating'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_lenstint form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_lenstint]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_lenstint)) %></span>
              </span>
              <span class="col-md-4 col-sm-4" style="padding: 0px;">
                <span class="col-md-5 col-sm-5">Frame Material</span>
                <span><%= f.input :l_acceptance_framematerial, wrapper_html: {:class => "col-md-7 col-sm-7"},collection: ['Patient Choice','Shell','Metal','Titanium','Shell(Paediatric Use)','Hypo-Allergenic Metal','Plastic','Carbon','Acetate','Aluminium','Optyl','Polyamide','Stainless Steel','TR-90','Ultem'],:include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_acceptance_framematerial form-control form-control-custom', :input_html => {:name => "opdrecord[l_acceptance_framematerial]", :class => "form-control form-control-custom",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_acceptance_framematerial)) %></span>
              </span>
            </div>
            <div class="row mb5">
              <div class="col-md-3 col-sm-3 text-center">Advice: </div>
              <div class="col-md-9 col-sm-9">
                <%= f.text_area :l_acceptance_comments, {:class => "form-control", :style => "width:95%;", :required => false, :name => "opdrecord[l_acceptance_comments]", :value => opdrecord.read_attribute(:l_acceptance_comments)} %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>

<style type="text/css">
  .copyfieldsbutton{
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .filldatabutton {
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .addfieldsbutton{
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .removepgpfieldsbutton{
    color: #fff;
    background-color: #d9534f;
    border-color: #d43f3a;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .lcopybutton,.lvacopybutton {
    color: #fff;
    cursor: pointer;
  }

  .rcopybutton,.rvacopybutton {
    color: #fff;
    cursor: pointer;
  }

  .form-control-custom {
    padding: 5px 10px;
  }

  .ref_field {
    width: 100% !important;
    text-align: center;
  }

  .suphash{
    color: orangered;
  }
</style>

<script type="text/javascript">
  $(".editshow_hide_auto_ref").on("click",function(){
    $("#fill-auto-refraction").css("display", "block")
  })

  $(".editshow_hide_dilated_auto_ref").on("click", function(){
    $("#fill-dilated-auto-refraction").css("display", "block")
  })

  $(".editshow_hide_pmt_auto_ref").on("click", function(){
    $("#fill-pmt-auto-refraction").css("display", "block")
  })

  $(".editshow_hide_pgp").on("click",function(){
    $('#fill-pgp').css("display", "block")
  })

  $(".editshow_hide_pgp2").on("click",function(){
    $('#fill-pgp2').css("display","block")
  })

  $(".editshow_hide_pgp3").on("click",function(){
    $('#fill-pgp3').css("display","block")
  })

  $(".editshow_hide_pgp_near").on("click",function(){
    $('#fill-pgp-near').css("display", "block")
  })

  $(".editshow_hide_dry_ref").on("click",function(){
    $('.show_hide_dry_ref_comment').css("display","block")
    $('#fill-dry-refraction').css("display","block")
  })

  $(".editshow_hide_dilated_ref").on("click",function(){
    $('.show_hide_dilated_ref_comment').css("display","block")
    $('#fill-dilated-refraction').css("display","block")
  })

  $(".editshow_hide_pmt_ref").on("click",function(){
    $('.show_hide_pmt_ref_comment').css("display","block")
    $('#fill-pmt-refraction').css("display","block")
  })

  $(".editshow_hide_glasses_prescription").on("click",function(){
    $('#fill-glasses-prescription').css("display","block")
  })


  if("<%= show_mimimized_view %>" == "true"){
    $('.rcopybutton').hide()
    $('.rvacopybutton').hide()
    $('.lcopybutton').hide()
    $('.lvacopybutton').hide()
  }
  $('.toggleshow').show()


  $(".opd_record_dilate_patient").on('click', function(e){
    let dilate = $(this).val()
    if(dilate == "true"){
      $(".dilation-drop-box").show();
      $(".dilated-auto-refraction-block").show();
      $(".dilated-retinoscopy-block").show();
      $(".dilated-refraction-block").show();
    } else {
      $(".dilation-drop-box").hide();
      $(".dilated-auto-refraction-block").hide();
      $(".dilated-retinoscopy-block").hide();
      $(".dilated-refraction-block").hide();
    }
  });

  $(".opd_record_dilate_patient:checked").trigger('click')

  $(".opd_record_perform_pmt").on('click', function(e){
    let dilate = $(this).val()
    if(dilate == "true"){
      $(".pmt-auto-refraction-block").show();
      $(".pmt-retinoscopy-block").show();
      $(".pmt-refraction-block").show();
    } else {
      $(".pmt-auto-refraction-block").hide();
      $(".pmt-retinoscopy-block").hide();
      $(".pmt-refraction-block").hide();
    }
  });

  $(".opd_record_perform_pmt:checked").trigger('click')

  $(".near-pgp-block").hide();
  $(".opd_record_pgp_near").on('click', function(e) {
    let pgp = $(this).val();
    if (pgp == "true") {
      $(".near-pgp-block").show();
    } else {
      $(".near-pgp-block").hide();
    }
  });

  $(".opd_record_pgp_near:checked").trigger('click');
</script>
