<% country_id = current_facility.country_id %>
<% if @new_opt_view == "optometrist" %>
  <div class="col-md-6 col-sm-6 r-eye-column" style="padding-left:1px; padding-right:1px;">
    <div class="panel panel-success r-eye-panel">
      <div class="panel-heading r-eye-panel-heading" style="padding: 2px;">
        <h4 class="panel-title r-eye-panel-title text-center" style="color:#FFF;">R / OD</h4>
      </div>
      <div class="row r-autorefraction-row">
        <div class="col-md-12 col-sm-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
          <div class="col-md-3 col-sm-3" style="padding: 0px">
            <% if opdrecord.read_attribute(:r_autorefraction_dry_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry_axis).present? || opdrecord.read_attribute(:r_autorefraction_dry1_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry1_axis).present? || opdrecord.read_attribute(:r_autorefraction_dry2_sph).present? || opdrecord.read_attribute(:r_autorefraction_dry2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dry2_axis).present? || opdrecord.read_attribute(:r_autorefraction_dilated1_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated1_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated1_axis).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_sph).present?|| opdrecord.read_attribute(:r_autorefraction_dilated2_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated2_axis).present?|| opdrecord.read_attribute(:r_autorefraction_dilated3_sph).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_cyl).present? || opdrecord.read_attribute(:r_autorefraction_dilated3_axis).present?%>
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-filled"><strong>AUTO REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
            <%else%>
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-empty"><strong>AUTO REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
            <% end %>
            <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer; display:none;" title="Fill Auto Refraction" id="fill-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton "> Fill</i></a></span>
          </div>
          <div class="col-md-9 col-sm-9 r-answersforautorefraction mainview_top_r">
            <div class="editview_toggle_r" style="display:none;">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dry
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry1_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry1_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry1_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry2_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry2_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dry2_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_axis) %>
                      </td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-bordered">
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                      Dilated
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                      <%= f.input_field :r_autorefraction_dilated1_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated1_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                      <%= f.input_field :r_autorefraction_dilated1_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated1_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated1_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated1_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;;"></td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated2_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated2_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated2_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated2_cyl ref_field", :maxlength => 6,  :required => false, :name => "opdrecord[r_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated2_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated2_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;"></td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated3_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated3_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated3_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated3_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_autorefraction_dilated3_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated3_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="showview_full_r row">
              <div class="col-md-8 col-sm-8">
                <table class="table table-bordered showview_toggle_autoref_r" style="margin-bottom:5px;font-size:11px;">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dry
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry_sph).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry_cyl).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry_axis).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry1_sph).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry1_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry1_cyl).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry1_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry1_axis).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry1_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry2_sph).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry2_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry2_cyl).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry2_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dry2_axis).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dry2_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <table class="table table-bordered showview_toggle_autoref_r" style="margin-bottom:5px;font-size:11px;">
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                        Dilated
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated1_sph).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated1_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated1_cyl).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated1_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated1_axis).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated1_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;"></td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated2_sph).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated2_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated2_cyl).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated2_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated2_axis).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated2_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;"></td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated3_sph).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated3_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated3_cyl).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated3_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:r_autorefraction_dilated3_axis).present? %>
                          <%= opdrecord.read_attribute(:r_autorefraction_dilated3_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-md-4 col-sm-4 text-right" style="margin-left:-20px;">
                <button class="editViewActivate_r btn btn-link btn-xs editshow_hide_auto_ref"></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row r-intraocularpressure-row">
        <div class="col-md-12 col-sm-12 r-intraocularpressure-column questionsforintraocular" id="r-questionsforintraocular">
          <div class="row">
            <div class="col-md-3 col-sm-3" style="padding: 0px">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>INTRAOCULAR<div class="mb1"></div>PRESSURE &nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton toggleshow" title="Copy Left to Right" aria-hidden="true"></i></div>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_right_iop_advised, {class: "right_iop_advised", :value => opdrecord.read_attribute(:no_right_iop_advised)}, "true", "false" %>
                  <label for="opdrecord_no_right_iop_advised">IOP not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="row right_iop_row">
            <div class="col-md-12 col-sm-12">
              <div class="col-md-3 col-sm-3 text-center" style="margin-top: 9px;">
                <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" class="clear_r_iop" title="Clear Right IOP" aria-hidden="true">clear</small>
              </div>
              <div class="col-md-4 col-sm-4">
                <div id="r-intraocularpressure-slider-range" class="r-intraocularpressure-slider-range slider-warning"></div>
              </div>
              <div class="col-md-3 col-sm-3">
                <%= f.input_field :r_intraocularpressure, :class => "form-control form-control-custom r_intraocularpressure", :maxlength => 4, :size => 4, :required => false, :name => "opdrecord[r_intraocularpressure]", :value => opdrecord.read_attribute(:r_intraocularpressure) %> mmHG
              </div>
              <div class="col-md-2 col-sm-2 row bootstrap-timepicker timepicker">
                <%= f.input_field :r_intraocularpressure_time, :class => "form-control form-control-custom r_intraocularpressure_time", :maxlength => 8, :size => 8, :required => false,:name => "opdrecord[r_intraocularpressure_time]", :value => opdrecord.read_attribute(:r_intraocularpressure_time) %>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 col-sm-12 answersquestionsforintraocular"></div>
        <div class="row mb5 right_iop_row">
          <div class="col-md-3 col-sm-3 text-center">Method</div>
          <div class="col-md-9 col-sm-9">
            <span><%= f.input :r_iop_method, wrapper_html: {:class => "col-md-4 col-sm-4 row"},collection: [ ['AT','AT'],['NCT','NCT'],['Schiotz','Schiotz'],['Perkins', 'Perkins'] ], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_iop_method form-control', :input_html => {:name => "opdrecord[r_iop_method]", :class => "form-control",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_iop_method)) %></span>
          </div>
        </div>
        <div class="row mb5">
          <div class="col-md-3 col-sm-3 text-center">Comment: </div>
          <div class="col-md-9 col-sm-9">
            <%= f.input_field :r_intraocularpressure_comments, {:class => "form-control", :style => "width:96%;", :required => false, :name => "opdrecord[r_intraocularpressure_comments]", :value => opdrecord.read_attribute(:r_intraocularpressure_comments)} %>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row r-keratometry-row">
        <div class="col-md-12 r-keratometry-column questionsforkeratometry col-sm-12 col-xs-12" id="r-questionsforkeratometry">
          <% if opdrecord.read_attribute(:r_keratometry_distant_kh).present? || opdrecord.read_attribute(:r_keratometry_distant_axis).present? || opdrecord.read_attribute(:r_keratometry_near_kv).present? || opdrecord.read_attribute(:r_keratometry_near_axis).present? %>
            <div class="col-md-3 col-sm-3" style="padding: 0px">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-filled"><strong>KERATOMETRY (K)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
            </div>
          <%else%>
            <div class="col-md-3 col-sm-3" style="padding: 0px">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-empty"><strong>KERATOMETRY (K)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
            </div>
          <% end %>
          <div class="col-md-9 r-answersforkeratometry mainview_top_r col-sm-9">
            <div class="editview_toggle_r" style="display:none;">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Kh
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_keratometry_distant_kh, :class => "form-control form-control-custom r_keratometry_distant_kh ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_distant_kh]", :value => opdrecord.read_attribute(:r_keratometry_distant_kh) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_keratometry_distant_axis, :class => "form-control form-control-custom r_keratometry_distant_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_distant_axis]", :value => opdrecord.read_attribute(:r_keratometry_distant_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Kv
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_keratometry_near_kv, :class => "form-control form-control-custom r_keratometry_near_kv ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_near_kv]", :value => opdrecord.read_attribute(:r_keratometry_near_kv) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :r_keratometry_near_axis, :class => "form-control form-control-custom r_keratometry_near_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_near_axis]", :value => opdrecord.read_attribute(:r_keratometry_near_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="showview_full_r row">
              <div class="col-md-8 col-sm-8">
                <table class="table table-bordered showview_toggle_ker_r" style="margin-bottom:5px;font-size:11px;">
                  <thead>
                    <tr class="success">
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding:0px">
                        Kh
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:r_keratometry_distant_kh).present? %>
                          <%= opdrecord.read_attribute(:r_keratometry_distant_kh) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:r_keratometry_distant_axis).present? %>
                          <%= opdrecord.read_attribute(:r_keratometry_distant_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding:0px">
                        Kv
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:r_keratometry_near_kv).present? %>
                          <%= opdrecord.read_attribute(:r_keratometry_near_kv) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:r_keratometry_near_axis).present? %>
                          <%= opdrecord.read_attribute(:r_keratometry_near_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-md-4 col-sm-4 text-right" style="margin-left:-20px;">
                <button class="editViewActivate_r btn btn-link btn-xs"></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- pgp -->
      <div class="hr-line-border mb5"></div>
      <%= render partial: "opd_records/ophthalmology_notes/opd_partials/r_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      <!-- pgp end -->

      <div class="hr-line-border mb5"></div>
    </div>
  </div>
  <div class="col-md-6 col-sm-6 l-eye-column" style="padding-left:1px; padding-right:1px;">
    <div class="panel panel-success l-eye-panel">
      <div class="panel-heading l-eye-panel-heading" style="padding: 2px;">
        <h4 class="panel-title l-eye-panel-title text-center" style="color:#FFF;">L / OS</h4>
      </div>
      <div class="row l-autorefraction-row">
        <div class="col-md-12 l-refraction-column questionsforautorefraction col-sm-12" id="l-questionsforautorefraction">
          <% if opdrecord.read_attribute(:l_autorefraction_dry_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry_axis).present? || opdrecord.read_attribute(:l_autorefraction_dry1_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry1_axis).present? ||  opdrecord.read_attribute(:l_autorefraction_dry2_sph).present? || opdrecord.read_attribute(:l_autorefraction_dry2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dry2_axis).present?  || opdrecord.read_attribute(:l_autorefraction_dilated1_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated1_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated1_axis).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_sph).present?|| opdrecord.read_attribute(:l_autorefraction_dilated2_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated2_axis).present?|| opdrecord.read_attribute(:l_autorefraction_dilated3_sph).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_cyl).present? || opdrecord.read_attribute(:l_autorefraction_dilated3_axis).present?%>
            <div class="col-md-3 col-sm-3" style="padding: 0px;">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-filled"><strong>AUTO REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
            </div>
          <%else%>
            <div class="col-md-3 col-sm-3" style="padding: 0px;">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-empty"><strong>AUTO REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
            </div>
          <% end %>
          <div class="col-md-9 l-answersforautorefraction mainview_top_l col-sm-9">
            <div class="editview_toggle_l" style="display:none;">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                    <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dry
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dry_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dry_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_axis ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dry_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_axis ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry1_axis) %>
                    </td>
                  </tr>

                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_axis ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry2_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-bordered">
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                      Dilated
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                      <%= f.input_field :l_autorefraction_dilated1_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated1_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                      <%= f.input_field :l_autorefraction_dilated1_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated1_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated1_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated1_axis ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;"></td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated2_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated2_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated2_axis ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated3_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated3_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated3_axis ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="showview_full_l row">
              <div class="col-md-8 col-sm-8">
                <table class="table table-bordered showview_toggle_autoref_l" style="margin-bottom:5px;font-size:11px">
                  <thead>
                    <tr class="success">
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                      <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        Dry
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry_sph).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry_cyl).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry_axis).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry1_sph).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry1_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry1_cyl).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry1_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry1_axis).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry1_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>

                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry2_sph).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry2_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry2_cyl).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry2_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dry2_axis).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dry2_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <table class="table table-bordered showview_toggle_autoref_l" style="margin-bottom:5px;font-size:11px;">
                  <tbody>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                        Dilated
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated1_sph).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated1_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated1_cyl).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated1_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated1_axis).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated1_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;"></td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated2_sph).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated2_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated2_cyl).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated2_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated2_axis).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated2_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;"></td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated3_sph).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated3_sph) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated3_cyl).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated3_cyl) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                        <% if opdrecord.read_attribute(:l_autorefraction_dilated3_axis).present? %>
                          <%= opdrecord.read_attribute(:l_autorefraction_dilated3_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-md-4 text-right" style="margin-left:-20px;">
                <button class="editViewActivate_l btn btn-link btn-xs"><i class="fa fa-edit"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row l-intraocularpressure-row">
        <div class="col-md-12 col-sm-12 l-intraocularpressure-column questionsforintraocular" id="l-questionsforintraocular">
          <div class="row">
            <div class="col-md-3 col-sm-3" style="padding: 0px">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>INTRAOCULAR<div class="mb1"></div>PRESSURE (IOP)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton toggleshow" title="Copy Right to Left" aria-hidden="true"></i></div>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_left_iop_advised, {class: "left_iop_advised", :value => opdrecord.read_attribute(:no_left_iop_advised)}, "true", "false" %>
                  <label for="opdrecord_no_left_iop_advised">IOP not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="row left_iop_row">
            <div class="col-md-12 col-sm-12">
              <div class="col-md-3 col-sm-3 text-center" style="margin-top: 9px;">
                <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" class="clear_l_iop" title="Clear Left IOP" aria-hidden="true">clear</small>
              </div>
              <div class="col-md-4 col-sm-4">
                <div id="l-intraocularpressure-slider-range" class="l-intraocularpressure-slider-range slider-warning"></div>
              </div>
              <div class="col-md-3 col-sm-3">
                <%= f.input_field :l_intraocularpressure, :class => "form-control form-control-custom l_intraocularpressure", :maxlength => 4, :size => 4, :required => false, :name => "opdrecord[l_intraocularpressure]", :value => opdrecord.read_attribute(:l_intraocularpressure) %> mmHG
              </div>
              <div class="col-md-2 col-sm-2 row bootstrap-timepicker timepicker">
                <%= f.input_field :l_intraocularpressure_time, :class => "form-control form-control-custom l_intraocularpressure_time",:maxlength => 8, :size => 8, :required => false, :name => "opdrecord[l_intraocularpressure_time]", :value => opdrecord.read_attribute(:l_intraocularpressure_time) %>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 answersquestionsforintraocular col-sm-12"></div>
        <div class="row mb5 left_iop_row">
          <div class="col-md-3 col-sm-3 text-center">Method</div>
          <div class="col-md-9 col-sm-9">
            <span><%= f.input :l_iop_method, wrapper_html: {:class => "col-md-4 col-sm-4 row"},collection: [ ['AT','AT'],['NCT','NCT'],['Schiotz','Schiotz'],['Perkins', 'Perkins'] ], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_iop_method form-control', :input_html => {:name => "opdrecord[l_iop_method]", :class => "form-control",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_iop_method)) %></span>
          </div>
        </div>
        <div class="row mb5">
          <div class="col-md-3 col-sm-3 text-center">Comments: </div>
          <div class="col-md-9 col-sm-9">
            <%= f.input_field :l_intraocularpressure_comments, {:class => "form-control", :style => "width:96%;", :required => false, :name => "opdrecord[l_intraocularpressure_comments]", :value => opdrecord.read_attribute(:l_intraocularpressure_comments)} %>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row l-keratometry-row">
        <div class="col-md-12 l-keratometry-column questionsforkeratometry col-sm-12" id="l-questionsforkeratometry">
          <% if opdrecord.read_attribute(:l_keratometry_distant_kh).present? || opdrecord.read_attribute(:l_keratometry_distant_axis).present? || opdrecord.read_attribute(:l_keratometry_near_kv).present? || opdrecord.read_attribute(:l_keratometry_near_axis).present? %>
            <div class="col-md-3 col-sm-3" style="padding: 0px;">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-filled"><strong>KERATOMETRY (K)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
            </div>
          <%else%>
            <div class="col-md-3 col-sm-3" style="padding: 0px;">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels data-empty"><strong>KERATOMETRY (K)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
            </div>
          <% end %>
          <div class="col-md-9 l-answersforkeratometry mainview_top_l col-sm-9">
            <div class="editview_toggle_l" style="display:none;">
              <table class="table table-bordered">
                <thead>
                  <tr class="success">
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                    <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Kh
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_keratometry_distant_kh, :class => "form-control form-control-custom l_keratometry_distant_kh ref_field", :maxlength => 6, :required => false, :name => "opdrecord[l_keratometry_distant_kh]", :value => opdrecord.read_attribute(:l_keratometry_distant_kh) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_keratometry_distant_axis, :class => "form-control form-control-custom l_keratometry_distant_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[l_keratometry_distant_axis]", :value => opdrecord.read_attribute(:l_keratometry_distant_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Kv
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_keratometry_near_kv, :class => "form-control form-control-custom l_keratometry_near_kv ref_field", :maxlength => 6, :required => false, :name => "opdrecord[l_keratometry_near_kv]", :value => opdrecord.read_attribute(:l_keratometry_near_kv) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_keratometry_near_axis, :class => "form-control form-control-custom l_keratometry_near_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[l_keratometry_near_axis]", :value => opdrecord.read_attribute(:l_keratometry_near_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="showview_full_l row">
              <div class="col-md-8 col-sm-8">
                <table class="table table-bordered showview_toggle_ker_l" style="margin-bottom:5px;font-size:11px;">
                  <thead>
                    <tr class="success">
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                      <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="padding:0px">
                        Kh
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:l_keratometry_distant_kh).present? %>
                          <%= opdrecord.read_attribute(:l_keratometry_distant_kh) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:l_keratometry_distant_axis).present? %>
                          <%= opdrecord.read_attribute(:l_keratometry_distant_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                    <tr>
                      <td style="padding:0px">
                        Kv
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:l_keratometry_near_kv).present? %>
                          <%= opdrecord.read_attribute(:l_keratometry_near_kv) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                      <td style="padding:0px">
                        <% if opdrecord.read_attribute(:l_keratometry_near_axis).present? %>
                          <%= opdrecord.read_attribute(:l_keratometry_near_axis) %>
                        <% else %>
                          --
                        <% end %>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-md-4 col-sm-4 text-right" style="margin-left:-20px;">
                <button class="editViewActivate_l btn btn-link btn-xs"><i class="fa fa-edit"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- pgp -->
      <div class="hr-line-border mb5"></div>
      <%= render partial: "opd_records/ophthalmology_notes/opd_partials/l_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      <!-- pgp end -->

      <div class="hr-line-border mb5"></div>
    </div>
  </div>
  <script>
    if($(".showview_toggle_autoref_r").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_autoref_r").closest('.showview_full_r').hide();
      $(".showview_toggle_autoref_r").closest('.mainview_top_r').children(".editview_toggle_r").css("display","block");
    }

    if($(".showview_toggle_autoref_l").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_autoref_l").closest('.showview_full_l').hide();
      $(".showview_toggle_autoref_l").closest('.mainview_top_l').children(".editview_toggle_l").css("display","block");
    }
    if ($(".showview_toggle_ker_r").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_ker_r").closest('.showview_full_r').hide();
      $(".showview_toggle_ker_r").closest('.mainview_top_r').children(".editview_toggle_r").css("display","block");
    }

    if ($(".showview_toggle_pgp_r").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_pgp_r").closest('.showview_full_r').hide();
      $(".showview_toggle_pgp_r").closest('.mainview_top_r').children(".editview_toggle_r").css("display","block");
    }

    if ($(".showview_toggle_pgp_r2").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_pgp_r2").closest('.showview_full_r2').hide();
      $(".showview_toggle_pgp_r2").closest('.mainview_top_r2').children(".editview_toggle_r2").css("display","block");
    }

    if ($(".showview_toggle_pgp_r3").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_pgp_r3").closest('.showview_full_r3').hide();
      $(".showview_toggle_pgp_r3").closest('.mainview_top_r3').children(".editview_toggle_r3").css("display","block");
    }

    if ($(".showview_toggle_ker_l").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_ker_l").closest('.showview_full_l').hide();
      $(".showview_toggle_ker_l").closest('.mainview_top_l').children(".editview_toggle_l").css("display","block");
    }

    if ($(".showview_toggle_pgp_l").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_pgp_l").closest('.showview_full_l').hide();
      $(".showview_toggle_pgp_l").closest('.mainview_top_l').children(".editview_toggle_l").css("display","block");
    }

    if ($(".showview_toggle_pgp_l2").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_pgp_l2").closest('.showview_full_l').hide();
      $(".showview_toggle_pgp_l2").closest('.mainview_top_l').children(".editview_toggle_l").css("display","block");
    }

    if ($(".showview_toggle_pgp_l3").html().split(" ").join("").trim().length === 0) {
      $(".showview_toggle_pgp_l3").closest('.showview_full_l').hide();
      $(".showview_toggle_pgp_l3").closest('.mainview_top_l').children(".editview_toggle_l").css("display","block");
    }

    $(".editshow_hide_auto_ref").on("click",function(){
      $('#fill-auto-refraction').css("display","block")
    })

    $(".editshow_hide_pgp").on("click",function(){
      $('#fill-pgp').css("display","block")
    })

    $(".editshow_hide_pgp2").on("click",function(){
      $('#fill-pgp2').css("display","block")
    })

    $(".editshow_hide_pgp3").on("click",function(){
      $('#fill-pgp3').css("display","block")
    })

    $('.rcopybutton').hide()
    $('.rvacopybutton').hide()
    $('.lcopybutton').hide()
    $('.lvacopybutton').hide()
    $('.toggleshow').show()
  </script>

<% else %>
  <div class="col-md-6 col-sm-6 r-eye-column" style="padding-left:1px; padding-right:1px;">
    <div class="panel panel-success r-eye-panel">
      <div class="panel-heading r-eye-panel-heading" style="padding: 2px;">
        <h4 class="panel-title r-eye-panel-title text-center" style="color:#FFF;">R / OD</h4>
      </div>
      <div class="row r-autorefraction-row">
        <div class="col-md-12 col-sm-12 r-refraction-column questionsforautorefraction" id="r-questionsforautorefraction">
          <div class="col-md-3 col-sm-3" style="padding: 0px">
            <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>AUTO REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
            <span class="row col-md-12 col-sm-12" style="margin-top: 5px; cursor: pointer; display:block;" title="Fill Auto Refraction" id="fill-auto-refraction"><a href="/opd_records/ophthalmology_notes/fill_refraction_data?flag=auto_refraction" data-remote="true"> <i class="fa fa-arrow-circle-right filldatabutton "> Fill</i></a></span>
          </div>
          <div class="col-md-9 col-sm-9 r-answersforautorefraction">
            <div class="editview_toggle_r">
              <table class="table table-bordered">
                <thead>
                <tr class="success">
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    Dry
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry_sph) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry_cyl) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry_axis) %>
                  </td>
                </tr>
                <tr>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry1_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_sph) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry1_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_cyl) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry1_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry1_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry1_axis) %>
                  </td>
                </tr>

                <tr>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry2_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_sph) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry2_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_cyl) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dry2_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dry2_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dry2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dry2_axis) %>
                  </td>
                </tr>
              </tbody>
            </table>
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                    Dilated
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated1_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated1_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_sph) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated1_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated1_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_cyl) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated1_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated1_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated1_axis) %>
                  </td>
                </tr>

                <tr>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated2_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated2_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_sph) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated2_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated2_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_cyl) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated2_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated2_axis ref_field", :maxlength => 6,  :required => false, :name => "opdrecord[r_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated2_axis) %>
                  </td>
                </tr>

                <tr>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated3_sph, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated3_sph ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_sph) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated3_cyl, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated3_cyl ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_cyl) %>
                  </td>
                  <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    <%= f.input_field :r_autorefraction_dilated3_axis, :class => "form-control form-control-custom auto-refraction r_autorefraction_dilated3_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:r_autorefraction_dilated3_axis) %>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row r-intraocularpressure-row">
        <div class="col-md-12 col-sm-12 r-intraocularpressure-column questionsforintraocular" id="r-questionsforintraocular">
          <div class="row">
            <div class="col-md-3 col-sm-3" style="padding: 0px">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>INTRAOCULAR<div class="mb1"></div>PRESSURE&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Left to Right" aria-hidden="true"></i></div>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_right_iop_advised, {class: "right_iop_advised", :value => opdrecord.read_attribute(:no_right_iop_advised)}, "true", "false" %>
                  <label for="opdrecord_no_right_iop_advised">IOP not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="row right_iop_row">
            <div class="col-md-12 col-sm-12">
              <div class="col-md-3 col-sm-3 text-center" style="margin-top: 9px;">
                <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" class="clear_r_iop" title="Clear Right IOP" aria-hidden="true">clear</small>
              </div>
              <div class="col-md-4 col-sm-4">
                <div id="r-intraocularpressure-slider-range" class="r-intraocularpressure-slider-range slider-warning"></div>
              </div>
              <div class="col-md-3 col-sm-3">
                <%= f.input_field :r_intraocularpressure, :class => "form-control form-control-custom r_intraocularpressure", :maxlength => 4, :size => 4, :required => false, :name => "opdrecord[r_intraocularpressure]", :value => opdrecord.read_attribute(:r_intraocularpressure) %> mmHG
              </div>
              <div class="col-md-2 col-sm-2 row bootstrap-timepicker timepicker">
                <%= f.input_field :r_intraocularpressure_time, :class => "form-control form-control-custom r_intraocularpressure_time", :maxlength => 8, :size => 8, :required => false, :name => "opdrecord[r_intraocularpressure_time]", :value => opdrecord.read_attribute(:r_intraocularpressure_time) %>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 col-sm-12 answersquestionsforintraocular"></div>
        <div class="row mb5 right_iop_row">
          <div class="col-md-3 col-sm-3 text-center">Method</div>
          <div class="col-md-9 col-sm-9">
            <span><%= f.input :r_iop_method, wrapper_html: {:class => "col-md-4 col-sm-4 row"},collection: [ ['AT','AT'],['NCT','NCT'],['Schiotz','Schiotz'],['Perkins', 'Perkins'] ], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white r_iop_method form-control', :input_html => {:name => "opdrecord[r_iop_method]", :class => "form-control",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:r_iop_method)) %></span>
          </div>
        </div>
        <div class="row mb5">
          <div class="col-md-3 col-sm-3 text-center">Comments: </div>
          <div class="col-md-9 col-sm-9">
            <%= f.input_field :r_intraocularpressure_comments, {:class => "form-control", :style => "width:96%;", :required => false, :name => "opdrecord[r_intraocularpressure_comments]", :value => opdrecord.read_attribute(:r_intraocularpressure_comments)} %>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row r-keratometry-row">
        <div class="col-md-12 col-sm-12 r-keratometry-column questionsforkeratometry" id="r-questionsforkeratometry">
          <div class="col-md-3 col-sm-3" style="padding: 0px">
            <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>KERATOMETRY (K)&nbsp;&nbsp;</strong><i class="fa fa-arrow-right rcopybutton" title="Copy Left to Right" aria-hidden="true"></i>
            </div>
          </div>
          <div class="col-md-9 col-sm-9 r-answersforkeratometry">
            <table class="table table-bordered">
              <thead>
              <tr class="success">
                <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  Kh
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :r_keratometry_distant_kh, :class => "form-control form-control-custom r_keratometry_distant_kh ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_distant_kh]", :value => opdrecord.read_attribute(:r_keratometry_distant_kh) %>
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :r_keratometry_distant_axis, :class => "form-control form-control-custom r_keratometry_distant_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_distant_axis]", :value => opdrecord.read_attribute(:r_keratometry_distant_axis) %>
                </td>
              </tr>
              <tr>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  Kv
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :r_keratometry_near_kv, :class => "form-control form-control-custom r_keratometry_near_kv ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_near_kv]", :value => opdrecord.read_attribute(:r_keratometry_near_kv) %>
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :r_keratometry_near_axis, :class => "form-control form-control-custom r_keratometry_near_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[r_keratometry_near_axis]", :value => opdrecord.read_attribute(:r_keratometry_near_axis) %>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- pgp -->
      <div class="hr-line-border mb5"></div>
      <%= render partial: "opd_records/ophthalmology_notes/opd_partials/r_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      <!-- pgp end -->

      <div class="hr-line-border mb5"></div>
    </div>
  </div>
  <div class="col-md-6 col-sm-6 l-eye-column" style="padding-left:1px; padding-right:1px;">
    <div class="panel panel-success l-eye-panel">
      <div class="panel-heading l-eye-panel-heading" style="padding: 2px;">
        <h4 class="panel-title l-eye-panel-title text-center" style="color:#FFF;">L / OS</h4>
      </div>
      <div class="row l-autorefraction-row">
        <div class="col-md-12 col-sm-12 l-refraction-column questionsforautorefraction" id="l-questionsforautorefraction">
          <div class="col-md-3 col-sm-3" style="padding: 0px;">
            <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>AUTO REFRACTION (ARx)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
          </div>
          <div class="col-md-9 col-sm-9 l-answersforautorefraction">
            <div class="editview_toggle_l">
              <table class="table table-bordered">
                <thead>
                <tr class="success">
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;"></th>
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;">Sph</th>
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;">Cyl</th>
                  <th width="25%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
                </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      Dry
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dry_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dry_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dry_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dry_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dry_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[l_autorefraction_dry_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dry_axis) %>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry1_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry1_axis ref_field', maxlength: 6, required: false, name: 'opdrecord[l_autorefraction_dry1_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry1_axis) %>
                    </td>
                  </tr>

                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_sph, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_sph ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_sph]', value: opdrecord.read_attribute(:l_autorefraction_dry2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_cyl, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_cyl ref_field', maxlength: 6, size: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_cyl]', value: opdrecord.read_attribute(:l_autorefraction_dry2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dry2_axis, class: 'form-control form-control-custom auto-refraction l_autorefraction_dry2_axis ref_field', maxlength: 6, required: false, name: 'opdrecord[l_autorefraction_dry2_axis]', value: opdrecord.read_attribute(:l_autorefraction_dry2_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-bordered">
                <tbody>

                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;width: 25%;">
                      Dilated
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated1_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated1_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated1_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated1_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated1_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated1_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated1_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated1_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated1_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated1_axis) %>
                    </td>
                  </tr>

                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated2_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated2_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated2_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated2_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated2_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated2_axis ref_field", :maxlength => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated2_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated2_axis) %>
                    </td>
                  </tr>

                  <tr>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_sph, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated3_sph ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated3_sph]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_sph) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_cyl, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated3_cyl ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated3_cyl]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_cyl) %>
                    </td>
                    <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                      <%= f.input_field :l_autorefraction_dilated3_axis, :class => "form-control form-control-custom auto-refraction l_autorefraction_dilated3_axis ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_autorefraction_dilated3_axis]", :value => opdrecord.read_attribute(:l_autorefraction_dilated3_axis) %>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row l-intraocularpressure-row">
        <div class="col-md-12 col-sm-12 l-intraocularpressure-column questionsforintraocular" id="l-questionsforintraocular">
          <div class="row">
            <div class="col-md-3 col-sm-3" style="padding: 0px">
              <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>INTRAOCULAR<div class="mb1"></div>PRESSURE (IOP)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton toggleshow" title="Copy Right to Left" aria-hidden="true"></i></div>
            </div>
            <% if @organisations_setting.mandatory_opd_templates %>
              <div class="col-md-6 col-sm-6" style="margin-left: 8px; margin-top: -1px;">
                <div class="ckbox ckbox-success">
                  <%= f.check_box :no_left_iop_advised, {class: "left_iop_advised", :value => opdrecord.read_attribute(:no_left_iop_advised)}, "true", "false" %>
                  <label for="opdrecord_no_left_iop_advised">IOP not examined</label>
                </div>
              </div>
            <% end %>
          </div>
          <div class="row left_iop_row">
            <div class="col-md-12 col-sm-12">
              <div class="col-md-3 col-sm-3 text-center" style="margin-top: 9px;">
                <small style="cursor: pointer;color: rgb(66, 139, 202);display: inline;border: 1px solid rgb(66, 139, 202);border-radius: 2px;" class="clear_l_iop" title="Clear Left IOP" aria-hidden="true">clear</small>
              </div>
              <div class="col-md-4 col-sm-4">
                <div id="l-intraocularpressure-slider-range" class="l-intraocularpressure-slider-range slider-warning"></div>
              </div>
              <div class="col-md-3 col-sm-3">
                <%= f.input_field :l_intraocularpressure, :class => "form-control form-control-custom l_intraocularpressure", :maxlength => 4, :size => 4, :required => false, :name => "opdrecord[l_intraocularpressure]", :value => opdrecord.read_attribute(:l_intraocularpressure) %> mmHG
              </div>
              <div class="col-md-2 col-sm-2 row bootstrap-timepicker timepicker">
                <%= f.input_field :l_intraocularpressure_time, :class => "form-control form-control-custom l_intraocularpressure_time",:maxlength => 8, :size => 8, :required => false, :name => "opdrecord[l_intraocularpressure_time]", :value => opdrecord.read_attribute(:l_intraocularpressure_time) %>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 answersquestionsforintraocular col-sm-12"></div>
        <div class="row mb5 left_iop_row">
          <div class="col-md-3 col-sm-3 text-center">Method</div>
          <div class="col-md-9 col-sm-9">
            <span><%= f.input :l_iop_method, wrapper_html: {:class => "col-md-4 col-sm-4 row"},collection: [ ['AT','AT'],['NCT','NCT'],['Schiotz','Schiotz'],['Perkins', 'Perkins'] ], :include_blank => 'Select', :label => false, :required => false, :class => 'btn btn-xs btn-white l_iop_method form-control', :input_html => {:name => "opdrecord[l_iop_method]", :class => "form-control",:style=>"width: 100%;" }, :checked => opdrecord.checkboxes_checked(opdrecord.read_attribute(:l_iop_method)) %></span>
          </div>
        </div>
        <div class="row mb5">
          <div class="col-md-3 col-sm-3 text-center">Comments: </div>
          <div class="col-md-9 col-sm-9">
            <%= f.input_field :l_intraocularpressure_comments, {:class => "form-control", :style => "width:96%;", :required => false, :name => "opdrecord[l_intraocularpressure_comments]", :value => opdrecord.read_attribute(:l_intraocularpressure_comments)} %>
          </div>
        </div>
      </div>

      <div class="hr-line-border mb5"></div>
      <div class="row l-keratometry-row">
        <div class="col-md-12 col-sm-12 l-keratometry-column questionsforkeratometry" id="l-questionsforkeratometry">
          <div class="col-md-3 col-sm-3" style="padding: 0px;">
            <div class="col-md-12 col-sm-12 badge badge-eye-template-labels"><strong>KERATOMETRY (K)&nbsp;&nbsp;</strong><i class="fa fa-arrow-left lcopybutton" title="Copy Right to Left" aria-hidden="true"></i></div>
          </div>
          <div class="col-md-9 col-sm-9 l-answersforkeratometry">
            <table class="table table-bordered">
              <thead>
              <tr class="success">
                <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                <th width="20%" style="padding-top:0px;padding-bottom:0px;"></th>
                <th width="20%" style="padding-top:0px;padding-bottom:0px;">Axis</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  Kh
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :l_keratometry_distant_kh, :class => "form-control form-control-custom l_keratometry_distant_kh ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_keratometry_distant_kh]", :value => opdrecord.read_attribute(:l_keratometry_distant_kh) %>
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :l_keratometry_distant_axis, :class => "form-control form-control-custom l_keratometry_distant_axis ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_keratometry_distant_axis]", :value => opdrecord.read_attribute(:l_keratometry_distant_axis) %>
                </td>
              </tr>
              <tr>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  Kv
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :l_keratometry_near_kv, :class => "form-control form-control-custom l_keratometry_near_kv ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_keratometry_near_kv]", :value => opdrecord.read_attribute(:l_keratometry_near_kv) %>
                </td>
                <td style="padding-left:1px;padding-top:1px;padding-bottom:1px;padding:0px;">
                  <%= f.input_field :l_keratometry_near_axis, :class => "form-control form-control-custom l_keratometry_near_axis ref_field", :maxlength => 6, :size => 6, :required => false, :name => "opdrecord[l_keratometry_near_axis]", :value => opdrecord.read_attribute(:l_keratometry_near_axis) %>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- pgp -->
      <div class="hr-line-border mb5"></div>
      <%= render partial: "opd_records/ophthalmology_notes/opd_partials/l_eye_pgp_optometrist_examination.html.erb", locals: { f: f, opdrecord: @opdrecord } %>
      <!-- pgp end -->

      <div class="hr-line-border mb5"></div>
    </div>
  </div>
<% end %>

<script type="text/javascript">
  datepicker_options = {
    minDate: 0,
    dateFormat: "dd/mm/yy"
  }
  $(".datepicker_revisit").datepicker(datepicker_options);

  <% if opdrecord.read_attribute(:r_revisit_date).present? %>
    $('#clear_revisit_date').fadeIn()
  <% end %>

  $('.datepicker_revisit').on('change', function(){
    $('#clear_revisit_date').fadeIn()
  })

  $('#clear_revisit_date').on('click', function(){
    $(this).fadeOut();
    $('.datepicker_revisit').attr("value", "")
  });
</script>

<style>
  .datepicker_revisit {
    background-color: #fff !important;
    cursor: pointer !important;
  }
  .visualacuity_pinhole .btn-group{
    margin: 0px;
  }

  .copyfieldsbutton{
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .filldatabutton{
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .addfieldsbutton{
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .removepgpfieldsbutton{
    color: #fff;
    background-color: #d9534f;
    border-color: #d43f3a;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .fill_inter_glass_btn{
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    padding: 2px 8px;
    border-radius: 3px;
    margin-left: 35px;
  }

  .notice_add_ref{
    color: #fff;
    background-color: #428bca;
    border-color: #357ebd;
    border-radius: 3px;
    margin-left: initial;
    font-size: 10px
  }

  .form-control-custom{
    padding: 5px 10px;
  }

  .suphash{
    color: orangered
  }

  .data-filled{
    background: #1A4E7B;
  }

  .data-empty{
    background: #1A4E7B;
    opacity:0.5;
  }

  .ref_field{
    width: 100% !important;
    text-align: center;
  }

  .show_add_ckbox{
    display: inline-flex;
    margin-top: 10px;
    margin-left: 10px;
  }

  .lcopybutton, .lvacopybutton {
    color: #fff;
    cursor: pointer;
  }

  .rcopybutton, .rvacopybutton {
    color: #fff;
    cursor: pointer;
  }

  @media screen and (min-width: 1439px) {
    .r_dilated_retinoscopy_top_va1 {
      margin-left: 36%;
    }
    .r_dilated_retinoscopy_left_ha1 {
      margin-top: 13%;
      margin-left: 46%
    }
    .r_dilated_retinoscopy_right_ha2 {
      margin-top: 13%;
      margin-left: -84%
    }
    .r_dilated_retinoscopy_bottom_va2 {
      margin-left: 36%;
      margin-top: -2%
    }
  }

  @media screen and (max-width: 1438px)  {
      .r_dilated_retinoscopy_top_va1 {
        margin-left: 37%;
      }
      .r_dilated_retinoscopy_left_ha1 {
          margin-top: 13%;
          margin-left: 40%
      }
      .r_dilated_retinoscopy_right_ha2 {
          margin-top: 13%;
          margin-left: -84%
      }
      .r_dilated_retinoscopy_bottom_va2 {
        margin-left: 37%;
        margin-top: -2%
      }
  }
  .advise_glasses{
    padding: 0px 10px;
    margin-left: 25px !important;
  }
  .r-intraocularpressure-row .dropdown-menu {
    position: absolute;
    left: -70px;
    width: 170px;
  }
  .r-intraocularpressure-row .bootstrap-timepicker-widget.dropdown-menu:before {
    left: 100px;
    position: absolute;
  }
  .r-intraocularpressure-row .bootstrap-timepicker-widget.dropdown-menu:after {
    left: 100px;
    position: absolute;
  }
  .bootstrap-timepicker-hour, .bootstrap-timepicker-minute, .bootstrap-timepicker-meridian {
    width: 100% !important;
  }
  .r_intraocularpressure_time{
    background-color: #fff !important;
    cursor: pointer !important;
  }
  .bootstrap-timepicker-hour, .bootstrap-timepicker-minute, .bootstrap-timepicker-meridian {
    width: 100% !important;
  }
  .l-iop-row .dropdown-menu {
    position: absolute;
    left: -70px;
    width: 170px;
  }
  .l-iop-row .bootstrap-timepicker-widget.dropdown-menu:before {
    position: absolute;
    left: -70px;
    width: 170px;
  }
  .l-iop-row .bootstrap-timepicker-widget.dropdown-menu:after {
    position: absolute;
    left: -70px;
    width: 170px;
  }
  .l_intraocularpressure_time_a{
    background-color: #fff !important;
    cursor: pointer !important;
  }
  .panel-body{
    padding: 5px;
  }
  .panel-heading.note-toolbar {
    padding: 0px 0 3px 1px;
    margin: 0;
  }
</style>
