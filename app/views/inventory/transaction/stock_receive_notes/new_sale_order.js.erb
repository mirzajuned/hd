var counter = $('#tbody_medication tr').length
$(".medication-table-body-added").html("<%= escape_javascript(render 'fill_sale_order_data.html.erb') %>")
// if (counter == 0) {
//   $(".medication-table-body-added").html("<%= escape_javascript(render 'fill_sale_order_data.html.erb') %>")
// } else {
//   $('#medicationTable > tbody:last').append("<%= escape_javascript(render 'fill_sale_order_data.html.erb') %>")
// }

function validate_create_button() {
  let row_count = $('#tbody_medication tr').length
  if (row_count > 0) {
    $('.validate-create-button').attr('disabled', false)
  } else {
    $('.validate-create-button').attr('disabled', true)
  }
}

$('.delete_empty_item').on('click', function(){
  $(this).closest('.treatmentmedications').remove()
  var id = $(this).val()
  $('#'+id).css('background-color', '')
  $('#'+id).removeClass('disabled_row')
  validate_create_button()
})

validate_create_button()
<%= render 'new.js' %>
<%= render 'form.js' %>
