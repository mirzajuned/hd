$("#search-item-variants").on('keyup', function(){
  variant_list = $(".main-rol-rule-list");
  search = $(this).val().toUpperCase().trim();
  count = 0
  for (var i = variant_list.length - 1; i >= 0; i--) {
    variant_name = $(variant_list[i]).find(".variant_name")
    if($(variant_name).html().toUpperCase().indexOf(search) > -1) {
      $(variant_list[i]).css("display", "");
      count += 1
    } else {
      $(variant_list[i]).css("display", "none");
    }
  }
  if (count > 0){
    $('input[id="save-multiple-rol-rules"]').show()
  } else {
    $('input[id="save-multiple-rol-rules"]').hide()
  }
})

function change_is_update(_this){
  $(_this).closest(".inventory-rol-rule-details").find(".is_updated").val("true")
}

$(".rol-rule-body").on("keyup", ".item_rol_value", function(){
  change_is_update(this)
})
$(".rol-rule-body").on("keyup", ".item_max_value", function(){
  change_is_update(this)
})
$(".rol-rule-body").on("keyup", ".item_min_value", function(){
  change_is_update(this)
})

$("#new-rol-rules-form").css('height', $(window).height() - 100 + "px").css('overflow', 'scroll')

$(window).resize(function() {
  $("#new-rol-rules-form").css('height', $(window).height() - 100 + "px").css('overflow', 'scroll')
})
