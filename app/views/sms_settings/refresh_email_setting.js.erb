$("#email-setting-modal").modal("hide")
$(".email_settings_refresh").html("<%= escape_javascript(render 'email_settings_partial') %>")

var togglebuttonactive = {
  on: true,
};
var togglebuttoninactive = {
  off: true,
}

$('.followup_email_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.birthday_email_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.appointment_email_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.campaign_email_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.visit_email_active_inactive').on('click', function() {
  $(this).confirmModal()
});
$('.long_overdue_email_active_inactive').on('click', function() {
  $(this).confirmModal()
});
//followup toggle
$('#followup_email_active').toggles(togglebuttonactive);
$('#followup_email_inactive').toggles(togglebuttoninactive);
$('.followup_email_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var followup_email_active_inactive = 'true'
  } else {
    var followup_email_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/followup_email_setting_save',
    data: {followup_email_active_inactive: followup_email_active_inactive, remote: "true" },
  });
});

//birthday toggle
$('#birthday_email_active').toggles(togglebuttonactive);
$('#birthday_email_inactive').toggles(togglebuttoninactive);
$('.birthday_email_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var birthday_email_active_inactive = 'true'
  } else {
    var birthday_email_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/birthday_email_setting_save',
    data: {birthday_email_active_inactive: birthday_email_active_inactive, remote: "true" },
  });
});

//appointment toggle
$('#appointment_email_active').toggles(togglebuttonactive);
$('#appointment_email_inactive').toggles(togglebuttoninactive);
$('.appointment_email_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var appointment_email_active_inactive = 'true'
  } else {
    var appointment_email_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/appointment_email_setting_save',
    data: {appointment_email_active_inactive: appointment_email_active_inactive, remote: "true" },
  });
});

//campaign toggle
$('#campaign_email_active').toggles(togglebuttonactive);
$('#campaign_email_inactive').toggles(togglebuttoninactive);
$('.campaign_email_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var campaign_email_active_inactive = 'true'
  } else {
    var campaign_email_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/campaign_email_setting_save',
    data: {campaign_email_active_inactive: campaign_email_active_inactive, remote: "true" },
  });
});
//visit email toggle
$('#visit_email_active').toggles(togglebuttonactive);
$('#visit_email_inactive').toggles(togglebuttoninactive);
$('.visit_email_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var visit_email_active_inactive = 'true'
  } else {
    var visit_email_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/visit_email_setting_save',
    data: {visit_email_active_inactive: visit_email_active_inactive, remote: "true" },
  });
});
//long_overdue email toggle
$('#long_overdue_email_active').toggles(togglebuttonactive);
$('#long_overdue_email_inactive').toggles(togglebuttoninactive);
$('.long_overdue_email_active_inactive').on('toggle', function(e, active) {
  if (active) {
    var long_overdue_email_active_inactive = 'true'
  } else {
    var long_overdue_email_active_inactive = 'false'
  }
  jQuery.ajax({
    type: "GET",
    url: '/organisations/long_overdue_email_setting_save',
    data: {long_overdue_email_active_inactive: long_overdue_email_active_inactive, remote: "true" },
  });
});