var active_tab = '<%= @active_tab %>';
if(active_tab == 'ongoing') {
  $("#"+active_tab).html("<%= escape_javascript(render partial: 'view.html.erb', locals: {tabname: @active_tab, offer_managers: @ongoing_offer_managers}) %>");
} else if(active_tab == 'upcoming') {
  $("#"+active_tab).html("<%= escape_javascript(render partial: 'view.html.erb', locals: {tabname: @active_tab, offer_managers: @upcoming_offer_managers}) %>");
} else if(active_tab == 'inactive') {
  $("#"+active_tab).html("<%= escape_javascript(render partial: 'view.html.erb', locals: {tabname: @active_tab, offer_managers: @inactive_offer_managers}) %>");
} else if(active_tab == 'expired') {
  $("#"+active_tab).html("<%= escape_javascript(render partial: 'view.html.erb', locals: {tabname: @active_tab, offer_managers: @expired_offer_managers}) %>");
}

<% if @ongoing_offer_managers.count > 0 %>
  if ( ! $.fn.DataTable.isDataTable( '#ongoing-offers' ) ) {
    $('#ongoing-offers').DataTable({
      sDom: "<'top'p>",
      ordering: false,
      displayStart: 0,
      displayLength: 10,
    });
  }
<% end %>
<% if @upcoming_offer_managers.count > 0 %>
  if ( ! $.fn.DataTable.isDataTable( '#upcoming-offers' ) ) {
    $('#upcoming-offers').DataTable({
      sDom: "<'top'p>",
      ordering: false,
      displayStart: 0,
      displayLength: 10,
    });
  }
<% end %>
<% if @inactive_offer_managers.count > 0 %>
  if ( ! $.fn.DataTable.isDataTable( '#inactive-offers' ) ) {
    $('#inactive-offers').DataTable({
      sDom: "<'top'p>",
      ordering: false,
      displayStart: 0,
      displayLength: 10,
    });
  }
<% end %>
<% if @expired_offer_managers.count > 0 %>
  if ( ! $.fn.DataTable.isDataTable( '#expired-offers' ) ) {
    $('#expired-offers').DataTable({
      sDom: "<'top'p>",
      ordering: false,
      displayStart: 0,
      displayLength: 10,
    });
  }
<% end %>
