<div class="tab-pane active" id="diagnosis">

  <div class="row">

    <div class="col-md-8">

      <%= render partial: "templates/common/soap_assessment_tab_diagnosis_table_list" , locals: { f: f, diagnosislist: @opdrecord.diagnosislist, opdrecord: @opdrecord,  specalityfoldername: @speciality_folder_name, templatetype: @templatetype,source: 'opdrecord' } %>

    </div>

    <div class="col-md-4">

      <%= f.input :top20ordiagnosistree, wrapper_html: {:class=>"col-md-5 mb10"}, collection: [['Top 20','T'],['Diagnosis Tree','D']], :as => :hg_radio_button,:label => false, :required => false,:class => 'btn btn-xs btn-white top20ordiagnosistree', :input_html => {:name => "opdrecord[top20ordiagnosistree]" }, :checked => "T" %>

      <div class="row">

        <div class="col-md-11">

          <label for="top20diagnosis-label" class="top20diagnosis-label">Top 20 Knee Diagnosis</label>

          <%= select_tag "opdrecord[topdiagnosis]", options_for_select(@opdrecord.get_top_diagnosis_template, ""), { :class => 'form-control topdiagnosis', :id => "opdrecord_topdiagnosis", multiple: true, :size => '15', :style => 'height: 100%; width: 60;'} %>

        </div>

        <div class="col-md-12">

          <label for="diagnosistree-label" class="diagnosistree-label">Knee Diagnosis Directory</label>

          <ul class="tree tree-default-submit" id="myTree" role="tree">
            <li class="tree-branch hide tree-default-submit" data-template="treebranch" role="treeitem" aria-expanded="false">
              <div class="tree-branch-header">
                <button class="tree-branch-name">
                  <span class="glyphicon icon-caret glyphicon-play"></span>
                  <span class="glyphicon icon-folder glyphicon-folder-close"></span>
                  <span class="tree-label tree-default-submit"></span>
                </button>
              </div>
              <ul class="tree-branch-children" role="group"></ul>
              <div class="tree-loader" role="alert">Loading...</div>
            </li>
            <li class="tree-item hide tree-default-submit" data-template="treeitem" role="treeitem">
              <button class="tree-item-name">
                <span class="glyphicon icon-item fueluxicon-bullet"></span>
                <span class="tree-label tree-default-submit"></span>
              </button>
            </li>
          </ul>

        </div>

      </div>

    </div>

  </div>

  <div class="row">

    <div class="col-md-8">

      <label for="comments-textarealabel">Diagnosis Comments (free text)</label>
      <%= f.input :diagnosiscomments, as: :text,  :label => false, :required => false, :input_html => {:class => 'form-control', :rows => 2, :cols => 70, :required => false, :name => "opdrecord[diagnosiscomments]", :value => opdrecord.read_attribute(:diagnosiscomments) } %>

    </div>

  </div>   

</div>